function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{Vdnx:function(e,t,n){"use strict";n.r(t);var c=n("ofXK"),i=n("tyNb"),o=n("NutR"),r=n("Yt4J"),a=n("MXRh"),s=n("wbvY"),l=n("ThaB"),d=n("JK/P"),g=n("fXoL"),b=n("0IaG"),u=n("b6Qw"),p=n("668k"),m=n("8mtn"),C=n("3Pt+"),f=["confirmEmergencyRef"];function h(e,t){1&e&&g.Sb(0,"app-loader")}function v(e,t){if(1&e){var n=g.Xb();g.Wb(0,"div",14),g.Wb(1,"div",15),g.ic("click",(function(){g.Kc(n);var e=t.$implicit,c=g.mc(2);return c.showConfirmEmergency(e,c.getEmergencyType(e.lookupValueId))})),g.Wb(2,"div",16),g.Sb(3,"img",17),g.Vb(),g.Wb(4,"h4"),g.Tc(5),g.Vb(),g.Vb(),g.Vb()}if(2&e){var c=t.$implicit,i=g.mc(2);g.Cb(1),g.uc("ngClass",i.getEmergencyType(c.lookupValueId)),g.Cb(2),g.wc("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Mc),g.Cb(2),g.Uc(c.lookupValueName)}}var y=function(){return{exact:!0}};function O(e,t){if(1&e&&(g.Ub(0),g.Wb(1,"div",3),g.Wb(2,"h4"),g.Tc(3,"Hi "),g.Wb(4,"span",4),g.Tc(5),g.Vb(),g.Vb(),g.Wb(6,"h4"),g.Tc(7,"We are here to help you."),g.Vb(),g.Vb(),g.Wb(8,"a",5),g.Wb(9,"div",6),g.Wb(10,"div",7),g.Wb(11,"div",8),g.Sb(12,"img",9),g.Vb(),g.Wb(13,"h4",10),g.Tc(14,"Emergency Contacts"),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(15,"div",11),g.Wb(16,"h5"),g.Tc(17,"Select the emergency assistance needed"),g.Vb(),g.Wb(18,"div",12),g.Rc(19,v,6,3,"div",13),g.Vb(),g.Vb(),g.Tb()),2&e){var n=g.mc();g.Cb(5),g.Uc(n.userName),g.Cb(3),g.uc("routerLinkActiveOptions",g.Ac(3,y)),g.Cb(11),g.uc("ngForOf",n.emergencyList)}}function M(e,t){if(1&e){var n=g.Xb();g.Wb(0,"div",25),g.Wb(1,"div",26),g.Wb(2,"p"),g.Tc(3,"You have selected"),g.Vb(),g.Wb(4,"h4"),g.Tc(5),g.Vb(),g.Wb(6,"div",27),g.Sb(7,"img",28),g.Vb(),g.Vb(),g.Wb(8,"h5"),g.Tc(9,"Slide to confirm the assistance"),g.Vb(),g.Wb(10,"div"),g.Wb(11,"input",29),g.ic("ngModelChange",(function(e){return g.Kc(n),g.mc(2).rangeValue=e}))("ngModelChange",(function(){g.Kc(n);var e=g.mc().$implicit;return g.mc().getRangeValue(e)})),g.Vb(),g.Vb(),g.Vb()}if(2&e){var c=g.mc().$implicit,i=g.mc();g.Cb(5),g.Uc(c.lookupValueName),g.Cb(2),g.wc("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Mc),g.Cb(3),g.Gb("range-slider ",i.getEmergencyType(c.lookupValueId),""),g.Cb(1),g.uc("ngModel",i.rangeValue)}}function _(e,t){1&e&&(g.Wb(0,"div",30),g.Wb(1,"h4",31),g.Tc(2,"Request is in progress"),g.Vb(),g.Sb(3,"app-loader",32),g.Vb())}function P(e,t){if(1&e){var n=g.Xb();g.Wb(0,"div",33),g.Wb(1,"div",26),g.Wb(2,"p"),g.Tc(3,"You have requested"),g.Vb(),g.Wb(4,"h4"),g.Tc(5),g.Vb(),g.Wb(6,"div",27),g.Sb(7,"img",34),g.Vb(),g.Wb(8,"h5"),g.Tc(9,"Your location has been shared. Hold tight. Support is on the way"),g.Vb(),g.Wb(10,"div",35),g.Wb(11,"a",36),g.ic("click",(function(){return g.Kc(n),g.mc(2).closeAlertModal()})),g.Tc(12,"Ok"),g.Vb(),g.Wb(13,"a",37),g.ic("click",(function(){return g.Kc(n),g.mc(2).cancelEmergency()})),g.Tc(14,"Cancel Emergency"),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&e){var c=g.mc().$implicit,i=g.mc();g.Cb(5),g.Uc(c.lookupValueName),g.Cb(6),g.Gb("btn d-block tc-white mb-3 ",i.getEmergencyType(c.lookupValueId),"")}}function k(e,t){if(1&e){var n=g.Xb();g.Wb(0,"div",33),g.Wb(1,"div",26),g.Wb(2,"p"),g.Tc(3,"Your request for"),g.Vb(),g.Wb(4,"h4"),g.Tc(5),g.Vb(),g.Wb(6,"div",27),g.Sb(7,"img",28),g.Vb(),g.Wb(8,"h5"),g.Tc(9,"has been cancelled. Thanks for contacting us"),g.Vb(),g.Wb(10,"div",35),g.Wb(11,"a",36),g.ic("click",(function(){return g.Kc(n),g.mc(2).closeAlertModal()})),g.Tc(12,"Ok"),g.Vb(),g.Vb(),g.Vb(),g.Vb()}if(2&e){var c=g.mc().$implicit,i=g.mc();g.Cb(5),g.Uc(c.lookupValueName),g.Cb(2),g.wc("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Mc),g.Cb(4),g.Gb("btn d-block tc-white mb-3 ",i.getEmergencyType(c.lookupValueId),"")}}function V(e,t){if(1&e&&(g.Wb(0,"div",18),g.Wb(1,"div",19),g.Sb(2,"i-feather",20),g.Vb(),g.Wb(3,"div",21),g.Wb(4,"div"),g.Rc(5,M,12,6,"div",22),g.Rc(6,_,4,0,"div",23),g.Rc(7,P,15,4,"div",24),g.Rc(8,k,13,5,"div",24),g.Vb(),g.Vb(),g.Vb()),2&e){var n=t.$implicit,c=g.mc();g.Cb(4),g.Gb("card-body ",n.type,""),g.Cb(1),g.uc("ngIf",!c.isRangeDone&&!c.isRequestSuccess&&!c.isRequestDeleted),g.Cb(1),g.uc("ngIf",c.isRangeDone),g.Cb(1),g.uc("ngIf",c.isRequestSuccess&&!c.isRequestDeleted),g.Cb(1),g.uc("ngIf",c.isRequestDeleted)}}var I,w=((I=function(){function e(t,n,c,i,o,r,a,s,l){_classCallCheck(this,e),this.injector=t,this.dialog=n,this.router=c,this.alertService=i,this.userService=o,this.apartmentService=r,this.sharedService=a,this.lookupService=s,this.cookieService=l,this.isEmergenciesLoaded=!1,this.rangeValue=0,this.maxRange=10,this.isRangeDone=!1,this.isRequestSuccess=!1,this.isRequestDeleted=!1,this.modalService=this.injector.get(d.a)}return _createClass(e,[{key:"getEmergencyType",value:function(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}},{key:"getRangeValue",value:function(e){var t=this;if("100"==this.rangeValue){this.isRangeDone=!0;var n={apartmentBlockUnitId:this.apartmentBlockUnitId,receivedDate:"2019-12-06T13:45:09.296Z",alertTypeId:e.lookupValueId,location:"string",gpslocation:this.gpsLocation,assignedTo:0,alertStatusId:135,notes:"",isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-06T13:45:09.296Z",updatedBy:0,updatedOn:"2019-12-06T13:45:09.296Z"};this.alertService.addApartmentBlockUnitAlert(n).subscribe((function(e){e.message&&(t.isRangeDone=!1,t.isRequestSuccess=!0,t.alertId=e.message)}),(function(e){console.log(e)}))}}},{key:"closeAlertModal",value:function(){var e=this;this.confirmDialogRef.close(),this.confirmDialogRef.afterClosed().subscribe((function(t){e.router.navigateByUrl("user/alert-security/my-history")}))}},{key:"showConfirmEmergency",value:function(e,t){var n=this,c=e;c.type=t,this.confirmDialogRef=this.dialog.open(this.confirmEmergencyRef,{panelClass:"material",disableClose:!0,data:c}),this.confirmDialogRef.afterClosed().subscribe((function(e){n.isRangeDone=!1}))}},{key:"cancelEmergency",value:function(){var e=this;this.isRangeDone=!0;var t={apartmentBlockUnitAlertId:this.alertId,deleteBy:parseInt(this.cookieService.get("userId"))};this.alertService.deleteApartmentBlockUnitAlert(t).subscribe((function(t){t.message&&(e.isRangeDone=!1,e.isRequestDeleted=!0)}),(function(e){console.log(e)}))}},{key:"setCurrentLocation",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.gpsLocation=t.coords.latitude+","+t.coords.longitude}))}},{key:"ngOnInit",value:function(){var e=this;this.lookupService.getLookupValueByLookupTypeId(29).subscribe((function(t){e.isEmergenciesLoaded=!0,e.emergencyList=t})),this.userService.getUserById(parseInt(this.cookieService.get("userId"))).subscribe((function(t){e.userName=t[0].firstName,e.apartmentService.getApartmentBlockUnitByUserId(parseInt(e.cookieService.get("userId"))).subscribe((function(t){e.apartmentBlockUnitId=t[0].apartmentBlockUnitId}),(function(e){console.log(e)}))}),(function(e){console.log(e)})),this.setCurrentLocation()}}]),e}()).\u0275fac=function(e){return new(e||I)(g.Rb(g.r),g.Rb(b.b),g.Rb(i.c),g.Rb(a.a),g.Rb(o.a),g.Rb(r.a),g.Rb(s.a),g.Rb(l.a),g.Rb(u.a))},I.\u0275cmp=g.Lb({type:I,selectors:[["app-send-panic-alert"]],viewQuery:function(e,t){var n;1&e&&g.Zc(f,!0),2&e&&g.Gc(n=g.jc())&&(t.confirmEmergencyRef=n.first)},decls:5,vars:2,consts:[[1,"send-panic-wrapper"],[4,"ngIf"],["confirmEmergencyRef",""],[1,"message-box"],[1,"text-capitialize"],["href","javascript:void(0)","routerLink","/user/alert-security/emergency-contacts","routerLinkActive","active",1,"n-text",3,"routerLinkActiveOptions"],[1,"card","e-card"],[1,"card-body"],[1,"icon","float-left"],["src","assets/images/siren-new-icon.svg"],[1,"float-left"],[1,"alert-lists"],[1,"alerts","d-flex"],["class","box card sos-card",4,"ngFor","ngForOf"],[1,"box","card","sos-card"],[1,"card-body",3,"ngClass","click"],[1,"icon"],[3,"src"],[1,"emergency-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"card"],["class","details-wrapper",4,"ngIf"],["class","request-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"details-wrapper"],[1,"details","text-center"],[1,"image-wrapper","text-center"],["width","70",3,"src"],["type","range",3,"ngModel","ngModelChange"],[1,"request-message"],[1,"mb-4"],["color","white"],[1,"success-message"],["src","assets/images/checked-icon.svg","width","70"],[1,"btn-wrapper"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",1,"btn","d-block","tc-white",3,"click"]],template:function(e,t){1&e&&(g.Wb(0,"div",0),g.Rc(1,h,1,0,"app-loader",1),g.Rc(2,O,20,4,"ng-container",1),g.Rc(3,V,9,7,"ng-template",null,2,g.Sc),g.Vb()),2&e&&(g.Cb(1),g.uc("ngIf",!t.isEmergenciesLoaded),g.Cb(1),g.uc("ngIf",t.isEmergenciesLoaded))},directives:[c.l,p.a,i.e,i.d,c.k,c.j,b.c,m.b,C.v,C.d,C.n,C.q],styles:['.send-panic-wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#191c1e;margin:0 0 4px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]{margin:30px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;color:#8391a1}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]{margin:20px 0 0;flex-direction:column}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px 20px;color:#fff;position:relative;cursor:pointer}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;background-size:62%;opacity:.2;-moz-opacity:.2;-webkit-opacity:.2;background-repeat:no-repeat;background-position:right -73px;left:20%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{background-size:25%;background-position:right -60px;left:0}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:68%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:32%}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]{background:#00bcd4;background:linear-gradient(135deg,#00bcd4,#2196f3)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/medical-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-1px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]{background:#f7d061;background:linear-gradient(135deg,#f7d061,#ef60a5)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/theft-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]{background:#ff9800;background:linear-gradient(135deg,#ff9800,#e91e63)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/fire-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]{background:#64a1fd;background:linear-gradient(135deg,#64a1fd,#9100ff)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/shooter-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#06bf58)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/police-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.other[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#37e785)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{float:left}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-3px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]{margin:35px 0 40px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:25px 20px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-9px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem}']}),I),W=n("F/us"),x=n("wd/R"),S=n("NhFE"),T=n("bvAq");function R(e,t){1&e&&g.Sb(0,"app-loader")}function L(e,t){if(1&e&&(g.Wb(0,"tr"),g.Wb(1,"td",11),g.Wb(2,"div",12),g.Wb(3,"div"),g.Sb(4,"img",13),g.Vb(),g.Wb(5,"div",14),g.Wb(6,"div"),g.Tc(7),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Wb(8,"td",15),g.Tc(9),g.Vb(),g.Wb(10,"td",15),g.Wb(11,"span",16),g.Tc(12),g.Vb(),g.Vb(),g.Vb()),2&e){var n=t.$implicit,c=g.mc(2);g.Cb(3),g.Gb("s-circle ",c.getEmergencyType(n.alertTypeId)," text-center"),g.Cb(1),g.wc("src","assets/images/",c.getEmergencyType(n.alertTypeId),"-e-icon.svg",g.Mc),g.Cb(3),g.Uc(c.getAlertName(n.alertTypeId)),g.Cb(2),g.Uc(c.getDate(n.receivedDate)),g.Cb(2),g.uc("ngClass",c.getAlertStatus(n.alertStatusId)),g.Cb(1),g.Uc(c.getAlertStatus(n.alertStatusId))}}function E(e,t){if(1&e){var n=g.Xb();g.Ub(0),g.Wb(1,"div",2),g.Wb(2,"div",3),g.Wb(3,"div",4),g.Wb(4,"h5"),g.Tc(5,"My History"),g.Vb(),g.Vb(),g.Vb(),g.Wb(6,"div",5),g.Wb(7,"table",6),g.Wb(8,"thead"),g.Wb(9,"tr"),g.Wb(10,"th",7),g.ic("click",(function(){return g.Kc(n),g.mc().sortUnitData("alertName")})),g.Tc(11,"Type "),g.Sb(12,"span",8),g.Vb(),g.Wb(13,"th",7),g.ic("click",(function(){return g.Kc(n),g.mc().sortUnitData("date")})),g.Tc(14,"Date "),g.Sb(15,"span",8),g.Vb(),g.Wb(16,"th",7),g.ic("click",(function(){return g.Kc(n),g.mc().sortUnitData("status")})),g.Tc(17,"Status "),g.Sb(18,"span",8),g.Vb(),g.Vb(),g.Vb(),g.Wb(19,"tbody"),g.Rc(20,L,13,8,"tr",9),g.nc(21,"slice"),g.nc(22,"orderBy"),g.Vb(),g.Vb(),g.Wb(23,"app-pagination",10),g.ic("outputParams",(function(e){return g.Kc(n),g.mc().getIndexParams(e)})),g.Vb(),g.Vb(),g.Vb(),g.Tb()}if(2&e){var c=g.mc();g.Cb(12),g.uc("ngClass",c.getFieldOrderBy("alertName")),g.Cb(3),g.uc("ngClass",c.getFieldOrderBy("date")),g.Cb(3),g.uc("ngClass",c.getFieldOrderBy("status")),g.Cb(2),g.uc("ngForOf",g.qc(21,8,g.qc(22,12,c.alertList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex)),g.Cb(3),g.uc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function U(e,t){1&e&&g.Sb(0,"app-loader")}function A(e,t){if(1&e&&(g.Ub(0),g.Wb(1,"li",7),g.Wb(2,"div",8),g.Sb(3,"img",9),g.Wb(4,"div",10),g.Wb(5,"h6",11),g.Tc(6),g.Vb(),g.Wb(7,"p"),g.Tc(8),g.Vb(),g.Vb(),g.Vb(),g.Vb(),g.Tb()),2&e){var n=t.$implicit;g.Cb(6),g.Uc(n.contactCategory),g.Cb(2),g.Uc(n.contactNumber)}}function B(e,t){if(1&e&&(g.Ub(0),g.Wb(1,"div",2),g.Wb(2,"div",3),g.Wb(3,"div",4),g.Wb(4,"h5"),g.Tc(5,"Emergency Contact Numbers"),g.Vb(),g.Vb(),g.Vb(),g.Wb(6,"div",5),g.Rc(7,A,9,2,"ng-container",6),g.Vb(),g.Vb(),g.Tb()),2&e){var n=g.mc();g.Cb(7),g.uc("ngForOf",n.emergencyList)}}var D,N,F,q,K=[{path:"",redirectTo:"send-panic-alert",pathMatch:"full"},{path:"send-panic-alert",component:w},{path:"my-history",component:(N=function(){function e(t,n,c,i,o){_classCallCheck(this,e),this.apartmentService=t,this.alertService=n,this.lookupService=c,this.sharedService=i,this.cookieService=o,this.isAlertsLoaded=!1,this.ItemStartIndex=0,this.itemLimit=10,this.unitFieldType="unitno",this.unitOrder=!1,this.isMobile=!1}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"getEmergencyType",value:function(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}},{key:"getAlertName",value:function(e){var t=W.filter(this.emergencyTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}},{key:"getAlertStatus",value:function(e){var t=W.filter(this.alertTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}},{key:"getDate",value:function(e){return x(e).format("MM-DD-YYYY, h:mm A")}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"ngOnInit",value:function(){var e=this;this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe((function(t){e.apartmentBlockUnitId=t[0].apartmentBlockUnitId,e.alertService.getAllApartmentBlockUnitAlertByApartmentBlockUnitId(e.apartmentBlockUnitId).subscribe((function(t){e.alertList=t.filter((function(e){return e.isActive})),e.totalItems=e.alertList.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isAlertsLoaded=!0,console.log(e.alertList)}),(function(e){console.log(e)}))}),(function(e){console.log(e)})),this.lookupService.getLookupValueByLookupTypeId(29).subscribe((function(t){e.emergencyTypeList=t})),this.lookupService.getLookupValueByLookupTypeId(30).subscribe((function(t){e.alertTypeList=t}))}}]),e}(),N.\u0275fac=function(e){return new(e||N)(g.Rb(r.a),g.Rb(a.a),g.Rb(l.a),g.Rb(s.a),g.Rb(u.a))},N.\u0275cmp=g.Lb({type:N,selectors:[["app-security-my-history"]],decls:3,vars:2,consts:[[1,"secuirty-my-history-wrapper"],[4,"ngIf"],[1,"card","clear","table-card"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"media"],["width","14",3,"src"],[1,"media-body"],[1,"grey"],[1,"badge","small","text-uppercase","min",3,"ngClass"]],template:function(e,t){1&e&&(g.Wb(0,"div",0),g.Rc(1,R,1,0,"app-loader",1),g.Rc(2,E,24,16,"ng-container",1),g.Vb()),2&e&&(g.Cb(1),g.uc("ngIf",!t.isAlertsLoaded),g.Cb(1),g.uc("ngIf",t.isAlertsLoaded))},directives:[c.l,p.a,c.j,c.k,S.a],pipes:[c.t,T.b],styles:[""]}),N)},{path:"emergency-contacts",component:(D=function(){function e(t,n,c,i){_classCallCheck(this,e),this.alertService=t,this.sharedService=n,this.lookupService=c,this.cookieService=i,this.isContactsLoaded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.alertService.getAllAlertEmergencyNumbers().subscribe((function(t){e.isContactsLoaded=!0,e.emergencyList=t}),(function(e){console.log(e)}))}}]),e}(),D.\u0275fac=function(e){return new(e||D)(g.Rb(a.a),g.Rb(s.a),g.Rb(l.a),g.Rb(u.a))},D.\u0275cmp=g.Lb({type:D,selectors:[["app-security-emergency-contact-numbers"]],decls:3,vars:2,consts:[[1,"emergency-contacts-wrapper"],[4,"ngIf"],[1,"card"],[1,"card-header","no-border"],[1,"float-left"],[1,"card-body","p-0","lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"media"],["src","assets/images/user-icon.svg","width","22",1,"mr-4"],[1,"media-body"],[1,"mb-2"]],template:function(e,t){1&e&&(g.Wb(0,"div",0),g.Rc(1,U,1,0,"app-loader",1),g.Rc(2,B,8,1,"ng-container",1),g.Vb()),2&e&&(g.Cb(1),g.uc("ngIf",!t.isContactsLoaded),g.Cb(1),g.uc("ngIf",t.isContactsLoaded))},directives:[c.l,p.a,c.k],styles:[""]}),D)},{path:"**",redirectTo:"send-panic-alert",pathMatch:"full"}],j=((F=function e(){_classCallCheck(this,e)}).\u0275mod=g.Pb({type:F}),F.\u0275inj=g.Ob({factory:function(e){return new(e||F)},imports:[[i.f.forChild(K)],i.f]}),F),z=n("PCNd"),Y=((q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||q)},q.\u0275cmp=g.Lb({type:q,selectors:[["app-alert-security"]],decls:1,vars:0,template:function(e,t){1&e&&g.Sb(0,"router-outlet")},directives:[i.g],styles:[""]}),q);n.d(t,"AlertSecurityModule",(function(){return X}));var $,X=(($=function e(){_classCallCheck(this,e)}).\u0275mod=g.Pb({type:$,bootstrap:[Y]}),$.\u0275inj=g.Ob({factory:function(e){return new(e||$)},imports:[[c.b,z.a,j]]}),$)}}]);