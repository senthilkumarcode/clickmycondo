function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{aItB:function(e,t,n){"use strict";n.r(t);var a=n("ofXK"),s=n("tyNb"),i=n("UJKs"),o=n("ThaB"),r=n("wbvY"),c=n("F/us"),l=n("fXoL"),d=n("b6Qw"),u=n("668k"),b=n("8mtn"),g=n("wlDI"),p=n("3Pt+");function m(e,t){1&e&&l.Sb(0,"app-loader")}var f=function(){return{exact:!0}};function h(e,t){if(1&e){var n=l.Xb();l.Ub(0),l.Wb(1,"li",7),l.Wb(2,"div",8),l.Wb(3,"div",13),l.Wb(4,"div",14),l.Wb(5,"a",15),l.Sb(6,"i-feather",16),l.Vb(),l.Wb(7,"a",17),l.Wb(8,"i-feather",18),l.ic("click",(function(){l.Kc(n);var e=t.$implicit,a=t.index;return l.mc(2).updateAssetCategory(e,a)})),l.Vb(),l.Vb(),l.Wb(9,"a",19),l.Wb(10,"i-feather",20),l.ic("click",(function(){l.Kc(n);var e=t.$implicit;return l.mc(2).deleteAssetCategory(e)})),l.Vb(),l.Vb(),l.Vb(),l.Wb(11,"h6"),l.Tc(12),l.Vb(),l.Wb(13,"p"),l.Tc(14),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Tb()}if(2&e){var a=t.$implicit;l.Cb(5),l.wc("routerLink","/ams/assets/view/",a.lookupValueId,""),l.uc("routerLinkActiveOptions",l.Ac(4,f)),l.Cb(7),l.Uc(a.lookupValueName),l.Cb(2),l.Vc("",a.assetCount," Assets")}}function v(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",4),l.Wb(1,"h4",5),l.Tc(2,"Asset Categories"),l.Vb(),l.Rc(3,h,15,5,"ng-container",6),l.Wb(4,"li",7),l.Wb(5,"div",8),l.Wb(6,"div",9),l.Wb(7,"a",10),l.ic("click",(function(){return l.Kc(n),l.mc().addNewAssetCategory()})),l.Wb(8,"div",11),l.Tc(9,"+"),l.Vb(),l.Vb(),l.Wb(10,"h6",12),l.Tc(11,"Add New Category"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=l.mc();l.Cb(3),l.uc("ngForOf",a.assetCategoryData)}}function C(e,t){1&e&&(l.Wb(0,"h6"),l.Tc(1,"Add Asset Category"),l.Vb())}function M(e,t){1&e&&(l.Wb(0,"h6"),l.Tc(1,"Update Asset Category"),l.Vb())}function y(e,t){1&e&&l.Sb(0,"app-loader")}function V(e,t){if(1&e){var n=l.Xb();l.Ub(0),l.Wb(1,"form",28,29),l.ic("ngSubmit",(function(){l.Kc(n);var e=l.Hc(2);return l.mc(2).submitAssetCategoryForm(e)})),l.Wb(3,"div",30),l.Wb(4,"div",31),l.Wb(5,"div",32),l.Wb(6,"label"),l.Tc(7,"Category Type*"),l.Vb(),l.Wb(8,"input",33),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc(2).assetCategory=e})),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(9,"div",30),l.Wb(10,"div",34),l.Wb(11,"ul",35),l.Wb(12,"li",7),l.Wb(13,"button",36),l.Tc(14,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Tb()}if(2&e){var a=l.Hc(2),s=l.mc(2);l.Cb(8),l.uc("ngModel",s.assetCategory),l.Cb(5),l.uc("disabled",a.invalid)}}function I(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",21),l.Wb(1,"div",22),l.Wb(2,"div",23),l.Rc(3,C,2,0,"h6",1),l.Rc(4,M,2,0,"h6",1),l.Vb(),l.Wb(5,"div",24),l.ic("click",(function(){return l.Kc(n),l.mc().removeCategoryBox()})),l.Sb(6,"i-feather",25),l.Vb(),l.Vb(),l.Wb(7,"div",26),l.Sb(8,"app-alert-message",27),l.Rc(9,y,1,0,"app-loader",1),l.Rc(10,V,15,2,"ng-container",1),l.Vb(),l.Vb()}if(2&e){var a=l.mc();l.Cb(3),l.uc("ngIf",a.isAssetCategoryNew),l.Cb(1),l.uc("ngIf",!a.isAssetCategoryNew),l.Cb(4),l.uc("message",a.alertTicketMessage)("isError",a.isCategoryError)("isSuccess",a.isCategorySuccess),l.Cb(1),l.uc("ngIf",!a.isAssetCategorySubmitted),l.Cb(1),l.uc("ngIf",a.isAssetCategorySubmitted)}}var W,k=((W=function(){function e(t,n,a,s){_classCallCheck(this,e),this.assetService=t,this.lookupService=n,this.sharedService=a,this.cookieService=s,this.isAssetCategoryLoaded=!1,this.isAssetCategorySubmitted=!0,this.isAssetCategoryNew=!1,this.isAssetCategoryUpdate=!1,this.assetCategory="",this.assetCategoryUpdateId=0,this.alertTicketMessage="",this.isCategoryError=!1,this.isCategorySuccess=!1}return _createClass(e,[{key:"addNewAssetCategory",value:function(){this.isAssetCategoryNew=!0,this.isAssetCategoryUpdate=!1}},{key:"updateAssetCategory",value:function(e){this.isAssetCategoryUpdate=!0,this.isAssetCategoryNew=!1,this.assetCategory=e.lookupValueName,this.assetCategoryUpdateId=e.lookupValueId}},{key:"deleteAssetCategory",value:function(e,t){var n=this;this.isAssetCategoryLoaded=!1,console.log(e);var a={lookupValueId:e.lookupValueId,updateUserId:parseInt(this.cookieService.get("userId"))};this.lookupService.deleteLookupvalue(a).subscribe((function(e){n.assetCategoryData.splice(t,1),n.isAssetCategoryLoaded=!0}))}},{key:"removeCategoryBox",value:function(){this.isAssetCategoryNew=!1,this.isAssetCategoryUpdate=!1,this.isCategoryError=!1}},{key:"submitAssetCategoryForm",value:function(e){var t=this;if(this.isAssetCategorySubmitted=!1,this.isAssetCategoryNew){var n={lookupTypeId:19,lookupValueName:this.assetCategory,description:this.assetCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-20T16:51:24.105Z",updatedBy:0,updatedOn:"2019-11-20T16:51:24.105Z"};this.lookupService.addLookupValue(n).subscribe((function(e){e.message?t.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(e){t.isAssetCategorySubmitted=!0,t.isCategorySuccess=!0,t.alertTicketMessage="Category Added Successfully!",t.assetCategoryData=e.filter((function(e){return e.isActive}))})):(t.isAssetCategorySubmitted=!0,t.isCategoryError=!0,t.alertTicketMessage=e.errorMessage)}))}else{var a={lookupValueId:this.assetCategoryUpdateId,lookupTypeId:19,lookupValueName:this.assetCategory,description:this.assetCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-20T16:51:24.105Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-20T16:51:24.105Z"};this.lookupService.updateLookupValue(a).subscribe((function(e){e.message?t.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(e){t.isAssetCategorySubmitted=!0,t.isCategorySuccess=!0,t.alertTicketMessage="Category Updated Successfully!",t.assetCategoryData=e.filter((function(e){return e.isActive}))})):(t.isAssetCategorySubmitted=!0,t.isCategoryError=!0,t.alertTicketMessage=e.errorMessage)}))}}},{key:"ngOnInit",value:function(){var e=this;this.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(t){e.isAssetCategoryLoaded=!0,e.assetCategoryData=t.filter((function(e){return e.isActive})),c.each(e.assetCategoryData,(function(t){e.assetService.getAllAssetByCategoryId(t.lookupValueId).subscribe((function(e){t.assetCount=null==e||0==e.length?0:e.length}),(function(e){}))}))}))}}]),e}()).\u0275fac=function(e){return new(e||W)(l.Rb(i.a),l.Rb(o.a),l.Rb(r.a),l.Rb(d.a))},W.\u0275cmp=l.Lb({type:W,selectors:[["app-assets-setup"]],decls:4,vars:3,consts:[[1,"assets-setup-wrapper"],[4,"ngIf"],["class","category-list list-boxes",4,"ngIf"],["class","card mt-30",4,"ngIf"],[1,"category-list","list-boxes"],[1,"main-title-mini"],[4,"ngFor","ngForOf"],[1,"list-inline-item"],[1,"card"],[1,"card-body","new","text-center"],["href","javascript:void(0)",1,"rounded-btn","green",3,"click"],[1,"icon"],[1,"tc-green"],[1,"card-body","nohover"],[1,"icons"],["href","javascript:void(0)","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["name","eye",1,"icon","view"],["href","javascript:void(0)"],["name","edit",1,"icon","edit",3,"click"],["href","javascript:void(0)",1,"d-none"],["name","x",1,"icon","del",3,"click"],[1,"card","mt-30"],[1,"card-header"],[1,"float-left"],[1,"float-right",3,"click"],["name","x",1,"icon","del"],[1,"card-body"],[3,"message","isError","isSuccess"],["name","addAssetCategoryForm","novalidate","",3,"ngSubmit"],["addAssetCategoryForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter","name","assetCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Rc(1,m,1,0,"app-loader",1),l.Rc(2,v,12,1,"div",2),l.Rc(3,I,11,7,"div",3),l.Vb()),2&e&&(l.Cb(1),l.uc("ngIf",!t.isAssetCategoryLoaded),l.Cb(1),l.uc("ngIf",t.isAssetCategoryLoaded),l.Cb(1),l.uc("ngIf",t.isAssetCategoryNew||t.isAssetCategoryUpdate))},directives:[a.l,u.a,a.k,s.e,s.d,b.b,g.a,p.B,p.o,p.p,p.d,p.x,p.n,p.q],styles:[""]}),W),S=n("7229"),A=n("BR9Y"),T=n("BniF");function w(e,t){1&e&&(l.Wb(0,"span"),l.Tc(1,"Create Asset"),l.Vb())}function O(e,t){1&e&&(l.Wb(0,"span"),l.Tc(1,"Edit Asset"),l.Vb())}function D(e,t){if(1&e&&(l.Wb(0,"option",71),l.Tc(1),l.Vb()),2&e){var n=t.$implicit;l.uc("value",n.lookupValueId),l.Cb(1),l.Uc(n.lookupValueName)}}function x(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div"),l.Wb(1,"span",74),l.Tc(2),l.Vb(),l.Wb(3,"span",75),l.Tc(4),l.Vb(),l.Wb(5,"i-feather",76),l.ic("click",(function(){l.Kc(n);var e=t.index;return l.mc(2).deleteFile(e)})),l.Vb(),l.Vb()}if(2&e){var a=t.$implicit,s=l.mc(2);l.Cb(2),l.Uc(a.name),l.Cb(2),l.Uc(s.bytesToSize(a.size))}}function L(e,t){if(1&e&&(l.Wb(0,"div",72),l.Rc(1,x,6,2,"div",73),l.Vb()),2&e){var n=l.mc();l.Cb(1),l.uc("ngForOf",n.listOfFiles)}}function P(e,t){if(1&e&&(l.Wb(0,"option",71),l.Tc(1),l.Vb()),2&e){var n=t.$implicit;l.uc("value",n.vendorId),l.Cb(1),l.Uc(n.vendorName)}}var N,_,F=function(){return{exact:!0}},R=((_=function(){function e(t,n,a,s,i,o,r){_classCallCheck(this,e),this.router=t,this.route=n,this.assetService=a,this.vendorService=s,this.lookupService=i,this.sharedService=o,this.cookieService=r,this.isFileAdded=!1,this.fileList=[],this.listOfFiles=[],this.assetStatus="",this.isEditAsset=!1,this.isAssetSubmitted=!1,this.isError=!1,this.alertMessage=""}return _createClass(e,[{key:"uploadFile",value:function(e){this.isFileAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var n=e.target.files[t];this.fileList.push(n),this.listOfFiles.push({name:n.name,size:n.size})}}},{key:"deleteFile",value:function(e){this.listOfFiles.splice(e,1),this.fileList.splice(e,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}},{key:"bytesToSize",value:function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"}},{key:"submitAddAssetForm",value:function(e){var t=this;if(this.isEditAsset){var n={assetId:this.asset.assetId,apartmentId:parseInt(this.cookieService.get("apartmentId")),assetTagNo:this.asset.assetTagNo,assetCategoryId:parseInt(this.asset.assetCategoryId),assetName:this.asset.assetName,manufacturerDetails:this.asset.manufacturerDetails,modelNo:this.asset.modelNo,assetConditionId:parseInt(this.asset.assetConditionId),assetLocation:this.asset.assetLocation,depreciationPercentage:parseInt(this.asset.depreciationPercentage),assetImageId:1,installationDate:this.asset.installationDate,vendorId:parseInt(this.asset.vendorId),purchaseOrderNo:this.asset.purchaseOrderNo,purchaseDate:this.asset.purchaseDate,purchaseCost:parseInt(this.asset.purchaseCost),warrantyMonths:parseInt(this.asset.warrantyMonths),retiredOn:this.asset.retiredOn,comments:this.asset.comments,isActive:this.asset.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString(),serialNo:this.asset.serialNo,assetDescription1:"string",assetDescription2:"string",unitOfMeasure:null,quantity:null,costCenter:null,inventoryNumber:null,salvageValue:null,assetTypeId:null,assetSubcategoryId:null,assetOwnerId:null,isLeased:this.asset.isLeased,totalAssetPrice:null,contractNumber:"string",contractExpirydate:"2020-02-03T08:13:52.526Z",contractAmount:null,contractPaymentTerm:"string",costCenterid:null};this.assetService.updateAssetAsync({file:this.fileList[0],asset:n}).subscribe((function(e){e.message?(t.isAssetSubmitted=!1,t.sharedService.setAlertMessage("Asset updated successfully"),t.router.navigate(["ams/assets/view"])):(t.isAssetSubmitted=!1,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isAssetSubmitted=!1,t.isError=!0,t.alertMessage="Some error occured"}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),assetTagNo:this.asset.assetTagNo,assetCategoryId:parseInt(this.asset.assetCategoryId),assetName:this.asset.assetName,manufacturerDetails:this.asset.manufacturerDetails,modelNo:this.asset.modelNo,assetConditionId:parseInt(this.asset.assetConditionId),assetLocation:this.asset.assetLocation,depreciationPercentage:parseInt(this.asset.depreciationPercentage),assetImageId:1,installationDate:this.asset.installationDate,vendorId:parseInt(this.asset.vendorId),purchaseOrderNo:this.asset.purchaseOrderNo,purchaseDate:this.asset.purchaseDate,purchaseCost:parseInt(this.asset.purchaseCost),warrantyMonths:parseInt(this.asset.warrantyMonths),retiredOn:this.asset.retiredOn,comments:this.asset.comments,isActive:this.asset.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString(),serialNo:this.asset.serialNo,assetDescription1:"string",assetDescription2:"string",unitOfMeasure:null,quantity:null,costCenter:null,inventoryNumber:null,salvageValue:null,assetTypeId:null,assetSubcategoryId:null,assetOwnerId:null,isLeased:this.asset.isLeased,totalAssetPrice:null,contractNumber:"string",contractExpirydate:"2020-02-03T08:13:52.526Z",contractAmount:null,contractPaymentTerm:"string",costCenterid:null};this.assetService.addAssetAsync({file:this.fileList[0],asset:a}).subscribe((function(e){e.message?(t.isAssetSubmitted=!1,t.sharedService.setAlertMessage("Asset added successfully"),t.router.navigate(["ams/assets/view"])):(t.isAssetSubmitted=!1,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isAssetSubmitted=!1,t.isError=!0,t.alertMessage="Some error occured"}))}}},{key:"ngOnInit",value:function(){var e=this;this.asset={},this.asset.assetCategoryId="",this.asset.assetConditionId="",this.asset.vendorId="",null!=this.route.params.value.id&&(this.isEditAsset=!0,this.assetService.getAllAssetByAssetId(this.route.params.value.id).subscribe((function(t){e.asset=t[0]}))),this.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(t){e.assetCategoryData=t.filter((function(e){return e.isActive}))})),this.vendorService.getVendorByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.vendorDataList=t.filter((function(e){return e.isActive}))})),this.lookupService.getLookupValueByLookupTypeId(64).subscribe((function(t){e.statusTypeData=t}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||_)(l.Rb(s.c),l.Rb(s.a),l.Rb(i.a),l.Rb(S.a),l.Rb(o.a),l.Rb(r.a),l.Rb(d.a))},_.\u0275cmp=l.Lb({type:_,selectors:[["app-assets-create"]],decls:174,vars:46,consts:[[1,"assets-create-wrapper"],["name","addAssetForm","novalidate","",3,"ngSubmit"],["addAssetForm","ngForm"],[1,"main-title-mini","float-left","mt-3"],[4,"ngIf"],[1,"relative-card","float-right"],[1,"relative-icon"],["href","javascript:void(0)","routerLink","/ams/assets/view","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper"],["src","assets/images/boxes-icon.svg","width","17",1,"svg"],[1,"d-inline-block"],["id","accordion",1,"card","clear","mb-30"],[1,"card-body","p-0"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#assetCollapseOne","aria-expanded","true","aria-controls","collapseOne",1,"list-group-item"],["id","assetCollapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse","show"],[1,"details"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter","name","assetTagNo","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","assetCategory","id","assetCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Enter","name","assetName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter","name","ManufacturerDetails","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter","name","modelNo","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","assetConditionId","id","used","value","103","type","radio","required","",3,"ngModel","ngModelChange"],["for","used",1,"radio-inline"],["name","assetConditionId","id","new","value","105","type","radio","required","",3,"ngModel","ngModelChange"],["for","new",1,"radio-inline"],["type","text","placeholder","Enter","name","assetLocation",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter","name","depreciation","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","purchaseDate","placeholder","Date","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["installationDate",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["name","assetStatus","id","inactive","type","radio","required","",3,"ngModel","value","ngModelChange"],["for","inactive",1,"radio-inline"],["name","assetStatus","id","active","type","radio","required","",3,"ngModel","value","ngModelChange"],["for","active",1,"radio-inline"],["name","retiredOnDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["retiredOnDate",""],[1,"col-sm-6"],["placeholder","some text here","name","staffComments",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["type","file","multiple","",1,"form-control",3,"ngModel","change","ngModelChange"],["uploader",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],["data-toggle","collapse","data-target","#assetCollapseTwo","aria-expanded","true","aria-controls","collapseOne",1,"list-group-item","collapsed"],["id","assetCollapseTwo","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["name","vendorId","id","vendorId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter","name","purchaseOrderNo","required","",1,"form-control",3,"ngModel","ngModelChange"],["purchaseDate",""],[1,"date-btn"],["type","text","placeholder","Enter","name","purchaseCost","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter","name","warrantyMonths","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter","name","serialNo","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","isLeased","id","Yes","type","radio",3,"ngModel","value","ngModelChange"],["for","Yes",1,"radio-inline"],["name","isLeased","id","No","type","radio",3,"ngModel","value","ngModelChange"],["for","No",1,"radio-inline"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],[1,"file-desp"],[4,"ngFor","ngForOf"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"]],template:function(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",0),l.Wb(1,"form",1,2),l.ic("ngSubmit",(function(){l.Kc(n);var e=l.Hc(2);return t.submitAddAssetForm(e)})),l.Wb(3,"h4",3),l.Rc(4,w,2,0,"span",4),l.Rc(5,O,2,0,"span",4),l.Vb(),l.Wb(6,"div",5),l.Wb(7,"div",6),l.Wb(8,"a",7),l.Wb(9,"div",8),l.Sb(10,"img",9),l.Vb(),l.Wb(11,"span",10),l.Tc(12,"View Assets"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(13,"div",11),l.Wb(14,"div",12),l.Wb(15,"ul",13),l.Wb(16,"li",14),l.Tc(17,"General"),l.Vb(),l.Wb(18,"div",15),l.Wb(19,"div",16),l.Wb(20,"div",17),l.Wb(21,"div",18),l.Wb(22,"div",19),l.Wb(23,"label"),l.Tc(24,"Asset tag No*"),l.Vb(),l.Wb(25,"input",20),l.ic("ngModelChange",(function(e){return t.asset.assetTagNo=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(26,"div",18),l.Wb(27,"div",21),l.Wb(28,"label"),l.Tc(29,"Asset Category*"),l.Vb(),l.Wb(30,"select",22),l.ic("ngModelChange",(function(e){return t.asset.assetCategoryId=e})),l.Wb(31,"option",23),l.Tc(32,"Select"),l.Vb(),l.Rc(33,D,2,2,"option",24),l.Vb(),l.Vb(),l.Vb(),l.Wb(34,"div",18),l.Wb(35,"div",19),l.Wb(36,"label"),l.Tc(37,"Asset Name*"),l.Vb(),l.Wb(38,"input",25),l.ic("ngModelChange",(function(e){return t.asset.assetName=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(39,"div",18),l.Wb(40,"div",19),l.Wb(41,"label"),l.Tc(42,"Manufacturer Details*"),l.Vb(),l.Wb(43,"input",26),l.ic("ngModelChange",(function(e){return t.asset.manufacturerDetails=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(44,"div",18),l.Wb(45,"div",19),l.Wb(46,"label"),l.Tc(47,"Model No*"),l.Vb(),l.Wb(48,"input",27),l.ic("ngModelChange",(function(e){return t.asset.modelNo=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(49,"div",18),l.Wb(50,"div",28),l.Wb(51,"label"),l.Tc(52,"Condition*"),l.Vb(),l.Wb(53,"div",29),l.Wb(54,"input",30),l.ic("ngModelChange",(function(e){return t.asset.assetConditionId=e})),l.Vb(),l.Wb(55,"label",31),l.Tc(56,"Used"),l.Vb(),l.Vb(),l.Wb(57,"div",29),l.Wb(58,"input",32),l.ic("ngModelChange",(function(e){return t.asset.assetConditionId=e})),l.Vb(),l.Wb(59,"label",33),l.Tc(60,"New"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(61,"div",18),l.Wb(62,"div",19),l.Wb(63,"label"),l.Tc(64,"Asset Location"),l.Vb(),l.Wb(65,"input",34),l.ic("ngModelChange",(function(e){return t.asset.assetLocation=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(66,"div",18),l.Wb(67,"div",19),l.Wb(68,"label"),l.Tc(69,"Depreciation (in percentage)*"),l.Vb(),l.Wb(70,"input",35),l.ic("ngModelChange",(function(e){return t.asset.depreciationPercentage=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(71,"div",18),l.Wb(72,"div",19),l.Wb(73,"label"),l.Tc(74,"Installation Date*"),l.Vb(),l.Wb(75,"input",36),l.ic("ngModelChange",(function(e){return t.asset.installationDate=e})),l.Vb(),l.Sb(76,"owl-date-time",37,38),l.Wb(78,"div",39),l.Sb(79,"i-feather",40),l.Vb(),l.Vb(),l.Vb(),l.Wb(80,"div",18),l.Wb(81,"div",28),l.Wb(82,"label"),l.Tc(83,"Status*"),l.Vb(),l.Wb(84,"div",29),l.Wb(85,"input",41),l.ic("ngModelChange",(function(e){return t.asset.isActive=e})),l.Vb(),l.Wb(86,"label",42),l.Tc(87,"Inactive"),l.Vb(),l.Vb(),l.Wb(88,"div",29),l.Wb(89,"input",43),l.ic("ngModelChange",(function(e){return t.asset.isActive=e})),l.Vb(),l.Wb(90,"label",44),l.Tc(91,"Active"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(92,"div",18),l.Wb(93,"div",19),l.Wb(94,"label"),l.Tc(95,"Retired No"),l.Vb(),l.Wb(96,"input",45),l.ic("ngModelChange",(function(e){return t.asset.retiredOn=e})),l.Vb(),l.Sb(97,"owl-date-time",37,46),l.Wb(99,"div",39),l.Sb(100,"i-feather",40),l.Vb(),l.Vb(),l.Vb(),l.Wb(101,"div",47),l.Wb(102,"div",19),l.Wb(103,"label"),l.Tc(104,"Comments"),l.Vb(),l.Wb(105,"textarea",48),l.ic("ngModelChange",(function(e){return t.asset.comments=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(106,"div",49),l.Wb(107,"div",19),l.Wb(108,"label",50),l.ic("click",(function(){return l.Kc(n),l.Hc(110).click()})),l.Wb(109,"input",51,52),l.ic("change",(function(e){return t.uploadFile(e)}))("ngModelChange",(function(e){return t.asset.file=e})),l.Vb(),l.Sb(111,"i",53),l.Tc(112," Upload Image"),l.Vb(),l.Rc(113,L,2,1,"div",54),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(114,"li",55),l.Tc(115,"Purchase Details"),l.Vb(),l.Wb(116,"div",56),l.Wb(117,"div",16),l.Wb(118,"div",17),l.Wb(119,"div",18),l.Wb(120,"div",21),l.Wb(121,"label"),l.Tc(122,"Vendor Name*"),l.Vb(),l.Wb(123,"select",57),l.ic("ngModelChange",(function(e){return t.asset.vendorId=e})),l.Wb(124,"option",23),l.Tc(125,"Select"),l.Vb(),l.Rc(126,P,2,2,"option",24),l.Vb(),l.Vb(),l.Vb(),l.Wb(127,"div",18),l.Wb(128,"div",19),l.Wb(129,"label"),l.Tc(130,"Purchase Order No*"),l.Vb(),l.Wb(131,"input",58),l.ic("ngModelChange",(function(e){return t.asset.purchaseOrderNo=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(132,"div",18),l.Wb(133,"div",19),l.Wb(134,"label"),l.Tc(135,"Purchase Date*"),l.Vb(),l.Wb(136,"input",36),l.ic("ngModelChange",(function(e){return t.asset.purchaseDate=e})),l.Vb(),l.Sb(137,"owl-date-time",37,59),l.Wb(139,"div",60),l.Sb(140,"i-feather",40),l.Vb(),l.Vb(),l.Vb(),l.Wb(141,"div",18),l.Wb(142,"div",19),l.Wb(143,"label"),l.Tc(144,"Purchase Cost*"),l.Vb(),l.Wb(145,"input",61),l.ic("ngModelChange",(function(e){return t.asset.purchaseCost=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(146,"div",18),l.Wb(147,"div",19),l.Wb(148,"label"),l.Tc(149,"Warranty Months*"),l.Vb(),l.Wb(150,"input",62),l.ic("ngModelChange",(function(e){return t.asset.warrantyMonths=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(151,"div",18),l.Wb(152,"div",19),l.Wb(153,"label"),l.Tc(154,"Serial Number*"),l.Vb(),l.Wb(155,"input",63),l.ic("ngModelChange",(function(e){return t.asset.serialNo=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(156,"div",18),l.Wb(157,"div",28),l.Wb(158,"label"),l.Tc(159,"Is Leased*"),l.Vb(),l.Wb(160,"div",29),l.Wb(161,"input",64),l.ic("ngModelChange",(function(e){return t.asset.isLeased=e})),l.Vb(),l.Wb(162,"label",65),l.Tc(163,"Yes"),l.Vb(),l.Vb(),l.Wb(164,"div",29),l.Wb(165,"input",66),l.ic("ngModelChange",(function(e){return t.asset.isLeased=e})),l.Vb(),l.Wb(166,"label",67),l.Tc(167,"No"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(168,"div",17),l.Wb(169,"div",49),l.Wb(170,"ul",68),l.Wb(171,"li",69),l.Wb(172,"button",70),l.Tc(173,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=l.Hc(2),s=l.Hc(77),i=l.Hc(98),o=l.Hc(138);l.Cb(4),l.uc("ngIf",!t.isEditAsset),l.Cb(1),l.uc("ngIf",t.isEditAsset),l.Cb(3),l.uc("routerLinkActiveOptions",l.Ac(45,F)),l.Cb(17),l.uc("ngModel",t.asset.assetTagNo),l.Cb(5),l.uc("ngModel",t.asset.assetCategoryId),l.Cb(3),l.uc("ngForOf",t.assetCategoryData),l.Cb(5),l.uc("ngModel",t.asset.assetName),l.Cb(5),l.uc("ngModel",t.asset.manufacturerDetails),l.Cb(5),l.uc("ngModel",t.asset.modelNo),l.Cb(6),l.uc("ngModel",t.asset.assetConditionId),l.Cb(4),l.uc("ngModel",t.asset.assetConditionId),l.Cb(7),l.uc("ngModel",t.asset.assetLocation),l.Cb(5),l.uc("ngModel",t.asset.depreciationPercentage),l.Cb(5),l.uc("owlDateTime",s)("owlDateTimeTrigger",s)("ngModel",t.asset.installationDate),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(2),l.uc("owlDateTimeTrigger",s),l.Cb(7),l.uc("ngModel",t.asset.isActive)("value",!0),l.Cb(4),l.uc("ngModel",t.asset.isActive)("value",!1),l.Cb(7),l.uc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",t.asset.retiredOn),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(2),l.uc("owlDateTimeTrigger",i),l.Cb(6),l.uc("ngModel",t.asset.comments),l.Cb(4),l.uc("ngModel",t.asset.file),l.Cb(4),l.uc("ngIf",t.isFileAdded),l.Cb(10),l.uc("ngModel",t.asset.vendorId),l.Cb(3),l.uc("ngForOf",t.vendorDataList),l.Cb(5),l.uc("ngModel",t.asset.purchaseOrderNo),l.Cb(5),l.uc("owlDateTime",o)("owlDateTimeTrigger",o)("ngModel",t.asset.purchaseDate),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(8),l.uc("ngModel",t.asset.purchaseCost),l.Cb(5),l.uc("ngModel",t.asset.warrantyMonths),l.Cb(5),l.uc("ngModel",t.asset.serialNo),l.Cb(6),l.uc("ngModel",t.asset.isLeased)("value",!0),l.Cb(4),l.uc("ngModel",t.asset.isLeased)("value",!1),l.Cb(7),l.uc("disabled",a.invalid)}},directives:[p.B,p.o,p.p,a.l,s.e,s.d,A.c,p.d,p.x,p.n,p.q,p.y,p.r,p.A,a.k,p.u,p.s,A.a,T.c,T.e,T.b,b.b],styles:[""]}),_),E=((N=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||N)},N.\u0275cmp=l.Lb({type:N,selectors:[["app-assets-reports"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Wb(0,"p"),l.Tc(1," assets-reports works!\n"),l.Vb())},styles:[""]}),N),B=n("0IaG"),q=n("wd/R"),U=n("NhFE");function K(e,t){1&e&&l.Sb(0,"app-loader")}function j(e,t){if(1&e&&(l.Wb(0,"p"),l.Tc(1),l.Vb()),2&e){var n=l.mc().$implicit,a=l.mc(2);l.Cb(1),l.Uc(a.getDateFormat(n.actualMaintDate))}}function H(e,t){1&e&&(l.Wb(0,"p"),l.Tc(1,"-"),l.Vb())}var X=function(e,t){return[e,t]};function $(e,t){if(1&e&&(l.Wb(0,"div",19),l.Wb(1,"li"),l.Wb(2,"div",20),l.Wb(3,"div",21),l.Wb(4,"h6",22),l.Tc(5,"Actual Maintenance"),l.Vb(),l.Rc(6,j,2,1,"p",15),l.Rc(7,H,2,0,"p",15),l.Vb(),l.Wb(8,"div",21),l.Wb(9,"h6",22),l.Tc(10,"Last Maintenance"),l.Vb(),l.Wb(11,"p"),l.Tc(12),l.Vb(),l.Vb(),l.Wb(13,"div",21),l.Wb(14,"h6",22),l.Tc(15,"Next Planned Maintenance"),l.Vb(),l.Wb(16,"p"),l.Tc(17),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){var n=t.$implicit,a=t.last,s=l.mc(2);l.uc("ngClass",l.Cc(5,X,s.getMaintenanceStatus(n.maintenanceStatusId),a?"last":"")),l.Cb(6),l.uc("ngIf",null!=n.actualMaintDate),l.Cb(1),l.uc("ngIf",null==n.actualMaintDate),l.Cb(5),l.Uc(s.getDateFormat(n.lastMaintenanceDate)),l.Cb(5),l.Uc(s.getDateFormat(n.nextPlannedMaintenance))}}function z(e,t){1&e&&(l.Wb(0,"div",23),l.Wb(1,"p",24),l.Tc(2,"No Records Found"),l.Vb(),l.Vb())}function Y(e,t){if(1&e){var n=l.Xb();l.Ub(0),l.Rc(1,$,18,8,"div",16),l.nc(2,"slice"),l.Rc(3,z,3,0,"div",17),l.Wb(4,"app-pagination",18),l.ic("outputParams",(function(e){return l.Kc(n),l.mc().getIndexParams(e)})),l.Vb(),l.Tb()}if(2&e){var a=l.mc();l.Cb(1),l.uc("ngForOf",l.qc(2,6,a.maintenanceDataList,a.ItemStartIndex,a.ItemEndIndex)),l.Cb(2),l.uc("ngIf",a.isNoItemsAvailable()),l.Cb(1),l.uc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}var Z,G=((Z=function(){function e(t,n,a,s,i){_classCallCheck(this,e),this.assetId=t,this.assetService=n,this.lookupService=a,this.sharedService=s,this.cookieService=i,this.isAssetMaintenanceLoaded=!1,this.ItemStartIndex=0,this.itemLimit=5}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"getDateFormat",value:function(e){return q(e).format("MM-DD-YYYY")}},{key:"getMaintenanceStatus",value:function(e){var t=c.filter(this.statusTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase().replace(/-/g," ")}},{key:"isNoItemsAvailable",value:function(){return 0==this.totalItems}},{key:"ngOnInit",value:function(){var e=this;this.assetService.getAllAssetMaintenancePlanByAssetId(this.assetId).subscribe((function(t){e.isAssetMaintenanceLoaded=!0,e.maintenanceDataList=t,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.totalItems=e.maintenanceDataList.length})),this.lookupService.getLookupValueByLookupTypeId(64).subscribe((function(t){e.statusTypeData=t}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||Z)(l.Rb(B.a),l.Rb(i.a),l.Rb(o.a),l.Rb(r.a),l.Rb(d.a))},Z.\u0275cmp=l.Lb({type:Z,selectors:[["app-assets-maintenance-history"]],decls:25,vars:3,consts:[[1,"assets-maintenance-history-wrapper"],[1,"header-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"title"],[1,"badge","lime-green"],[1,"card"],[1,"card-body","p-0","border-bottom"],[1,"legends","list-inline"],[1,"list-inline-item"],[1,"dots","high"],[1,"dots","medium"],[1,"list-inline-item","mr-0"],[1,"dots","low"],[1,"card-body","p-0"],[4,"ngIf"],["class","lists free-flow",3,"ngClass",4,"ngFor","ngForOf"],["class","button-wrapper border-top",4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"lists","free-flow",3,"ngClass"],[1,"row"],[1,"col-sm-4","column"],[1,"mt-0"],[1,"button-wrapper","border-top"],[1,"snippet"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Sb(3,"i-feather",3),l.Vb(),l.Wb(4,"div",4),l.Wb(5,"h5"),l.Tc(6,"Maintenance History "),l.Wb(7,"span",5),l.Tc(8),l.Vb(),l.Vb(),l.Vb(),l.Wb(9,"div",6),l.Wb(10,"div",7),l.Wb(11,"ul",8),l.Wb(12,"li",9),l.Sb(13,"span",10),l.Wb(14,"span"),l.Tc(15,"Over Due"),l.Vb(),l.Vb(),l.Wb(16,"li",9),l.Sb(17,"span",11),l.Tc(18,"Due"),l.Vb(),l.Wb(19,"li",12),l.Sb(20,"span",13),l.Tc(21,"Done"),l.Vb(),l.Vb(),l.Vb(),l.Wb(22,"div",14),l.Rc(23,K,1,0,"app-loader",15),l.Rc(24,Y,5,10,"ng-container",15),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e&&(l.Cb(8),l.Uc(t.totalItems),l.Cb(15),l.uc("ngIf",!t.isAssetMaintenanceLoaded),l.Cb(1),l.uc("ngIf",t.isAssetMaintenanceLoaded))},directives:[B.d,b.b,a.l,u.a,a.k,U.a,a.j],pipes:[a.t],styles:['.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists[_ngcontent-%COMP%]:not(.last){border-bottom:1px solid #eaeaea}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.done[_ngcontent-%COMP%], .assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.due[_ngcontent-%COMP%], .assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.overdue[_ngcontent-%COMP%]{position:relative}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.done[_ngcontent-%COMP%]:after, .assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.due[_ngcontent-%COMP%]:after, .assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.overdue[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:0;width:8px;height:100%!important}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.due[_ngcontent-%COMP%]:after{background-color:#ff9800}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.overdue[_ngcontent-%COMP%]:after{background-color:#e2385e}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists.done[_ngcontent-%COMP%]:after{background-color:#5cd694}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:15px 15px 0 20px}.assets-maintenance-history-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .lists[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{margin:0 0 10px}']}),Z),J=n("JK/P"),Q=n("is7e"),ee=n("bvAq");function te(e,t){1&e&&l.Sb(0,"app-loader")}function ne(e,t){if(1&e&&(l.Wb(0,"option",16),l.Tc(1),l.Vb()),2&e){var n=t.$implicit;l.uc("value",n.lookupValueId),l.Cb(1),l.Uc(n.lookupValueName)}}function ae(e,t){if(1&e){var n=l.Xb();l.Ub(0),l.Wb(1,"form",3,4),l.Wb(3,"div",5),l.Wb(4,"div",6),l.Wb(5,"div",7),l.Wb(6,"h5"),l.Tc(7,"Select Category"),l.Vb(),l.Vb(),l.Vb(),l.Wb(8,"div",8),l.Wb(9,"div",9),l.Wb(10,"div",10),l.Wb(11,"div",11),l.Wb(12,"label"),l.Tc(13,"Category Type*"),l.Vb(),l.Wb(14,"select",12),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().assetCategoryId=e}))("ngModelChange",(function(){return l.Kc(n),l.mc().getAssetCategory()})),l.Wb(15,"option",13),l.Tc(16,"Select"),l.Vb(),l.Wb(17,"option",14),l.Tc(18,"All"),l.Vb(),l.Rc(19,ne,2,2,"option",15),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Tb()}if(2&e){var a=l.mc();l.Cb(14),l.uc("ngModel",a.assetCategoryId),l.Cb(5),l.uc("ngForOf",a.assetCategoryData)}}function se(e,t){if(1&e&&(l.Wb(0,"a",51),l.Tc(1,"Add Maintenance"),l.Vb()),2&e){var n=l.mc().$implicit;l.wc("routerLink","/ams/assets/add-asset-maintenance/",n.assetId,"/new")}}function ie(e,t){if(1&e&&(l.Wb(0,"a",51),l.Tc(1,"Edit Maintenance"),l.Vb()),2&e){var n=l.mc().$implicit;l.wc("routerLink","/ams/assets/edit-asset-maintenance/",n.assetId,"")}}function oe(e,t){if(1&e){var n=l.Xb();l.Wb(0,"a",52),l.ic("click",(function(){l.Kc(n);var e=l.mc().$implicit;return l.mc(2).showMaintenanceHistory(e.assetId)})),l.Tc(1,"View Maintenance History"),l.Vb()}}function re(e,t){if(1&e){var n=l.Xb();l.Wb(0,"tr",43),l.Wb(1,"td",44),l.Tc(2),l.Vb(),l.Wb(3,"td",45),l.Tc(4),l.Vb(),l.Wb(5,"td",46),l.Tc(6),l.Vb(),l.Wb(7,"td",46),l.Tc(8),l.Vb(),l.Wb(9,"td",46),l.Tc(10),l.Vb(),l.Wb(11,"td",45),l.Tc(12),l.Vb(),l.Wb(13,"td",47),l.Wb(14,"a",48),l.Sb(15,"span",49),l.Sb(16,"span",49),l.Sb(17,"span",49),l.Vb(),l.Wb(18,"div",50),l.Wb(19,"a",51),l.Tc(20,"Edit Asset"),l.Vb(),l.Wb(21,"a",52),l.ic("click",(function(){l.Kc(n);var e=t.$implicit;return l.mc(2).showConfirmModal(e.assetId)})),l.Tc(22,"Delete Asset"),l.Vb(),l.Rc(23,se,2,1,"a",53),l.Rc(24,ie,2,1,"a",53),l.Rc(25,oe,2,0,"a",54),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=t.$implicit,s=l.mc(2);l.uc("ngClass",a.isActive?"active":"notactive"),l.Cb(2),l.Uc(a.assetTagNo),l.Cb(2),l.Uc(a.assetName),l.Cb(2),l.Uc(s.getAssetCategoryName(a,a.assetCategoryId)),l.Cb(2),l.Uc(s.getvendorName(a,a.vendorId)),l.Cb(2),l.Uc(s.getAssetCondition(a,a.assetConditionId)),l.Cb(2),l.Uc(a.purchaseCost),l.Cb(7),l.wc("routerLink","/ams/assets/edit-asset/",a.assetId,""),l.Cb(4),l.uc("ngIf",!s.isMaintenanceDue(a.assetId)),l.Cb(1),l.uc("ngIf",s.isMaintenanceAvailable(a.assetId)&&s.isMaintenanceDue(a.assetId)),l.Cb(1),l.uc("ngIf",s.isMaintenanceAvailable(a.assetId))}}function ce(e,t){1&e&&(l.Wb(0,"div",55),l.Wb(1,"p",56),l.Tc(2,"No Records Found"),l.Vb(),l.Vb())}var le=function(){return{exact:!0}};function de(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",17),l.Wb(1,"div",6),l.Wb(2,"div",7),l.Wb(3,"h5"),l.Tc(4),l.Wb(5,"span",18),l.Tc(6),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"ul",19),l.Wb(8,"li",20),l.Sb(9,"i",21),l.Wb(10,"input",22),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().assetData=e})),l.Vb(),l.Vb(),l.Wb(11,"li",23),l.Wb(12,"a",24),l.Sb(13,"i-feather",25),l.Wb(14,"span"),l.Tc(15,"Print"),l.Vb(),l.Vb(),l.Vb(),l.Wb(16,"li",23),l.Wb(17,"a",26),l.Sb(18,"i-feather",27),l.Wb(19,"span"),l.Tc(20,"Create Asset"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(21,"div",28),l.Wb(22,"table",29),l.Wb(23,"thead"),l.Wb(24,"tr"),l.Wb(25,"th",30),l.Tc(26,"Asset Tag No "),l.Wb(27,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("assetTagNo")})),l.Vb(),l.Wb(28,"input",32),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().columnField.assetTagNo=e}))("ngModelChange",(function(){return l.Kc(n),l.mc().selectColInput("assetTagNo")})),l.Vb(),l.Vb(),l.Wb(29,"th",30),l.Tc(30,"Asset Name "),l.Wb(31,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("assetName")})),l.Vb(),l.Wb(32,"input",33),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().columnField.assetName=e}))("ngModelChange",(function(){return l.Kc(n),l.mc().selectColInput("assetName")})),l.Vb(),l.Vb(),l.Wb(33,"th",30),l.Tc(34,"Category "),l.Wb(35,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("assetCategoryName")})),l.Vb(),l.Wb(36,"app-simple-select-box",34),l.ic("inputChange",(function(e){return l.Kc(n),l.mc().onSelectChange(e,"assetCategory","lookupValueName")})),l.Vb(),l.Vb(),l.Wb(37,"th",30),l.Tc(38,"Vendor Name "),l.Wb(39,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("vendorTypeName")})),l.Vb(),l.Wb(40,"app-simple-select-box",35),l.ic("inputChange",(function(e){return l.Kc(n),l.mc().onSelectChange(e,"vendorTypeName","vendorName")})),l.Vb(),l.Vb(),l.Wb(41,"th",30),l.Tc(42,"Condition "),l.Wb(43,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("assetCondition")})),l.Vb(),l.Wb(44,"app-simple-select-box",36),l.ic("inputChange",(function(e){return l.Kc(n),l.mc().onSelectChange(e,"assetCondition","lookupValueName")})),l.Vb(),l.Vb(),l.Wb(45,"th",30),l.Tc(46,"Purchase Cost "),l.Wb(47,"span",31),l.ic("click",(function(){return l.Kc(n),l.mc().sortUnitData("purchaseCost")})),l.Vb(),l.Wb(48,"input",37),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().columnField.purchaseCost=e}))("ngModelChange",(function(){return l.Kc(n),l.mc().selectColInput("purchaseCost")})),l.Vb(),l.Vb(),l.Wb(49,"th",38),l.Tc(50," Actions "),l.Wb(51,"input",39),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().columnField.action=e}))("ngModelChange",(function(){return l.Kc(n),l.mc().selectColInput("action")})),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(52,"tbody"),l.Rc(53,re,26,11,"tr",40),l.nc(54,"columnSearch"),l.nc(55,"simpleSearch"),l.nc(56,"slice"),l.nc(57,"orderBy"),l.Vb(),l.Vb(),l.Rc(58,ce,3,0,"div",41),l.Wb(59,"app-pagination",42),l.ic("outputParams",(function(e){return l.Kc(n),l.mc().getIndexParams(e)})),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=l.mc();l.Cb(4),l.Vc("All ",a.assetCategoryName," Assets "),l.Cb(2),l.Uc(a.totalItems),l.Cb(4),l.uc("ngModel",a.assetData),l.Cb(7),l.uc("routerLinkActiveOptions",l.Ac(45,le)),l.Cb(5),l.uc("ngClass",a.isMobileView()),l.Cb(5),l.uc("ngClass",a.getFieldOrderBy("assetTagNo")),l.Cb(1),l.uc("ngModel",a.columnField.assetTagNo),l.Cb(3),l.uc("ngClass",a.getFieldOrderBy("assetName")),l.Cb(1),l.uc("ngModel",a.columnField.assetName),l.Cb(3),l.uc("ngClass",a.getFieldOrderBy("assetCategoryName")),l.Cb(1),l.uc("fieldModel",a.assetCategoryId)("fieldRequired","required")("fieldList",a.assetCategoryData),l.Cb(3),l.uc("ngClass",a.getFieldOrderBy("vendorTypeName")),l.Cb(1),l.uc("fieldModel",a.vendorId)("fieldRequired","required")("fieldList",a.vendorDataList),l.Cb(3),l.uc("ngClass",a.getFieldOrderBy("assetCondition")),l.Cb(1),l.uc("fieldModel",a.assetConditionId)("fieldRequired","required")("fieldList",a.assetConditionData),l.Cb(3),l.uc("ngClass",a.getFieldOrderBy("purchaseCost")),l.Cb(1),l.uc("ngModel",a.columnField.purchaseCost),l.Cb(3),l.uc("ngModel",a.columnField.action),l.Cb(2),l.uc("ngForOf",l.qc(54,30,l.pc(55,34,l.qc(56,37,l.qc(57,41,a.assetListData,a.unitFieldType,a.unitOrder),a.ItemStartIndex,a.ItemEndIndex),a.assetData),a.columnField,a.selectedInput)),l.Cb(5),l.uc("ngIf",a.isNoItemsAvailable()),l.Cb(1),l.uc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}var ue,be=((ue=function(){function e(t,n,a,i,o,r,c,l,d){var u=this;_classCallCheck(this,e),this.injector=t,this.dialog=n,this.router=a,this.route=i,this.assetService=o,this.vendorService=r,this.lookupService=c,this.sharedService=l,this.cookieService=d,this.assetCategoryId="",this.isAssetCategorySelected=!1,this.isAssetLoaded=!1,this.assetData="",this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=10,this.assetCategoryName="",this.selectedInput="",this.columnField={},this.modalService=this.injector.get(J.a),a.events.forEach((function(e){e instanceof s.b&&u.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(e){u.assetCategoryData=e.filter((function(e){return e.isActive})),u.getAssetCategoryData(u.assetCategoryId)}))}))}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"onSelectChange",value:function(e,t,n){c.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[n])}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"isItemsAvailable",value:function(){return this.totalItems>0}},{key:"isNoItemsAvailable",value:function(){return 0==this.totalItems}},{key:"getAssetCondition",value:function(e,t){var n=c.filter(this.assetConditionData,(function(e){if(e.lookupValueId===t)return e}));return void 0===n||0==n.length?"":(this.assetListData.map((function(t){t.assetId==e.assetId&&(t.assetCondition=n[0].lookupValueName.toLowerCase())})),n[0].lookupValueName.toLowerCase())}},{key:"getAssetCategoryName",value:function(e,t){var n=c.filter(this.assetCategoryData,(function(e){if(e.lookupValueId===t)return e}));return void 0===n||0==n.length?"":(this.assetListData.map((function(t){t.assetId==e.assetId&&(t.assetCategory=n[0].lookupValueName.toLowerCase())})),n[0].lookupValueName.toLowerCase())}},{key:"getvendorName",value:function(e,t){var n=c.filter(this.vendorDataList,(function(e){if(e.vendorId===t)return e}));return void 0===n||0==n.length?"":(this.assetListData.map((function(t){t.assetId==e.assetId&&(t.vendorTypeName=n[0].vendorName)})),n[0].vendorName)}},{key:"getAssetCategory",value:function(){"All"!=this.assetCategoryId?this.router.navigateByUrl("/ams/assets/view/"+parseInt(this.assetCategoryId)):this.router.navigate(["/ams/assets/view/"])}},{key:"getAssetCategoryData",value:function(e){var t=this;this.isAssetLoaded=!1,c.each(this.assetCategoryData,(function(n,a){"All"!=e?n.lookupValueId==parseInt(e)&&(t.assetCategoryName=n.lookupValueName):t.assetCategoryName=""})),this.assetService.getAllAssetByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(n){t.assetListData=n.filter("All"!=e?function(t){return t.assetCategoryId==parseInt(e)&&t.isActive}:function(e){return e.isActive}),t.totalItems=t.assetListData.length,t.ItemEndIndex=t.totalItems>t.itemLimit?t.itemLimit:t.totalItems,t.isAssetLoaded=!0}))}},{key:"showMaintenanceHistory",value:function(e){this.dialog.open(G,{panelClass:["material","medium-02"],disableClose:!0,data:e})}},{key:"isMaintenanceAvailable",value:function(e){var t=c.filter(this.assetMaintenaceDataList,(function(t){if(t.assetId===e)return t}));return void 0!==t&&0!=t.length}},{key:"isMaintenanceDue",value:function(e){var t=c.filter(this.assetMaintenaceDataList,(function(t){if(t.assetId===e)return t}));return void 0!==t&&0!=t.length&&!!c.some(t,(function(e){return 273==e.maintenanceStatusId}))}},{key:"ngOnInit",value:function(){var e=this;this.asset={},null==this.route.params.value.id?(this.assetCategoryId="All",this.assetService.getAllAssetByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.isAssetLoaded=!1,e.assetListData=t.filter((function(e){return e.isActive})),e.totalItems=e.assetListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isAssetLoaded=!0}))):this.assetCategoryId=""+this.route.params.value.id,this.lookupService.getLookupValueByLookupTypeId(23).subscribe((function(t){e.assetConditionData=t.filter((function(e){return e.isActive}))})),this.vendorService.getVendorByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.vendorDataList=t.filter((function(e){return e.isActive}))})),this.assetService.getAllAssetMaintenancePlanByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.assetMaintenaceDataList=t.filter((function(e){return e.isActive}))})),this.lookupService.getLookupValueByLookupTypeId(64).subscribe((function(t){e.statusTypeData=t}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var n={assetId:t,deleteBy:parseInt(e.cookieService.get("userId"))};e.assetService.deleteAsset(n).subscribe((function(n){c.each(e.assetListData,(function(e){e.assetId==t&&(e.isActive=!1)})),setTimeout((function(){e.assetListData=e.assetListData.filter((function(e){return e.assetId!==t})),e.totalItems=e.assetListData.length,e.sharedService.setAlertMessage("Asset deleted"),e.sharedService.setUnitListDeleteIndex(null)}),500)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||ue)(l.Rb(l.r),l.Rb(B.b),l.Rb(s.c),l.Rb(s.a),l.Rb(i.a),l.Rb(S.a),l.Rb(o.a),l.Rb(r.a),l.Rb(d.a))},ue.\u0275cmp=l.Lb({type:ue,selectors:[["app-assets-view"]],decls:4,vars:3,consts:[[1,"assets-view-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],["name","viewAssetForm","novalidate",""],["viewAssetForm","ngForm"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[1,"card-body"],[1,"row"],[1,"col-sm-4"],[1,"select-box","mb-3"],["name","assetCategory","id","assetCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],["value","All"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"card","table-card"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/assets/create-asset","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Asset Tag No",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Asset Name",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","assetCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","vendorTypeName","fieldText","","fieldItemName","vendorName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","assetCondition","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Purchase Cost",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],["class","button-wrapper border-top",4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"name"],[1,"grey"],[1,"grey","text-capitalize"],[1,"name","actions","text-center"],["href","javascript:void(0)","role","button","data-toggle","dropdown","id","assetDropDown","aria-haspopup","true","aria-expanded","false"],[1,"action-dot"],["aria-labelledby","assetDropDown",1,"dropdown-menu","action-menu","dropdown-menu-right"],["href","javascript:void(0)",3,"routerLink"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",3,"routerLink",4,"ngIf"],["href","javascript:void(0)",3,"click",4,"ngIf"],[1,"button-wrapper","border-top"],[1,"snippet"]],template:function(e,t){1&e&&(l.Wb(0,"div",0),l.Rc(1,te,1,0,"app-loader",1),l.Rc(2,ae,20,2,"ng-container",1),l.Rc(3,de,60,46,"div",2),l.Vb()),2&e&&(l.Cb(1),l.uc("ngIf",!t.isAssetLoaded),l.Cb(1),l.uc("ngIf",t.isAssetLoaded),l.Cb(1),l.uc("ngIf",t.isAssetLoaded))},directives:[a.l,u.a,p.B,p.o,p.p,p.y,p.x,p.n,p.q,p.r,p.A,a.k,A.b,p.d,b.b,s.e,s.d,A.d,a.j,Q.a,U.a],pipes:[ee.a,ee.c,a.t,ee.b],styles:[""]}),ue);function ge(e,t){1&e&&(l.Wb(0,"span"),l.Tc(1,"Add Asset Maintenance"),l.Vb())}function pe(e,t){1&e&&(l.Wb(0,"span"),l.Tc(1,"Edit Asset Maintenance"),l.Vb())}function me(e,t){if(1&e&&(l.Wb(0,"div",37),l.Wb(1,"div",10),l.Wb(2,"div",38),l.Wb(3,"p",39),l.Wb(4,"span"),l.Tc(5,"Asset Name: "),l.Vb(),l.Tc(6),l.Vb(),l.Wb(7,"p",40),l.Wb(8,"span"),l.Tc(9,"Category: "),l.Vb(),l.Tc(10),l.Vb(),l.Wb(11,"p",40),l.Wb(12,"span"),l.Tc(13,"Purchase Date: "),l.Vb(),l.Tc(14),l.Vb(),l.Vb(),l.Vb(),l.Vb()),2&e){var n=l.mc();l.Cb(6),l.Uc(n.assetData.assetName),l.Cb(4),l.Uc(n.getAssetCategoryName(n.assetData.assetCategoryId)),l.Cb(4),l.Uc(n.getDateFormat(n.assetData.purchaseDate))}}function fe(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",19),l.Wb(1,"div",20),l.Wb(2,"label"),l.Tc(3,"Actual Maintenance Date*"),l.Vb(),l.Wb(4,"input",41),l.ic("ngModelChange",(function(e){return l.Kc(n),l.mc().assetMaintenance.actualMaintDate=e})),l.Vb(),l.Sb(5,"owl-date-time",22,42),l.Wb(7,"div",24),l.Sb(8,"i-feather",25),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=l.Hc(6),s=l.mc();l.Cb(4),l.uc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",s.assetMaintenance.actualMaintDate),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(2),l.uc("owlDateTimeTrigger",a)}}function he(e,t){if(1&e&&(l.Wb(0,"option",43),l.Tc(1),l.Vb()),2&e){var n=t.$implicit;l.uc("value",n.lookupValueId),l.Cb(1),l.Uc(n.lookupValueName)}}var ve,Ce,Me,ye=function(){return{exact:!0}},Ve=((ve=function(){function e(t,n,a,s,i,o,r,c,l){_classCallCheck(this,e),this.injector=t,this.dialog=n,this.router=a,this.route=s,this.assetService=i,this.vendorService=o,this.lookupService=r,this.sharedService=c,this.cookieService=l,this.isEditAssetMaintenance=!1,this.isError=!1,this.alertMessage="",this.isAssetMaintenanceLoaded=!1,this.isAssetMaintenanceSubmitted=!1,this.modalService=this.injector.get(J.a)}return _createClass(e,[{key:"getAssetCategoryName",value:function(e){var t=c.filter(this.assetCategoryData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}},{key:"getDateFormat",value:function(e){return q(e).format("MM-DD-YYYY")}},{key:"submitAssetMaintenanceForm",value:function(e){var t=this;if(this.isEditAssetMaintenance){var n={assetMaintenancePlanId:this.assetMaintenance.assetMaintenancePlanId,apartmentId:parseInt(this.cookieService.get("apartmentId")),assetId:parseInt(this.route.params.value.id),notes:this.assetMaintenance.notes,maintenanceStatusId:parseInt(this.assetMaintenance.maintenanceStatusId),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString(),actualMaintDate:this.assetMaintenance.actualMaintDate,lastMaintenanceDate:this.assetMaintenance.lastMaintenanceDate,nextPlannedMaintenance:this.assetMaintenance.nextPlannedMaintenance};this.assetService.updateAssetMaintenancePlan(n).subscribe((function(e){e.message?(t.isAssetMaintenanceSubmitted=!1,t.sharedService.setAlertMessage("Asset Maintenance updated successfully"),t.router.navigate(["ams/assets/view"])):(t.isAssetMaintenanceSubmitted=!1,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isAssetMaintenanceSubmitted=!1,t.isError=!0,t.alertMessage="Some error occured"}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),assetId:parseInt(this.route.params.value.id),notes:this.assetMaintenance.notes,maintenanceStatusId:parseInt(this.assetMaintenance.maintenanceStatusId),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString(),actualMaintDate:this.assetMaintenance.actualMaintDate,lastMaintenanceDate:this.assetMaintenance.lastMaintenanceDate,nextPlannedMaintenance:this.assetMaintenance.nextPlannedMaintenance};this.assetService.addAssetMaintenancePlan(a).subscribe((function(e){e.message?(t.isAssetMaintenanceSubmitted=!1,t.sharedService.setAlertMessage("Asset Maintenance added successfully"),t.router.navigate(["ams/assets/view"])):(t.isAssetMaintenanceSubmitted=!1,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isAssetMaintenanceSubmitted=!1,t.isError=!0,t.alertMessage="Some error occured"}))}}},{key:"showMaintenanceHistory",value:function(e){console.log(e),this.dialog.open(G,{panelClass:["material","medium-02"],disableClose:!0,data:e})}},{key:"ngOnInit",value:function(){var e=this;this.assetMaintenance={},this.assetMaintenance.maintenanceStatusId="",this.assetMaintenance.notes="",null!=this.route.params.value.id&&null==this.route.params.value.type&&(this.isEditAssetMaintenance=!0,this.assetService.getAllAssetMaintenancePlanByAssetId(this.route.params.value.id).subscribe((function(t){e.allAssetMaintenanceData=t;var n=e.allAssetMaintenanceData.filter((function(e){return 273==e.maintenanceStatusId}));e.assetMaintenance=n[0]}))),this.assetId=this.route.params.value.id,this.lookupService.getLookupValueByLookupTypeId(64).subscribe((function(t){e.statusTypeData=t}),(function(e){})),this.assetService.getAllAssetByAssetId(this.route.params.value.id).subscribe((function(t){e.isAssetMaintenanceLoaded=!0,e.assetData=t[0]})),this.lookupService.getLookupValueByLookupTypeId(19).subscribe((function(t){e.assetCategoryData=t.filter((function(e){return e.isActive}))}))}}]),e}()).\u0275fac=function(e){return new(e||ve)(l.Rb(l.r),l.Rb(B.b),l.Rb(s.c),l.Rb(s.a),l.Rb(i.a),l.Rb(S.a),l.Rb(o.a),l.Rb(r.a),l.Rb(d.a))},ve.\u0275cmp=l.Lb({type:ve,selectors:[["app-add-asset-maintenance"]],decls:64,vars:22,consts:[[1,"add-asset-maintenance-wrapper"],[1,"relative-card","float-right"],[1,"relative-icon"],["href","javascript:void(0)","routerLink","/ams/assets/view","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper"],["src","assets/images/boxes-icon.svg","width","17",1,"svg"],[1,"d-inline-block"],["href","javascript:void(0)",3,"click"],[1,"card","clear","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],["class","card-header at-header",4,"ngIf"],["name","addAssetMaintenanceForm","novalidate","",3,"ngSubmit"],["addAssetMaintenanceForm","ngForm"],[1,"card-body"],[3,"message","isError"],[1,"row"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"input-box"],["name","lastMaintenanceDate","placeholder","Date","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["lastMaintenanceDate",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["name","nextPlannedMaintenance","placeholder","Date","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["nextPlannedMaintenance",""],["type","text","placeholder","Enter","name","assetNotes","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","assetMaintenanceStatus","id","assetMaintenanceStatus","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[1,"card-header","at-header"],[1,"sub-details"],[1,"d-inline-block","ft"],[1,"d-inline-block","ft","ml-md-4"],["name","actualMaintDate","placeholder","Date","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["actualMaintDate",""],[3,"value"]],template:function(e,t){if(1&e){var n=l.Xb();l.Wb(0,"div",0),l.Wb(1,"div",1),l.Wb(2,"div",2),l.Wb(3,"a",3),l.Wb(4,"div",4),l.Sb(5,"img",5),l.Vb(),l.Wb(6,"span",6),l.Tc(7,"View Assets"),l.Vb(),l.Vb(),l.Vb(),l.Wb(8,"div",2),l.Wb(9,"a",7),l.ic("click",(function(){return t.showMaintenanceHistory(t.assetId)})),l.Wb(10,"div",4),l.Sb(11,"img",5),l.Vb(),l.Wb(12,"span",6),l.Tc(13,"View Maintenance History"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(14,"div",8),l.Wb(15,"div",9),l.Wb(16,"div",10),l.Wb(17,"h5"),l.Rc(18,ge,2,0,"span",11),l.Rc(19,pe,2,0,"span",11),l.Vb(),l.Vb(),l.Vb(),l.Rc(20,me,15,3,"div",12),l.Wb(21,"form",13,14),l.ic("ngSubmit",(function(){l.Kc(n);var e=l.Hc(22);return t.submitAssetMaintenanceForm(e)})),l.Wb(23,"div",15),l.Sb(24,"app-alert-message",16),l.Wb(25,"div",17),l.Rc(26,fe,9,5,"div",18),l.Wb(27,"div",19),l.Wb(28,"div",20),l.Wb(29,"label"),l.Tc(30,"Last Maintenance Date*"),l.Vb(),l.Wb(31,"input",21),l.ic("ngModelChange",(function(e){return t.assetMaintenance.lastMaintenanceDate=e})),l.Vb(),l.Sb(32,"owl-date-time",22,23),l.Wb(34,"div",24),l.Sb(35,"i-feather",25),l.Vb(),l.Vb(),l.Vb(),l.Wb(36,"div",19),l.Wb(37,"div",20),l.Wb(38,"label"),l.Tc(39,"Next Planned Maintenance Date*"),l.Vb(),l.Wb(40,"input",26),l.ic("ngModelChange",(function(e){return t.assetMaintenance.nextPlannedMaintenance=e})),l.Vb(),l.Sb(41,"owl-date-time",22,27),l.Wb(43,"div",24),l.Sb(44,"i-feather",25),l.Vb(),l.Vb(),l.Vb(),l.Wb(45,"div",19),l.Wb(46,"div",20),l.Wb(47,"label"),l.Tc(48,"Notes*"),l.Vb(),l.Wb(49,"input",28),l.ic("ngModelChange",(function(e){return t.assetMaintenance.notes=e})),l.Vb(),l.Vb(),l.Vb(),l.Wb(50,"div",19),l.Wb(51,"div",29),l.Wb(52,"label"),l.Tc(53,"Maintenance Status*"),l.Vb(),l.Wb(54,"select",30),l.ic("ngModelChange",(function(e){return t.assetMaintenance.maintenanceStatusId=e})),l.Wb(55,"option",31),l.Tc(56,"Select"),l.Vb(),l.Rc(57,he,2,2,"option",32),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(58,"div",17),l.Wb(59,"div",33),l.Wb(60,"ul",34),l.Wb(61,"li",35),l.Wb(62,"button",36),l.Tc(63,"Submit"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb()}if(2&e){var a=l.Hc(22),s=l.Hc(33),i=l.Hc(42);l.Cb(3),l.uc("routerLinkActiveOptions",l.Ac(21,ye)),l.Cb(15),l.uc("ngIf",!t.isEditAssetMaintenance),l.Cb(1),l.uc("ngIf",t.isEditAssetMaintenance),l.Cb(1),l.uc("ngIf",t.isAssetMaintenanceLoaded),l.Cb(4),l.uc("message",t.alertMessage)("isError",t.isError),l.Cb(2),l.uc("ngIf",t.isEditAssetMaintenance),l.Cb(5),l.uc("owlDateTime",s)("owlDateTimeTrigger",s)("ngModel",t.assetMaintenance.lastMaintenanceDate),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(2),l.uc("owlDateTimeTrigger",s),l.Cb(6),l.uc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",t.assetMaintenance.nextPlannedMaintenance),l.Cb(1),l.uc("pickerType","calendar"),l.Cb(2),l.uc("owlDateTimeTrigger",i),l.Cb(6),l.uc("ngModel",t.assetMaintenance.notes),l.Cb(5),l.uc("ngModel",t.assetMaintenance.maintenanceStatusId),l.Cb(3),l.uc("ngForOf",t.statusTypeData),l.Cb(5),l.uc("disabled",a.invalid)}},directives:[s.e,s.d,A.c,a.l,p.B,p.o,p.p,g.a,T.c,p.d,p.x,T.e,p.n,p.q,T.b,b.b,p.y,p.r,p.A,a.k],styles:[""]}),ve),Ie=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:k},{path:"create-asset",component:R},{path:"edit-asset/:id",component:R},{path:"add-asset-maintenance/:id/:type",component:Ve},{path:"edit-asset-maintenance/:id",component:Ve},{path:"view",component:be},{path:"view/:id",component:be},{path:"reports",component:E},{path:"**",redirectTo:"settings",pathMatch:"full"}],We=((Ce=function e(){_classCallCheck(this,e)}).\u0275mod=l.Pb({type:Ce}),Ce.\u0275inj=l.Ob({factory:function(e){return new(e||Ce)},imports:[[s.f.forChild(Ie)],s.f]}),Ce),ke=n("PCNd"),Se=((Me=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Me)},Me.\u0275cmp=l.Lb({type:Me,selectors:[["app-assets"]],decls:1,vars:0,template:function(e,t){1&e&&l.Sb(0,"router-outlet")},directives:[s.g],styles:[""]}),Me);n.d(t,"AssetsModule",(function(){return Te}));var Ae,Te=((Ae=function e(){_classCallCheck(this,e)}).\u0275mod=l.Pb({type:Ae,bootstrap:[Se]}),Ae.\u0275inj=l.Ob({factory:function(e){return new(e||Ae)},imports:[[a.b,ke.a,We]]}),Ae)},is7e:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("fXoL"),s=n("3Pt+"),i=n("ofXK"),o=n("8mtn"),r=["selectFieldElem"];function c(e,t){if(1&e){var n=a.Xb();a.Ub(0),a.Wb(1,"li",10),a.ic("click",(function(){a.Kc(n);var e=t.$implicit,s=a.mc();return s.getSelectedItem(e,s.fieldItemName)})),a.Tc(2),a.Vb(),a.Tb()}if(2&e){var s=t.$implicit,i=a.mc();a.Cb(1),a.uc("ngClass",i.isSelectedItem(i.getItemName(s,i.fieldItemName),i.fieldModel)),a.Cb(1),a.Uc(i.getItemName(s,i.fieldItemName))}}function l(e,t){if(1&e){var n=a.Xb();a.Wb(0,"div",11),a.ic("click",(function(){return a.Kc(n),a.mc().clearItems()})),a.Sb(1,"i-feather",12),a.Vb()}}var d=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.renderer=n,this.inputChange=new a.n,this.inputStatus=new a.n,this.isItemSelected=!1,this.isExpanded=!1}return _createClass(e,[{key:"getItemName",value:function(e,t){return e[t]}},{key:"isFieldRequired",value:function(){return"required"==this.fieldRequired}},{key:"isSelectedItem",value:function(e,t){return e==t?"selected":""}},{key:"getSelectedItem",value:function(e,t){this.fieldModel=e[t],this.inputChange.emit(e),this.isItemSelected=!0,this.isExpanded=!1}},{key:"clearItems",value:function(e){this.fieldModel="",this.inputChange.emit(null),this.isItemSelected=!1,this.isExpanded=!1}},{key:"onDocumentClick",value:function(e){var t=this.element.nativeElement;if(t.children.length>0){var n=t.children[0].children[0].children[1].nextSibling.classList.contains("up");t.contains(e.target)||n&&this.enableSelect()}}},{key:"enableSelect",value:function(){var e=this.element.nativeElement.children[0].children[0].children[1].nextSibling,t=e.nextSibling,n=e.classList.contains("up"),a=t.classList.contains("active");n?this.renderer.removeClass(e,"up"):this.renderer.addClass(e,"up"),a?this.renderer.removeClass(t,"active"):this.renderer.addClass(t,"active")}},{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){e.el.nativeElement.classList.contains("ng-valid")&&e.inputStatus.emit(!0)}),200)}},{key:"ngDoCheck",value:function(){"null"!=this.fieldModel&&"undefined"!=this.fieldModel&&0!=this.fieldModel||(this.fieldModel=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Rb(a.l),a.Rb(a.E))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-simple-select-box"]],viewQuery:function(e,t){var n;1&e&&a.Pc(r,!0),2&e&&a.Gc(n=a.jc())&&(t.el=n.first)},hostBindings:function(e,t){1&e&&a.ic("click",(function(e){return t.onDocumentClick(e)}),!1,a.Ic)},inputs:{fieldName:"fieldName",fieldText:"fieldText",fieldPlaceholder:"fieldPlaceholder",fieldModel:"fieldModel",fieldRequired:"fieldRequired",fieldList:"fieldList",fieldClass:"fieldClass",isDisabled:"isDisabled",fieldItemName:"fieldItemName",isLabel:"isLabel"},outputs:{inputChange:"inputChange",inputStatus:"inputStatus"},features:[a.Bb([],[{provide:s.c,useExisting:s.p}])],decls:11,vars:16,consts:[["name","selectFieldForm","novalidate",""],["selectFieldForm","ngForm"],[1,"select-group","form-group",3,"ngClass"],[3,"for","ngClass"],["type","text","readonly","","autocomplete","off",3,"placeholder","name","required","ngModel","readonly","ngModelChange","click"],["selectFieldElem",""],[1,"select-arrow","down",3,"ngClass"],[1,"select-list-dropdown",3,"ngClass"],[4,"ngFor","ngForOf"],["class","clear-filter",3,"click",4,"ngIf"],[3,"ngClass","click"],[1,"clear-filter",3,"click"],["name","x",1,"icon","del"]],template:function(e,t){1&e&&(a.Wb(0,"form",0,1),a.Wb(2,"div",2),a.Wb(3,"label",3),a.Tc(4),a.Vb(),a.Wb(5,"input",4,5),a.ic("ngModelChange",(function(e){return t.fieldModel=e}))("click",(function(){return t.isExpanded=!t.isExpanded})),a.Vb(),a.Sb(7,"span",6),a.Wb(8,"div",7),a.Rc(9,c,3,2,"ng-container",8),a.Vb(),a.Rc(10,l,2,0,"div",9),a.Vb(),a.Vb()),2&e&&(a.Cb(2),a.uc("ngClass",t.isDisabled?"disabled":""),a.Cb(1),a.vc("for",t.fieldName),a.uc("ngClass","true"==t.isLabel?"":"d-none"),a.Cb(1),a.Uc(t.fieldText),a.Cb(1),a.Gb("form-control simple-select ",t.fieldClass,""),a.vc("placeholder",t.fieldPlaceholder),a.vc("name",t.fieldName),a.uc("required",t.isFieldRequired()?"required":null)("ngModel",t.fieldModel)("readonly",t.isDisabled),a.Cb(2),a.uc("ngClass",t.isExpanded?"up":""),a.Cb(1),a.uc("ngClass",t.isExpanded?"active":""),a.Cb(1),a.uc("ngForOf",t.fieldList),a.Cb(1),a.uc("ngIf",t.isItemSelected))},directives:[s.B,s.o,s.p,i.j,s.d,s.x,s.n,s.q,i.k,i.l,o.b],styles:['@charset "UTF-8";.select-group[_ngcontent-%COMP%]{position:relative}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%]{cursor:pointer;color:#8391a1}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%], .select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%]:focus{box-shadow:0 1px 3px 0 rgba(25,28,30,.1);-moz-box-shadow:0 1px 3px 0 rgba(25,28,30,.1);-webkit-box-shadow:0 1px 3px 0 rgba(25,28,30,.1);border:1px solid hsla(0,0%,91.8%,.8)!important}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%]:focus{background-color:#fff!important}.select-group[_ngcontent-%COMP%]   .simple-select[readonly][_ngcontent-%COMP%]{background-color:#f9f9f9!important;pointer-events:none}.select-group[_ngcontent-%COMP%]   .simple-select[readonly][_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #e6e6e6 inset;-webkit-text-fill-color:#e6e6e6}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]{position:relative;top:-30px;right:20px;float:right}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]:before{position:absolute;font-family:FontAwesome;font-size:1.6rem;left:0!important}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%] + .select-arrow[_ngcontent-%COMP%]:after{content:none}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%] + .select-arrow.down[_ngcontent-%COMP%]:before{content:"\uf107"}.select-group[_ngcontent-%COMP%]   .simple-select[_ngcontent-%COMP%] + .select-arrow.up[_ngcontent-%COMP%]:before{content:"\uf106"}.select-group[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]{position:absolute;right:-18px;top:12px;float:right}.select-group[_ngcontent-%COMP%]   .clear-filter[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]{position:absolute;background:#fff;display:none;float:left;max-height:250px;min-width:200px;overflow:auto;z-index:1000;box-shadow:0 2px 12px rgba(0,0,0,.15);-moz-box-shadow:0 2px 12px rgba(0,0,0,.15);-webkit-box-shadow:0 2px 12px rgba(0,0,0,.15);border:1px solid #eaeaea;margin:3px 0 0}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;color:#8391a1;font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;padding:7px 15px 6px;cursor:pointer;text-transform:capitalize}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eaeaea}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:8px}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f3f5f7}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#f3f5f7;position:relative;color:#373946}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:after{content:"";background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/tick-icon.svg);width:12px;height:12px;position:absolute;background-repeat:no-repeat;right:25px;top:10px}.select-group[_ngcontent-%COMP%]   .select-list-dropdown.active[_ngcontent-%COMP%]{display:block}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   .mCSB_inside[_ngcontent-%COMP%] > .mCSB_container[_ngcontent-%COMP%]{margin-right:0!important}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   .mCSB_scrollTools[_ngcontent-%COMP%]{right:0!important;margin:5px 0}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   .mCSB_scrollTools[_ngcontent-%COMP%]   .mCSB_dragger[_ngcontent-%COMP%]   .mCSB_dragger_bar[_ngcontent-%COMP%]{background:#e5e5e5;width:10px;border-radius:4px!important}.select-group[_ngcontent-%COMP%]   .select-list-dropdown[_ngcontent-%COMP%]   .mCSB_scrollTools[_ngcontent-%COMP%]   .mCSB_draggerRail[_ngcontent-%COMP%]{width:12px;background:#f6f8f8;border-radius:4px!important}']}),e}()}}]);