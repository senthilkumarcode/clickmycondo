(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{Vdnx:function(e,t,n){"use strict";n.r(t);var c=n("ofXK"),i=n("tyNb"),o=n("NutR"),r=n("Yt4J"),a=n("MXRh"),s=n("wbvY"),d=n("ThaB"),g=n("JK/P"),l=n("fXoL"),p=n("0IaG"),h=n("b6Qw"),u=n("668k"),m=n("8mtn"),O=n("BR9Y"),b=n("3Pt+");const f=["confirmEmergencyRef"];function C(e,t){1&e&&l.ec(0,"app-loader")}function y(e,t){if(1&e){const e=l.jc();l.ic(0,"div",14),l.ic(1,"div",15),l.uc("click",(function(){l.Wc(e);const n=t.$implicit,c=l.yc(2);return c.showConfirmEmergency(n,c.getEmergencyType(n.lookupValueId))})),l.ic(2,"div",16),l.ec(3,"img",17),l.hc(),l.ic(4,"h4"),l.fd(5),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit,n=l.yc(2);l.Ob(1),l.Gc("ngClass",n.getEmergencyType(e.lookupValueId)),l.Ob(2),l.Ic("src","assets/images/",n.getEmergencyType(e.lookupValueId),"-e-icon.svg",l.Yc),l.Ob(2),l.gd(e.lookupValueName)}}const M=function(){return{exact:!0}};function P(e,t){if(1&e&&(l.gc(0),l.ic(1,"div",3),l.ic(2,"h4"),l.fd(3,"Hi "),l.ic(4,"span",4),l.fd(5),l.hc(),l.hc(),l.ic(6,"h4"),l.fd(7,"We are here to help you."),l.hc(),l.hc(),l.ic(8,"a",5),l.ic(9,"div",6),l.ic(10,"div",7),l.ic(11,"div",8),l.ec(12,"img",9),l.hc(),l.ic(13,"h4",10),l.fd(14,"Emergency Contacts"),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(15,"div",11),l.ic(16,"h5"),l.fd(17,"Select the emergency assistance needed"),l.hc(),l.ic(18,"div",12),l.dd(19,y,6,3,"div",13),l.hc(),l.hc(),l.fc()),2&e){const e=l.yc();l.Ob(5),l.gd(e.userName),l.Ob(3),l.Gc("routerLinkActiveOptions",l.Mc(3,M)),l.Ob(11),l.Gc("ngForOf",e.emergencyList)}}function _(e,t){if(1&e){const e=l.jc();l.ic(0,"div",25),l.ic(1,"div",26),l.ic(2,"p"),l.fd(3,"You have selected"),l.hc(),l.ic(4,"h4"),l.fd(5),l.hc(),l.ic(6,"div",27),l.ec(7,"img",28),l.hc(),l.hc(),l.ic(8,"h5"),l.fd(9,"Slide to confirm the assistance"),l.hc(),l.ic(10,"div"),l.ic(11,"input",29),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).rangeValue=t}))("ngModelChange",(function(){l.Wc(e);const t=l.yc().$implicit;return l.yc().getRangeValue(t)})),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc().$implicit,t=l.yc();l.Ob(5),l.gd(e.lookupValueName),l.Ob(2),l.Ic("src","assets/images/",t.getEmergencyType(e.lookupValueId),"-e-icon.svg",l.Yc),l.Ob(3),l.Sb("range-slider ",t.getEmergencyType(e.lookupValueId),""),l.Ob(1),l.Gc("ngModel",t.rangeValue)}}function v(e,t){1&e&&(l.ic(0,"div",30),l.ic(1,"h4",31),l.fd(2,"Request is in progress"),l.hc(),l.ec(3,"app-loader",32),l.hc())}function k(e,t){if(1&e){const e=l.jc();l.ic(0,"div",33),l.ic(1,"div",26),l.ic(2,"p"),l.fd(3,"You have requested"),l.hc(),l.ic(4,"h4"),l.fd(5),l.hc(),l.ic(6,"div",27),l.ec(7,"img",34),l.hc(),l.ic(8,"h5"),l.fd(9,"Your location has been shared. Hold tight. Support is on the way"),l.hc(),l.ic(10,"div",35),l.ic(11,"a",36),l.uc("click",(function(){return l.Wc(e),l.yc(2).closeAlertModal()})),l.fd(12,"Ok"),l.hc(),l.ic(13,"a",37),l.uc("click",(function(){return l.Wc(e),l.yc(2).cancelEmergency()})),l.fd(14,"Cancel Emergency"),l.hc(),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc().$implicit,t=l.yc();l.Ob(5),l.gd(e.lookupValueName),l.Ob(6),l.Sb("btn d-block tc-white mb-3 ",t.getEmergencyType(e.lookupValueId),"")}}function I(e,t){if(1&e){const e=l.jc();l.ic(0,"div",33),l.ic(1,"div",26),l.ic(2,"p"),l.fd(3,"Your request for"),l.hc(),l.ic(4,"h4"),l.fd(5),l.hc(),l.ic(6,"div",27),l.ec(7,"img",28),l.hc(),l.ic(8,"h5"),l.fd(9,"has been cancelled. Thanks for contacting us"),l.hc(),l.ic(10,"div",35),l.ic(11,"a",36),l.uc("click",(function(){return l.Wc(e),l.yc(2).closeAlertModal()})),l.fd(12,"Ok"),l.hc(),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc().$implicit,t=l.yc();l.Ob(5),l.gd(e.lookupValueName),l.Ob(2),l.Ic("src","assets/images/",t.getEmergencyType(e.lookupValueId),"-e-icon.svg",l.Yc),l.Ob(4),l.Sb("btn d-block tc-white mb-3 ",t.getEmergencyType(e.lookupValueId),"")}}function w(e,t){if(1&e&&(l.ic(0,"div",18),l.ic(1,"div",19),l.ec(2,"i-feather",20),l.hc(),l.ic(3,"div",21),l.ic(4,"div"),l.dd(5,_,12,6,"div",22),l.dd(6,v,4,0,"div",23),l.dd(7,k,15,4,"div",24),l.dd(8,I,13,5,"div",24),l.hc(),l.hc(),l.hc()),2&e){const e=t.$implicit,n=l.yc();l.Ob(4),l.Sb("card-body ",e.type,""),l.Ob(1),l.Gc("ngIf",!n.isRangeDone&&!n.isRequestSuccess&&!n.isRequestDeleted),l.Ob(1),l.Gc("ngIf",n.isRangeDone),l.Ob(1),l.Gc("ngIf",n.isRequestSuccess&&!n.isRequestDeleted),l.Ob(1),l.Gc("ngIf",n.isRequestDeleted)}}let x=(()=>{class e{constructor(e,t,n,c,i,o,r,a,s){this.injector=e,this.dialog=t,this.router=n,this.alertService=c,this.userService=i,this.apartmentService=o,this.sharedService=r,this.lookupService=a,this.cookieService=s,this.isEmergenciesLoaded=!1,this.rangeValue=0,this.maxRange=10,this.isRangeDone=!1,this.isRequestSuccess=!1,this.isRequestDeleted=!1,this.modalService=this.injector.get(g.a)}getEmergencyType(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}getRangeValue(e){if("100"==this.rangeValue){this.isRangeDone=!0;let t={apartmentBlockUnitId:this.apartmentBlockUnitId,receivedDate:"2019-12-06T13:45:09.296Z",alertTypeId:e.lookupValueId,location:"string",gpslocation:this.gpsLocation,assignedTo:0,alertStatusId:135,notes:"",isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-06T13:45:09.296Z",updatedBy:0,updatedOn:"2019-12-06T13:45:09.296Z"};this.alertService.addApartmentBlockUnitAlert(t).subscribe(e=>{e.message&&(this.isRangeDone=!1,this.isRequestSuccess=!0,this.alertId=e.message)},e=>{console.log(e)})}}closeAlertModal(){this.confirmDialogRef.close(),this.confirmDialogRef.afterClosed().subscribe(e=>{this.router.navigateByUrl("user/alert-security/my-history")})}showConfirmEmergency(e,t){var n=e;n.type=t,this.confirmDialogRef=this.dialog.open(this.confirmEmergencyRef,{panelClass:"material",disableClose:!0,data:n}),this.confirmDialogRef.afterClosed().subscribe(e=>{this.isRangeDone=!1})}cancelEmergency(){this.isRangeDone=!0;var e={apartmentBlockUnitAlertId:this.alertId,deleteBy:parseInt(this.cookieService.get("userId"))};this.alertService.deleteApartmentBlockUnitAlert(e).subscribe(e=>{e.message&&(this.isRangeDone=!1,this.isRequestDeleted=!0)},e=>{console.log(e)})}setCurrentLocation(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{this.gpsLocation=e.coords.latitude+","+e.coords.longitude})}ngOnInit(){this.lookupService.getLookupValueByLookupTypeId(29).subscribe(e=>{this.isEmergenciesLoaded=!0,this.emergencyList=e}),this.userService.getUserById(parseInt(this.cookieService.get("userId"))).subscribe(e=>{this.userName=e[0].firstName,this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe(e=>{this.apartmentBlockUnitId=e[0].apartmentBlockUnitId},e=>{console.log(e)})},e=>{console.log(e)}),this.setCurrentLocation()}}return e.\u0275fac=function(t){return new(t||e)(l.dc(l.x),l.dc(p.b),l.dc(i.c),l.dc(a.a),l.dc(o.a),l.dc(r.a),l.dc(s.a),l.dc(d.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-send-panic-alert"]],viewQuery:function(e,t){var n;1&e&&l.ld(f,!0),2&e&&l.Sc(n=l.vc())&&(t.confirmEmergencyRef=n.first)},decls:5,vars:2,consts:[[1,"send-panic-wrapper"],[4,"ngIf"],["confirmEmergencyRef",""],[1,"message-box"],[1,"text-capitialize"],["href","javascript:void(0)","routerLink","/user/alert-security/emergency-contacts","routerLinkActive","active",1,"n-text",3,"routerLinkActiveOptions"],[1,"card","e-card"],[1,"card-body"],[1,"icon","float-left"],["src","assets/images/siren-new-icon.svg"],[1,"float-left"],[1,"alert-lists"],[1,"alerts","d-flex"],["class","box card sos-card",4,"ngFor","ngForOf"],[1,"box","card","sos-card"],[1,"card-body",3,"ngClass","click"],[1,"icon"],[3,"src"],[1,"emergency-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"card"],["class","details-wrapper",4,"ngIf"],["class","request-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"details-wrapper"],[1,"details","text-center"],[1,"image-wrapper","text-center"],["width","70",3,"src"],["type","range",3,"ngModel","ngModelChange"],[1,"request-message"],[1,"mb-4"],["color","white"],[1,"success-message"],["src","assets/images/checked-icon.svg","width","70"],[1,"btn-wrapper"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",1,"btn","d-block","tc-white",3,"click"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,C,1,0,"app-loader",1),l.dd(2,P,20,4,"ng-container",1),l.dd(3,w,9,7,"ng-template",null,2,l.ed),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isEmergenciesLoaded),l.Ob(1),l.Gc("ngIf",t.isEmergenciesLoaded))},directives:[c.l,u.a,i.e,i.d,c.k,c.j,p.c,m.b,O.a,b.v,b.d,b.n,b.q],styles:['.send-panic-wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#191c1e;margin:0 0 4px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]{margin:30px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;color:#8391a1}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]{margin:20px 0 0;flex-direction:column}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px 20px;color:#fff;position:relative;cursor:pointer}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;background-size:62%;opacity:.2;-moz-opacity:.2;-webkit-opacity:.2;background-repeat:no-repeat;background-position:right -73px;left:20%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{background-size:25%;background-position:right -60px;left:0}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:68%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:32%}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]{background:#00bcd4;background:linear-gradient(135deg,#00bcd4,#2196f3)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/medical-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-1px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]{background:#f7d061;background:linear-gradient(135deg,#f7d061,#ef60a5)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/theft-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]{background:#ff9800;background:linear-gradient(135deg,#ff9800,#e91e63)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/fire-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]{background:#64a1fd;background:linear-gradient(135deg,#64a1fd,#9100ff)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/shooter-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#06bf58)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/police-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.other[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#37e785)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{float:left}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-3px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]{margin:35px 0 40px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:25px 20px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-9px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem}']}),e})();var S=n("F/us"),L=n("wd/R"),E=n("NhFE"),T=n("bvAq");function A(e,t){1&e&&l.ec(0,"app-loader")}function R(e,t){if(1&e&&(l.ic(0,"tr"),l.ic(1,"td",11),l.ic(2,"div",12),l.ic(3,"div"),l.ec(4,"img",13),l.hc(),l.ic(5,"div",14),l.ic(6,"div"),l.fd(7),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(8,"td",15),l.fd(9),l.hc(),l.ic(10,"td",15),l.ic(11,"span",16),l.fd(12),l.hc(),l.hc(),l.hc()),2&e){const e=t.$implicit,n=l.yc(2);l.Ob(3),l.Sb("s-circle ",n.getEmergencyType(e.alertTypeId)," text-center"),l.Ob(1),l.Ic("src","assets/images/",n.getEmergencyType(e.alertTypeId),"-e-icon.svg",l.Yc),l.Ob(3),l.gd(n.getAlertName(e.alertTypeId)),l.Ob(2),l.gd(n.getDate(e.receivedDate)),l.Ob(2),l.Gc("ngClass",n.getAlertStatus(e.alertStatusId)),l.Ob(1),l.gd(n.getAlertStatus(e.alertStatusId))}}function B(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"div",2),l.ic(2,"div",3),l.ic(3,"div",4),l.ic(4,"h5"),l.fd(5,"My History"),l.hc(),l.hc(),l.hc(),l.ic(6,"div",5),l.ic(7,"table",6),l.ic(8,"thead"),l.ic(9,"tr"),l.ic(10,"th",7),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("alertName")})),l.fd(11,"Type "),l.ec(12,"span",8),l.hc(),l.ic(13,"th",7),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("date")})),l.fd(14,"Date "),l.ec(15,"span",8),l.hc(),l.ic(16,"th",7),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("status")})),l.fd(17,"Status "),l.ec(18,"span",8),l.hc(),l.hc(),l.hc(),l.ic(19,"tbody"),l.dd(20,R,13,8,"tr",9),l.zc(21,"slice"),l.zc(22,"orderBy"),l.hc(),l.hc(),l.ic(23,"app-pagination",10),l.uc("outputParams",(function(t){return l.Wc(e),l.yc().getIndexParams(t)})),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.yc();l.Ob(12),l.Gc("ngClass",e.getFieldOrderBy("alertName")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("date")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("status")),l.Ob(2),l.Gc("ngForOf",l.Cc(21,8,l.Cc(22,12,e.alertList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex)),l.Ob(3),l.Gc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function D(e,t){1&e&&l.ec(0,"app-loader")}function V(e,t){if(1&e&&(l.gc(0),l.ic(1,"li",7),l.ic(2,"div",8),l.ec(3,"img",9),l.ic(4,"div",10),l.ic(5,"h6",11),l.fd(6),l.hc(),l.ic(7,"p"),l.fd(8),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()),2&e){const e=t.$implicit;l.Ob(6),l.gd(e.contactCategory),l.Ob(2),l.gd(e.contactNumber)}}function G(e,t){if(1&e&&(l.gc(0),l.ic(1,"div",2),l.ic(2,"div",3),l.ic(3,"div",4),l.ic(4,"h5"),l.fd(5,"Emergency Contact Numbers"),l.hc(),l.hc(),l.hc(),l.ic(6,"div",5),l.dd(7,V,9,2,"ng-container",6),l.hc(),l.hc(),l.fc()),2&e){const e=l.yc();l.Ob(7),l.Gc("ngForOf",e.emergencyList)}}const U=[{path:"",redirectTo:"send-panic-alert",pathMatch:"full"},{path:"send-panic-alert",component:x},{path:"my-history",component:(()=>{class e{constructor(e,t,n,c,i){this.apartmentService=e,this.alertService=t,this.lookupService=n,this.sharedService=c,this.cookieService=i,this.isAlertsLoaded=!1,this.ItemStartIndex=0,this.itemLimit=10,this.unitFieldType="unitno",this.unitOrder=!1,this.isMobile=!1}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}getEmergencyType(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}getAlertName(e){var t=S.filter(this.emergencyTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}getAlertStatus(e){var t=S.filter(this.alertTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}getDate(e){return L(e).format("MM/DD/YYYY, h:mm A")}isMobileView(){return window.innerWidth<=767?"table-responsive":""}ngOnInit(){this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe(e=>{this.apartmentBlockUnitId=e[0].apartmentBlockUnitId,this.alertService.getAllApartmentBlockUnitAlertByApartmentBlockUnitId(this.apartmentBlockUnitId).subscribe(e=>{this.alertList=e.filter(e=>e.isActive),this.totalItems=this.alertList.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isAlertsLoaded=!0,console.log(this.alertList)},e=>{console.log(e)})},e=>{console.log(e)}),this.lookupService.getLookupValueByLookupTypeId(29).subscribe(e=>{this.emergencyTypeList=e}),this.lookupService.getLookupValueByLookupTypeId(30).subscribe(e=>{this.alertTypeList=e})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(r.a),l.dc(a.a),l.dc(d.a),l.dc(s.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-security-my-history"]],decls:3,vars:2,consts:[[1,"secuirty-my-history-wrapper"],[4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"media"],["width","14",3,"src"],[1,"media-body"],[1,"grey"],[1,"badge","small","text-uppercase","min",3,"ngClass"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,A,1,0,"app-loader",1),l.dd(2,B,24,16,"ng-container",1),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isAlertsLoaded),l.Ob(1),l.Gc("ngIf",t.isAlertsLoaded))},directives:[c.l,u.a,c.j,c.k,E.a],pipes:[c.t,T.b],styles:[""]}),e})()},{path:"emergency-contacts",component:(()=>{class e{constructor(e,t,n,c){this.alertService=e,this.sharedService=t,this.lookupService=n,this.cookieService=c,this.isContactsLoaded=!1}ngOnInit(){this.alertService.getAllAlertEmergencyNumbers().subscribe(e=>{this.isContactsLoaded=!0,this.emergencyList=e},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(a.a),l.dc(s.a),l.dc(d.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-security-emergency-contact-numbers"]],decls:3,vars:2,consts:[[1,"emergency-contacts-wrapper"],[4,"ngIf"],[1,"card"],[1,"card-header","no-border"],[1,"float-left"],[1,"card-body","p-0","lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"media"],["src","assets/images/user-icon.svg","width","22",1,"mr-4"],[1,"media-body"],[1,"mb-2"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,D,1,0,"app-loader",1),l.dd(2,G,8,1,"ng-container",1),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isContactsLoaded),l.Ob(1),l.Gc("ngIf",t.isContactsLoaded))},directives:[c.l,u.a,c.k],styles:[""]}),e})()},{path:"**",redirectTo:"send-panic-alert",pathMatch:"full"}];let N=(()=>{class e{}return e.\u0275mod=l.bc({type:e}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},imports:[[i.f.forChild(U)],i.f]}),e})();var F=n("PCNd");let q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xb({type:e,selectors:[["app-alert-security"]],decls:1,vars:0,template:function(e,t){1&e&&l.ec(0,"router-outlet")},directives:[i.g],styles:[""]}),e})();n.d(t,"AlertSecurityModule",(function(){return Y}));let Y=(()=>{class e{}return e.\u0275mod=l.bc({type:e,bootstrap:[q]}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},imports:[[c.b,F.a,N]]}),e})()}}]);