{"version":3,"sources":["webpack:///src/app/modules/user/facility-booking/components/all-facility-bookings/all-facility-bookings.component.html","webpack:///src/app/modules/user/facility-booking/components/user-facility-calendar/user-facility-calendar.component.html","webpack:///src/app/modules/user/facility-booking/facility-booking.component.html","webpack:///src/app/modules/user/facility-booking/components/all-facility-bookings/all-facility-bookings.component.scss","webpack:///src/app/modules/user/facility-booking/components/all-facility-bookings/all-facility-bookings.component.ts","webpack:///src/app/modules/user/facility-booking/components/user-facility-calendar/user-facility-calendar.component.scss","webpack:///src/app/modules/user/facility-booking/components/user-facility-calendar/user-facility-calendar.component.ts","webpack:///src/app/modules/user/facility-booking/facility-booking-routing.module.ts","webpack:///src/app/modules/user/facility-booking/facility-booking.component.scss","webpack:///src/app/modules/user/facility-booking/facility-booking.component.ts","webpack:///src/app/modules/user/facility-booking/facility-booking.module.ts"],"names":["AllFacilityBookingsComponent","router","route","injector","userService","facilityService","lookupService","sharedService","cookieService","isBookingDataLoaded","unitFieldType","unitOrder","ItemStartIndex","itemLimit","bookingData","staffData","isNoItems","selectedInput","columnField","modalService","get","event","ItemEndIndex","type","window","innerWidth","id","data","facilityCategoryData","item","apartmentFacilityId","undefined","length","facilityName","facilitySlotData","apartmentFacilitySlotId","beginTime","slotBeginTime","toDate","format","EndTime","slotEndTime","date","userListData","userId","firstName","statusTypeData","lookupValueId","lookupValueName","toLowerCase","name","index","showBookingCancelConfirmModal","params","apartmentId","parseInt","getApartmentFacilitiesByApartmentId","subscribe","res","filter","isActive","console","log","error","statusTypeParams","LookupTypeId","getLookupValueByLookupTypeId","facilityParams","getApartmentFacilitySlotsByApartmentId","userListParams","getAllUsersByApartmentId","bookingListParams","getApartmentFacilityBookingsByApartmentId","bookingListData","neededUserId","totalItems","unitlistdeleteindexcast","apartmentFacilityBookingId","deleteBy","deleteApartmentFacilityBooking","splice","setUnitListDeleteIndex","selector","template","UserFacilityCalendarComponent","calendarPlugins","calendarEvents","isCalenderLoaded","arg","navigate","categoryParams","bookingParams","facilityBookingData","booking","bookedForDate","nameItem","slotData","slotId","push","title","getFacilityBookingData","routes","path","redirectTo","pathMatch","component","FacilityBookingRoutingModule","imports","forChild","exports","FacilityBookingComponent","FacilityBookingModule","declarations","bootstrap"],"mappings":"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","file":"modules-user-facility-booking-facility-booking-module-es5.js","sourcesContent":["export default \"<div class=\\\"all-facility-bookings-wrapper\\\">\\n\\t\\n\\t<app-loader *ngIf=\\\"!isBookingDataLoaded\\\"></app-loader>\\n\\n\\t<div class=\\\"card table-card\\\" *ngIf=\\\"isBookingDataLoaded\\\">\\n\\t\\t\\n\\t\\t<div class=\\\"card-header\\\">\\n    \\t\\t<div class=\\\"float-left\\\">\\n    \\t\\t\\t<h5>All Bookings <span class=\\\"badge lime-green\\\">{{totalItems}}</span></h5>\\n    \\t\\t</div>\\n    \\t\\t<ul class=\\\"list-inline\\\">\\n    \\t\\t\\t<li class=\\\"list-inline-item search d-none d-md-inline-block\\\">\\n    \\t\\t\\t\\t<i class=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\"></i>\\n    \\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Search...\\\" [(ngModel)]=\\\"bookingData\\\" >\\n    \\t\\t\\t</li>\\n    \\t\\t\\t<li class=\\\"list-inline-item\\\">\\n\\n    \\t\\t\\t\\t<a class=\\\"btn lime-green mt_5\\\"\\n    \\t\\t\\t\\trouterLink=\\\"/user/facility-booking/create-booking\\\" \\n\\t\\t\\t\\t\\trouterLinkActive=\\\"active\\\"\\n\\t\\t\\t\\t\\t[routerLinkActiveOptions] = \\\"{exact:true}\\\">\\n    \\t\\t\\t\\t\\t<i-feather class=\\\"icon plus\\\" name=\\\"plus\\\"></i-feather>\\n    \\t\\t\\t\\t\\t<span>Create Booking</span>\\n    \\t\\t\\t\\t</a>\\n\\n    \\t\\t\\t</li>\\n\\n    \\t\\t</ul>\\n  \\t\\t</div>\\n\\n\\n  \\t\\t<div class=\\\"card-body p-0\\\">\\n  \\t\\t\\t\\n  \\t\\t\\t<table class=\\\"table\\\" [ngClass]=\\\"isMobileView()\\\">\\n  \\t\\t\\t\\n\\t  \\t\\t\\t<thead>\\n\\t\\t\\t\\t\\t<tr>\\n\\t\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('facilityId')\\\">Booking ID <span [ngClass]=\\\"getFieldOrderBy('facilityId')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('facilityName')\\\">Facility Name <span [ngClass]=\\\"getFieldOrderBy('facilityName')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('facilityName')\\\">Facility Location <span [ngClass]=\\\"getFieldOrderBy('facilityName')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('slot')\\\">Slot<span [ngClass]=\\\"getFieldOrderBy('slot')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('date')\\\">Booked For <span [ngClass]=\\\"getFieldOrderBy('Date')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('cost')\\\">Cost <span [ngClass]=\\\"getFieldOrderBy('cost')\\\"></span></th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\" (click)=\\\"sortUnitData('facilityBookingStatus')\\\">Status<span  [ngClass]=\\\"getFieldOrderBy('facilityBookingStatus')\\\"></span>\\n\\t\\t\\n\\t\\t\\t\\t\\t\\t</th>\\n\\t\\t\\t\\t\\t\\t<th scope=\\\"col\\\">Action</th>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t\\t</thead>\\n\\n\\t\\t\\t\\t<tbody>\\n\\t\\t\\t\\t    <tr *ngFor=\\\"let booking of bookingListData | simpleSearch: bookingData | sort : unitFieldType: unitOrder | slice:ItemUserStartIndex:ItemUserEndIndex ; let i = index\\\">\\n\\t\\t\\t\\t\\t \\n\\t\\t\\t\\t  \\t  <td class=\\\"name\\\">{{booking.apartmentFacilityBookingId}}</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"name\\\">\\n\\t\\t\\t\\t      {{getFacilityBookingName(booking.apartmentFacilityId)}}\\n\\t\\t\\t\\t      <span class=\\\"badge small min text-capitalize\\\" [ngClass]=\\\"getBookingStatus(booking.facilityBookingStatusId)\\\">{{getBookingStatus(booking.facilityBookingStatusId)}}</span>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t\\t<td class=\\\"name\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{getFacilityBookingName(booking.apartmentBlockID)}}\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"badge small min text-capitalize\\\" [ngClass]=\\\"getBookingStatus(booking.apartmentBlockID)\\\">{{getBookingStatus(booking.apartmentBlockID)}}</span>\\n\\t\\t\\t\\t\\t\\t\\t  </td>\\n\\t\\t\\t\\t      <td class=\\\"grey\\\">{{getFacilityBookingSlot(booking.slotId)}}</td>\\n\\t\\t\\t\\t      <td class=\\\"grey\\\">{{getBookedDate(booking.bookedForDate)}}</td>\\n\\t\\t\\t\\t      <td class=\\\"grey\\\">\\n\\t\\t\\t\\t      \\t<span *ngIf=\\\"booking.amount>0\\\">{{booking.amount}}</span>\\n\\t\\t\\t\\t      \\t<span *ngIf=\\\"booking.amount==0\\\">Free</span>\\n\\t\\t\\t\\t\\t  </td>\\n\\t\\t\\t\\t\\t  <td class=\\\"grey\\\"><span class=\\\"badge small min text-capitalize\\\" [ngClass]=\\\"getBookingStatus(booking, booking.facilityBookingStatusId)\\\">{{getBookingStatus(booking, booking.facilityBookingStatusId)}}</span></td>\\n\\t\\t\\t\\t      <td>\\n\\t\\t\\t\\t      \\t<a href=\\\"javascript:void(0)\\\"\\n\\t\\t\\t\\t      \\tclass=\\\"mr-2\\\" \\n\\t\\t\\t\\t      \\tplacement=\\\"top\\\"\\n\\t\\t\\t\\t      \\trouterLink=\\\"/ams/facility/edit-booking/{{booking.apartmentFacilityBookingId}}\\\" \\n\\t\\t\\t\\t\\t\\trouterLinkActive=\\\"active\\\"\\n\\t\\t\\t\\t\\t\\t[routerLinkActiveOptions] = \\\"{exact:true}\\\">\\n\\t\\t\\t\\t\\t\\t\\t<i-feather class=\\\"icon edit\\\" name=\\\"edit\\\"></i-feather>\\n\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t<a href=\\\"javascript:void(0)\\\" (click)=\\\"showConfirmModal(booking)\\\"><i class=\\\"fa fa-close\\\"></i></a>\\n\\t\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t    </tr>\\n\\t\\t\\t\\t    <tr *ngIf=\\\"isNoItems\\\"><td colspan=\\\"6\\\" class=\\\"grey text-center\\\">\\n\\t\\t\\t\\t    <p class=\\\"message\\\">No Items available</p>\\n\\t\\t\\t\\t\\t</td>\\n\\t\\t\\t\\t\\t</tr>\\n\\t\\t\\t    </tbody>\\n\\n  \\t\\t\\t</table>\\n\\n  \\t\\t\\t<app-pagination \\n\\t\\t\\t\\t[totalItems]=\\\"totalItems\\\"  \\n\\t\\t\\t\\t[ItemStartIndex]=\\\"ItemStartIndex\\\"\\n\\t\\t\\t\\t[ItemEndIndex] = \\\"ItemEndIndex\\\"\\n\\t\\t\\t\\t[itemLimit] = \\\"itemLimit\\\"\\n\\t\\t\\t\\t(outputParams) = \\\"getIndexParams($event)\\\">\\t\\n\\t\\t\\t</app-pagination>\\n\\n  \\t\\t</div>\\n\\n\\t</div>\\n\\n</div>\";","export default \"<div class=\\\"full-calendar-wrapper\\\">\\n\\n  <app-loader *ngIf=\\\"!isCalenderLoaded\\\"></app-loader>\\n\\n  <ng-container *ngIf=\\\"isCalenderLoaded\\\">\\n    \\n    <full-calendar\\n      defaultView=\\\"dayGridMonth\\\"\\n      [plugins]=\\\"calendarPlugins\\\"\\n      (eventClick)=\\\"handleEventClick($event)\\\"\\n      [header] =\\\"{\\n      left:   'today, prev,next',\\n      center: 'title',\\n      right:  'dayGridDay,dayGridWeek,dayGridMonth'}\\\"\\n      [events]=\\\"calendarEvents\\\"></full-calendar>\\n\\n  </ng-container>\\n\\n</div>\";","export default \"<router-outlet></router-outlet>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlci9mYWNpbGl0eS1ib29raW5nL2NvbXBvbmVudHMvYWxsLWZhY2lsaXR5LWJvb2tpbmdzL2FsbC1mYWNpbGl0eS1ib29raW5ncy5jb21wb25lbnQuc2NzcyJ9 */\";","import { Component, OnInit, Injector, HostListener } from '@angular/core';\nimport { Router, NavigationStart, NavigationEnd, ActivatedRoute } from '@angular/router';\n\nimport { UserService } from 'src/app/api/controllers/User';\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { ModalService } from 'src/app/shared/services/modal.service';\nimport { CookieService } from 'ngx-cookie-service';\n\nimport * as _ from 'underscore';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-all-facility-bookings',\n  templateUrl: './all-facility-bookings.component.html',\n  styleUrls: ['./all-facility-bookings.component.scss']\n})\nexport class AllFacilityBookingsComponent implements OnInit {\n\n  bookingListData:any;\n\n  isBookingDataLoaded:boolean = false;\n\n  unitFieldType:string = \"unitno\";\n  unitOrder:boolean = true;\n\n  ItemStartIndex:any = 0;\n  ItemEndIndex:any;\n  totalItems:any;\n  itemLimit:any = 10;\n\n  booking:any;\n  bookingData:string = \"\";\n\n  modalService:any;\n\n  staffData:string = \"\";\n\n  facilityCategoryData:any;\n  facilitySlotData:any;\n  statusTypeData:any;\n\n  userListData:any;\n\n  isNoItems:boolean = false;\n  selectedInput:string = \"\";\n  columnField: any = {}\n\n  constructor(\n  \tprivate router: Router,\n    private route: ActivatedRoute,\n    private injector: Injector,\n  \tprivate userService:UserService,\n    private facilityService:FacilityService,\n  \tprivate lookupService: LookupService,\n    private sharedService:SharedService,\n    private cookieService:CookieService\n  ) { \n  \tthis.modalService = this.injector.get(ModalService);\n  }\n\n  getIndexParams(event){\n    this.ItemStartIndex = event.ItemStartIndex;\n    this.ItemEndIndex = event.ItemEndIndex;\n    this.itemLimit = event.itemLimit;\n  }\n\n  sortUnitData(type){\n    this.unitFieldType = type;\n    this.unitOrder = !this.unitOrder;\n  }\n\n  getFieldOrderBy(type) {\n    if(this.unitFieldType == type){\n      return this.unitOrder ? 'asc' : 'desc';\n    }\n    else return '';\n  }\n\n  isMobileView() {\n    return window.innerWidth <= 767 ? 'table-responsive' : '';\n  }\n\n  getFacilityBookingName(id){\n  \t\n  \tvar data = _.filter( this.facilityCategoryData, function( item ) {\n      if(item.apartmentFacilityId === id)\n        return item;\n    });\n\n    if(data === undefined || data.length == 0){\n      return '';\n    }\n    else {\n      return data[0].facilityName;\n    }\n\n  }\n\n  getFacilityBookingSlot(id){\n  \t\n  \tvar data = _.filter( this.facilitySlotData, function( item ) {\n      if(item.apartmentFacilitySlotId === id)\n        return item;\n    });\n\n    if(data === undefined || data.length == 0){\n      return '';\n    }\n    else {\n     \n     var beginTime = moment(data[0].slotBeginTime, 'HH:mm:ss').toDate();\n     var slotBeginTime = moment(beginTime).format('HH:mm A');\n\n     var EndTime = moment(data[0].slotEndTime, 'HH:mm:ss').toDate();\n     var slotEndTime = moment(EndTime).format('HH:mm A');\n\n     return slotBeginTime+\" - \"+slotEndTime;\n\n\n    }\n\n  }\n\n  getBookedDate(date){\n  \treturn moment(date).format(\"DD/MM/YYYY\");\n  }\n\n  getUserName(id){\n  \t\n  \tvar data = _.filter( this.userListData, function( item ) {\n      if(item.userId === id)\n        return item;\n    });\n\n    if(data === undefined || data.length == 0){\n      return '';\n    }\n    else {\n      return data[0].firstName;\n    }\n\n    \n  }\n\n  getBookingStatus(id){\n\n    var data = _.filter( this.statusTypeData, function( item ) {\n      if(item.lookupValueId === id)\n        return item;\n    });\n\n    if(data === undefined || data.length == 0){\n      return '';\n    }\n    else {\n      return data[0].lookupValueName.toLowerCase();\n    }\n\n  }\n  onSelectChange(event, type, name){\n\n    if(!_.isEmpty(event)){\n      this.selectedInput = type;\n      this.columnField[type] = event[name];\n    }\n    else {\n       this.columnField = {};\n    }\n    \n  }\n\n  showConfirmModal(index) {\n    this.modalService.showBookingCancelConfirmModal(index);\n  }\n\n  ngOnInit() {\n\n    let params = {\n      apartmentId: parseInt(this.cookieService.get('apartmentId'))\n    }\n\n  \tthis.facilityService.getApartmentFacilitiesByApartmentId(params).subscribe((res:any) => {\n\n      this.facilityCategoryData = res.filter(item => {\n        return item.isActive;\n      })\n\n      console.log(this.facilityCategoryData);\n      \n    },\n    error => {\n\n    });\n\n    let statusTypeParams = {\n      LookupTypeId: 40\n    }\n\n    //status \n    this.lookupService.getLookupValueByLookupTypeId(statusTypeParams).subscribe((res:any) => {\n          \n      this.statusTypeData = res.filter( item => {\n          return item.isActive;\n      });\n\n    },\n    error => {\n      \n    }\n    );\n\n    let facilityParams = {\n      apartmentId: parseInt(this.cookieService.get('apartmentId'))\n    }\n\n    this.facilityService.getApartmentFacilitySlotsByApartmentId(facilityParams).subscribe((res:any) => {\n\n      this.facilitySlotData = res.filter(item => {\n        return item.isActive;\n      })\n\n      \n\n    },\n    error => {\n\n    });\n\n    let userListParams = {\n      apartmentId: parseInt(this.cookieService.get('apartmentId'))\n    }\n\n    this.userService.getAllUsersByApartmentId(userListParams).subscribe((res:any) => {\n\n\t    this.userListData = res.filter(data => {\n\t      return data.isActive\n\t    });\n\n\t    \n\n    },\n    error => {\n      \n    });\n\n    let bookingListParams = {\n      apartmentId: parseInt(this.cookieService.get('apartmentId'))\n    }\n\n  \tthis.facilityService.getApartmentFacilityBookingsByApartmentId(bookingListParams).subscribe((res:any) => {\n     console.log(this.cookieService.get('apartmentId'));\n  \t\t//filter active true items and booking related this user\n\t    this.bookingListData = res.filter(data => {\n\t      return data.isActive && ( data.neededUserId == parseInt(this.cookieService.get('userId')) )\n\t    });\n\n\t    if(this.bookingListData.length == 0 || this.bookingListData == undefined){\n\t    \tthis.isNoItems = true;\n\t    }\n\n\t    this.totalItems = this.bookingListData.length;\n\n\t    if(this.totalItems>this.itemLimit){\n\t      this.ItemEndIndex = this.itemLimit;\n\t    }\n\n\t    else {\n\t      this.ItemEndIndex = this.totalItems;\n\t    }\n\n\t    this.isBookingDataLoaded = true;\n\n  \t},\n    error => {\n      \n    });\n\n\n    // delete booking\n    this.sharedService.unitlistdeleteindexcast.subscribe( index => {\n\n      if(index != null){\n\n        var params = {\n          apartmentFacilityBookingId: this.bookingListData[index].apartmentFacilityBookingId,\n          deleteBy: parseInt(this.cookieService.get('userId'))\n        }\n\n        this.isBookingDataLoaded = false;\n\n        this.facilityService.deleteApartmentFacilityBooking(params).subscribe((res:any) => {\n\n          this.bookingListData.splice(index, 1);\n          this.totalItems = this.bookingListData.length;\n          this.isBookingDataLoaded = true;\n          this.sharedService.setUnitListDeleteIndex(null);\n\n        }, error => {\n          console.log(error);\n        });\n\n        \n      }\n\n    });\n   console.log(this.bookingListData);\n\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlci9mYWNpbGl0eS1ib29raW5nL2NvbXBvbmVudHMvdXNlci1mYWNpbGl0eS1jYWxlbmRhci91c2VyLWZhY2lsaXR5LWNhbGVuZGFyLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Router, NavigationStart, NavigationEnd, ActivatedRoute } from '@angular/router';\n\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { SharedService } from 'src/app/shared/services/shared.service';\nimport { CookieService } from 'ngx-cookie-service';\n\n\nimport dayGridPlugin from '@fullcalendar/daygrid';\n\nimport * as moment from 'moment';\nimport * as _ from 'underscore';\n\n@Component({\n  selector: 'app-user-facility-calendar',\n  templateUrl: './user-facility-calendar.component.html',\n  styleUrls: ['./user-facility-calendar.component.scss']\n})\nexport class UserFacilityCalendarComponent implements OnInit {\n\n  calendarPlugins = [dayGridPlugin]; // important!\n\n  calendarEvents:any = [];\n\n  facilityBookingData:any;\n\n  facilityCategoryData:any;\n  facilitySlotData:any;\n\n  isCalenderLoaded:boolean = false;\n\n  constructor(\n  \tprivate router: Router,\n    private route: ActivatedRoute,\n\tprivate facilityService:FacilityService,\n\tprivate lookupService: LookupService,\n\tprivate sharedService:SharedService,\n\tprivate cookieService:CookieService\n  ) { }\n\n  handleEventClick(arg){\n  \t\n  \tvar id = arg.event.id;\n  \tthis.router.navigate(['/user/facility-booking/edit-booking', id]);\n\n  }\n\n  getFacilityBookingData() {\n\n\tlet params = {\n\t\tapartmentId: parseInt(this.cookieService.get('apartmentId'))\n\t}\n\n  \tthis.facilityService.getApartmentFacilitySlotsByApartmentId(params).subscribe((res:any) => {\n\n      this.facilitySlotData = res.filter(item => {\n        return item.isActive;\n      })\n\n\n    },\n    error => {\n\n\t});\n\t\n\tlet categoryParams = {\n\t\tapartmentId: parseInt(this.cookieService.get('apartmentId'))\n\t}\n\n  \tthis.facilityService.getApartmentFacilitiesByApartmentId(categoryParams).subscribe((res:any) => {\n\n\n\t\tthis.facilityCategoryData = res.filter(item => {\n\t\t\treturn item.isActive;\n\t\t})\n\n\t\tlet bookingParams = {\n\t\t\tapartmentId: parseInt(this.cookieService.get('apartmentId'))\n\t\t}\n\n\t\tthis.facilityService.getApartmentFacilityBookingsByApartmentId(bookingParams).subscribe((res:any) => {\n\n\t\t\tthis.facilityBookingData = res.filter(item => {\n\t\t\t\treturn item.isActive && ( item.neededUserId == parseInt(this.cookieService.get('userId')) )\n\t\t\t});\n\n\n\t\t\t_.each(this.facilityBookingData, booking => {\n\n\t\t\t\tvar date = moment(booking.bookedForDate).format(\"YYYY-MM-DD\");\n\n\t\t\t\tvar nameItem = this.facilityCategoryData.filter( item => {\n  \t\t\t\t\treturn item.apartmentFacilityId == booking.apartmentFacilityId;\n  \t\t\t\t});\n\n  \t\t\t\tvar slotData = this.facilitySlotData.filter( item => {\n  \t\t\t\t\treturn item.apartmentFacilitySlotId == booking.slotId;\n  \t\t\t\t});\n\n\t\t\t\tvar beginTime = moment(slotData[0].slotBeginTime, 'HH:mm:ss').toDate();\n\t\t\t\tvar slotBeginTime = moment(beginTime).format('HH:mm A');\n\n\t\t\t\tvar EndTime = moment(slotData[0].slotEndTime, 'HH:mm:ss').toDate();\n\t\t\t\tvar slotEndTime = moment(EndTime).format('HH:mm A');\n\n  \t\t\t\tvar event = nameItem[0].facilityName + \" ( \" + slotBeginTime  + \"-\" + slotEndTime +\" ) \";\n\n\t\t\t\tthis.calendarEvents.push({ title: event, date: date, id: nameItem[0].apartmentFacilityId });\n\n\n\t\t\t\tthis.isCalenderLoaded = true;\n\n\t\t\t});\n\n\t\t},\n\t\terror => {\n\n\t\t});\n\t\t\t      \n\n    },\n    error => {\n\n    }); \n\n  }\n\n\n  ngOnInit() {\n\n  \tthis.getFacilityBookingData();\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { FacilityBookingComponent } from './facility-booking.component';\nimport { AllFacilityBookingsComponent } from './components/all-facility-bookings/all-facility-bookings.component';\nimport { UserFacilityCalendarComponent } from './components/user-facility-calendar/user-facility-calendar.component';\nimport { FacilityCreateBookingComponent } from 'src/app/shared/components/facility-create-booking/facility-create-booking.component';\n\nconst routes: Routes = [\n\t{ path: '', redirectTo: 'all-bookings', pathMatch: 'full'},\n\t{ path: 'all-bookings', component: AllFacilityBookingsComponent},\n\t{ path: 'create-booking', component: FacilityCreateBookingComponent},\n\t{ path: 'edit-booking/:id', component: FacilityCreateBookingComponent},\n\t{ path: 'calendar', component: UserFacilityCalendarComponent},\n\t{ path: '**', redirectTo: 'all-bookings', pathMatch: 'full'}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FacilityBookingRoutingModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlci9mYWNpbGl0eS1ib29raW5nL2ZhY2lsaXR5LWJvb2tpbmcuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-facility-booking',\n  templateUrl: './facility-booking.component.html',\n  styleUrls: ['./facility-booking.component.scss']\n})\nexport class FacilityBookingComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FacilityBookingRoutingModule } from './facility-booking-routing.module';\n\nimport { SharedModule } from 'src/app/shared/shared.module';\n\nimport { FacilityBookingComponent } from './facility-booking.component';\nimport { AllFacilityBookingsComponent } from './components/all-facility-bookings/all-facility-bookings.component';\nimport { UserFacilityCalendarComponent } from './components/user-facility-calendar/user-facility-calendar.component';\n\n@NgModule({\n  declarations: [\n\tFacilityBookingComponent,\n\tAllFacilityBookingsComponent,\n\tUserFacilityCalendarComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    FacilityBookingRoutingModule\n  ],\n  bootstrap: [ FacilityBookingComponent ]\n})\nexport class FacilityBookingModule { }\n"]}