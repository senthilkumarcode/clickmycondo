(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{cRhG:function(e,r,t){"use strict";t.r(r);var s=t("ofXK"),n=t("tyNb"),o=t("fXoL");let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Lb({type:e,selectors:[["app-profile"]],decls:1,vars:0,template:function(e,r){1&e&&o.Sb(0,"router-outlet")},directives:[n.g],styles:[""]}),e})();var a=t("NutR"),d=t("mfGn"),c=t("wbvY"),b=t("b6Qw"),p=t("1kSV"),u=t("3Pt+");function g(e,r){1&e&&(o.Wb(0,"div"),o.Wb(1,"div",24),o.Tc(2,"Password Mismatch"),o.Vb(),o.Vb())}function l(e,r){1&e&&(o.Wb(0,"span"),o.Tc(1,"Reset"),o.Vb())}function m(e,r){1&e&&(o.Wb(0,"span"),o.Sb(1,"div",25),o.Vb())}let h=(()=>{class e{constructor(e,r,t,s,n,o){this.router=e,this.route=r,this.userService=t,this.loginCheckService=s,this.sharedService=n,this.cookieService=o,this.userPassword="",this.userConfirmPassword="",this.isPasswordMatch=!1,this.isSubmitted=!0,this.genderType=null}logout(){this.sharedService.logout()}submitResetPasswordForm(e){if(this.isSubmitted=!1,this.userPassword!=this.userConfirmPassword)this.isPasswordMatch=!0;else{let e={userId:parseInt(this.cookieService.get("userId")),password:this.userPassword,updateBy:parseInt(this.cookieService.get("userId"))};this.loginCheckService.changePassword(e).subscribe(e=>{var r={userId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:"string",lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:"string",address1:"string",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:"2019-11-10T09:58:08.934Z",joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:"string",phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:this.user.isApproved,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(r).subscribe(e=>{e.message&&(this.isSubmitted=!0,this.sharedService.setAlertMessage("Password has been reset successfully"),this.router.navigateByUrl("/ams"))})},e=>{})}}clearErrors(){}ngOnInit(){this.userService.getUserById(this.route.params.value.id).subscribe(e=>{this.user=e[0],this.genderType=this.user.genderId.toString()})}}return e.\u0275fac=function(r){return new(r||e)(o.Rb(n.c),o.Rb(n.a),o.Rb(a.a),o.Rb(d.a),o.Rb(c.a),o.Rb(b.a))},e.\u0275cmp=o.Lb({type:e,selectors:[["app-reset-password"]],decls:35,vars:6,consts:[[1,"resetpass-header"],[1,"navbar"],["href","#",1,"navbar-brand"],[1,"container-fluid"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-12","offset-lg-3","offset-md-2"],[1,"forgotpass-form-wrapper"],[1,"text-center"],[1,"content","card"],[1,"card-body"],["name","resetpassform","novalidate","",3,"ngSubmit"],["resetpassform","ngForm"],[1,"col-sm-12"],[1,"input-box"],[1,"form-group"],["for","loginFormPassword"],["type","password","minlength","6","name","loginFormPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["loginFormPassword","ngModel"],["type","password","minlength","6","name","loginFormConfirmPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["loginFormConfirmPassword","ngModel"],[4,"ngIf"],[1,"submit-box"],[1,"btn","blue","rel",3,"disabled"],[1,"btn","trans-red","ml-3",3,"click"],[1,"input-field-message","error","p-0"],[1,"login-loader"]],template:function(e,r){if(1&e){const e=o.Xb();o.Wb(0,"div",0),o.Wb(1,"nav",1),o.Wb(2,"a",2),o.Tc(3,"Clickmycondo"),o.Vb(),o.Vb(),o.Vb(),o.Wb(4,"section",3),o.Wb(5,"div",4),o.Wb(6,"div",5),o.Wb(7,"div",6),o.Wb(8,"h4",7),o.Tc(9,"Reset Password"),o.Vb(),o.Wb(10,"div",8),o.Wb(11,"div",9),o.Wb(12,"form",10,11),o.ic("ngSubmit",(function(){o.Kc(e);const t=o.Hc(13);return r.submitResetPasswordForm(t)})),o.Wb(14,"div",4),o.Wb(15,"div",12),o.Wb(16,"div",13),o.Wb(17,"div",14),o.Wb(18,"label",15),o.Tc(19,"Password"),o.Vb(),o.Wb(20,"input",16,17),o.ic("ngModelChange",(function(){return r.clearErrors()}))("ngModelChange",(function(e){return r.userPassword=e})),o.Vb(),o.Vb(),o.Vb(),o.Wb(22,"div",13),o.Wb(23,"div",14),o.Wb(24,"label",15),o.Tc(25,"Confirm Password"),o.Vb(),o.Wb(26,"input",18,19),o.ic("ngModelChange",(function(){return r.clearErrors()}))("ngModelChange",(function(e){return r.userConfirmPassword=e})),o.Vb(),o.Vb(),o.Rc(28,g,3,0,"div",20),o.Vb(),o.Wb(29,"div",21),o.Wb(30,"button",22),o.Rc(31,l,2,0,"span",20),o.Rc(32,m,2,0,"span",20),o.Vb(),o.Wb(33,"div",23),o.ic("click",(function(){return r.logout()})),o.Tc(34,"Logout"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.Hc(13);o.Cb(20),o.uc("ngModel",r.userPassword),o.Cb(6),o.uc("ngModel",r.userConfirmPassword),o.Cb(2),o.uc("ngIf",r.isPasswordMatch),o.Cb(2),o.uc("disabled",e.invalid),o.Cb(1),o.uc("ngIf",r.isSubmitted),o.Cb(1),o.uc("ngIf",!r.isSubmitted)}},directives:[p.b,u.B,u.o,u.p,u.d,u.j,u.x,u.n,u.q,s.l],styles:[".resetpass-header[_ngcontent-%COMP%]{position:fixed;width:100%!important;top:0;z-index:1001}.resetpass-header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{padding:15px 15px 12px!important;background-color:#fff;box-shadow:0 0 2px rgba(0,0,0,.2);-moz-box-shadow:0 0 2px rgba(0,0,0,.2);-webkit-box-shadow:0 0 2px rgba(0,0,0,.2)}.resetpass-header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{width:265px;height:50px;background:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/logo-dark.png) no-repeat 0;text-indent:-1000px;margin:0;padding:0}.forgotpass-form-wrapper[_ngcontent-%COMP%]{margin:150px 0 0}.forgotpass-form-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 20px;font-size:2.2rem;padding:0;color:#373946}.forgotpass-form-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea}.forgotpass-form-wrapper[_ngcontent-%COMP%]   .submit-box[_ngcontent-%COMP%]{clear:both;text-align:center;padding:10px 0 0}.forgotpass-form-wrapper[_ngcontent-%COMP%]   .b-login[_ngcontent-%COMP%]{margin:20px 0 0;text-align:center}"]}),e})();var f=t("tIkO");const w=[{path:"",component:i,canActivate:[f.a],children:[{path:"",redirectTo:"resetpassword",pathMatch:"full"},{path:"resetpassword/:id",component:h},{path:"**",redirectTo:"resetpassword",pathMatch:"full"}]}];let v=(()=>{class e{}return e.\u0275mod=o.Pb({type:e}),e.\u0275inj=o.Ob({factory:function(r){return new(r||e)},imports:[[n.f.forChild(w)],n.f]}),e})();var P=t("PCNd"),C=t("sbs8"),M=t("KWPz");t.d(r,"ProfileModule",(function(){return y}));let y=(()=>{class e{}return e.\u0275mod=o.Pb({type:e,bootstrap:[i]}),e.\u0275inj=o.Ob({factory:function(r){return new(r||e)},providers:[f.a],imports:[[s.b,n.f.forChild(w),p.a,C.a,M.b.forRoot(),P.a,v,u.h,u.w]]}),e})()}}]);