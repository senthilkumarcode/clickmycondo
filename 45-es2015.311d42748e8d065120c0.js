(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"5vRx":function(e,t,i){"use strict";i.r(t);var n=i("ofXK"),r=i("tyNb"),a=i("fXoL"),c=i("NutR"),s=i("GSkp"),o=i("ThaB"),b=i("wbvY"),l=i("Yt4J"),d=i("b6Qw"),u=i("wlDI"),p=i("668k"),m=i("3Pt+"),h=i("BR9Y");function g(e,t){1&e&&(a.Wb(0,"span"),a.Tc(1,"Add User"),a.Vb())}function V(e,t){1&e&&(a.Wb(0,"span"),a.Tc(1,"Edit User"),a.Vb())}function f(e,t){1&e&&a.Sb(0,"app-loader")}function v(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",9),a.Wb(1,"div",10),a.Wb(2,"label"),a.Tc(3,"Password*"),a.Vb(),a.Wb(4,"input",50),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc(2).user.password=t})),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc(2);a.Cb(4),a.uc("ngModel",e.user.password)}}function W(e,t){if(1&e&&(a.Wb(0,"option",51),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function C(e,t){if(1&e&&(a.Wb(0,"option",51),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockUnitId),a.Cb(1),a.Uc(e.apartmentBlockUnitNumber)}}function I(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",9),a.Wb(1,"div",14),a.Wb(2,"label"),a.Tc(3,"Unit No*"),a.Vb(),a.Wb(4,"select",52),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc(2).apartmentBlockUnitId=t})),a.Wb(5,"option",16),a.Tc(6,"Select"),a.Vb(),a.Rc(7,C,2,2,"option",17),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc(2);a.Cb(4),a.uc("ngModel",e.apartmentBlockUnitId),a.Cb(3),a.uc("ngForOf",e.unitData)}}function U(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"form",6,7),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(2);return a.mc().submitAddResidentForm(t)})),a.Wb(3,"div",8),a.Wb(4,"div",9),a.Wb(5,"div",10),a.Wb(6,"label"),a.Tc(7,"First Name*"),a.Vb(),a.Wb(8,"input",11),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.firstName=t})),a.Vb(),a.Vb(),a.Vb(),a.Wb(9,"div",9),a.Wb(10,"div",10),a.Wb(11,"label"),a.Tc(12,"Last Name*"),a.Vb(),a.Wb(13,"input",12),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.lastName=t})),a.Vb(),a.Vb(),a.Vb(),a.Rc(14,v,5,1,"div",13),a.Wb(15,"div",9),a.Wb(16,"div",14),a.Wb(17,"label"),a.Tc(18,"Block No*"),a.Vb(),a.Wb(19,"select",15),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().apartmentBlockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getUnits()})),a.Wb(20,"option",16),a.Tc(21,"Select"),a.Vb(),a.Rc(22,W,2,2,"option",17),a.Vb(),a.Vb(),a.Vb(),a.Rc(23,I,8,2,"div",13),a.Wb(24,"div",9),a.Wb(25,"div",10),a.Wb(26,"label"),a.Tc(27,"Phone/Mobile*"),a.Vb(),a.Wb(28,"input",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.phoneNumber=t})),a.Vb(),a.Vb(),a.Vb(),a.Wb(29,"div",9),a.Wb(30,"div",10),a.Wb(31,"label"),a.Tc(32,"Email*"),a.Vb(),a.Wb(33,"input",19),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.emailId=t})),a.Vb(),a.Vb(),a.Vb(),a.Wb(34,"div",9),a.Wb(35,"div",20),a.Wb(36,"label"),a.Tc(37,"User Type*"),a.Vb(),a.Wb(38,"div",21),a.Wb(39,"input",22),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userType=t})),a.Vb(),a.Wb(40,"label",23),a.Tc(41,"Admin"),a.Vb(),a.Vb(),a.Wb(42,"div",21),a.Wb(43,"input",24),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userType=t})),a.Vb(),a.Wb(44,"label",25),a.Tc(45,"Owner"),a.Vb(),a.Vb(),a.Wb(46,"div",21),a.Wb(47,"input",26),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userType=t})),a.Vb(),a.Wb(48,"label",27),a.Tc(49,"Tenant"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(50,"div",9),a.Wb(51,"div",20),a.Wb(52,"label"),a.Tc(53,"Gender*"),a.Vb(),a.Wb(54,"div",21),a.Wb(55,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().genderType=t})),a.Vb(),a.Wb(56,"label",29),a.Tc(57,"Male"),a.Vb(),a.Vb(),a.Wb(58,"div",21),a.Wb(59,"input",30),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().genderType=t})),a.Vb(),a.Wb(60,"label",31),a.Tc(61,"Female"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(62,"div",9),a.Wb(63,"div",32),a.Wb(64,"label"),a.Tc(65,"Notification"),a.Vb(),a.Wb(66,"div",33),a.Wb(67,"div",34),a.Wb(68,"input",35),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.isEmailNotify=t})),a.Vb(),a.Wb(69,"label",36),a.Tc(70,"Email"),a.Vb(),a.Vb(),a.Wb(71,"div",34),a.Wb(72,"input",37),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.isSmsNotify=t})),a.Vb(),a.Wb(73,"label",38),a.Tc(74,"SMS"),a.Vb(),a.Vb(),a.Wb(75,"div",39),a.Wb(76,"input",40),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().user.isFlashNotify=t})),a.Vb(),a.Wb(77,"label",41),a.Tc(78,"Flash Notice"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(79,"div",9),a.Wb(80,"div",20),a.Wb(81,"label"),a.Tc(82,"Is Primary Contact"),a.Vb(),a.Wb(83,"div",21),a.Wb(84,"input",42),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().isPrimary=t})),a.Vb(),a.Wb(85,"label",43),a.Tc(86,"Yes"),a.Vb(),a.Vb(),a.Wb(87,"div",21),a.Wb(88,"input",44),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().isPrimary=t})),a.Vb(),a.Wb(89,"label",45),a.Tc(90,"No"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(91,"div",8),a.Wb(92,"div",46),a.Wb(93,"ul",47),a.Wb(94,"li",48),a.Wb(95,"button",49),a.Tc(96,"Submit"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.Hc(2),t=a.mc();a.Cb(8),a.uc("ngModel",t.user.firstName),a.Cb(5),a.uc("ngModel",t.user.lastName),a.Cb(1),a.uc("ngIf",!t.isEditUser),a.Cb(5),a.uc("ngModel",t.apartmentBlockId),a.Cb(3),a.uc("ngForOf",t.blocksData),a.Cb(1),a.uc("ngIf",t.isBlockSelected),a.Cb(5),a.uc("ngModel",t.user.phoneNumber),a.Cb(5),a.uc("ngModel",t.user.emailId),a.Cb(6),a.uc("ngModel",t.userType),a.Cb(4),a.uc("ngModel",t.userType),a.Cb(4),a.uc("ngModel",t.userType),a.Cb(8),a.uc("ngModel",t.genderType),a.Cb(4),a.uc("ngModel",t.genderType),a.Cb(9),a.uc("ngModel",t.user.isEmailNotify),a.Cb(4),a.uc("ngModel",t.user.isSmsNotify),a.Cb(4),a.uc("ngModel",t.user.isFlashNotify),a.Cb(8),a.uc("ngModel",t.isPrimary),a.Cb(4),a.uc("ngModel",t.isPrimary),a.Cb(7),a.uc("disabled",e.invalid)}}let k=(()=>{class e{constructor(e,t,i,n,r,c,s,o){this.router=e,this.route=t,this.userService=i,this.emailSendService=n,this.apartmentService=r,this.lookupService=c,this.sharedService=s,this.cookieService=o,this.userType=null,this.genderType=null,this.apartmentBlockId="",this.apartmentBlockUnitId="",this.isEditUser=!1,this.isBlockSelected=!1,this.isUserSubmitted=!1,this.isError=!1,this.errorMessage="",this.outputParams=new a.n}isArrayOne(){return this.residentArray.length>1}deleteResident(){this.residentArray.splice(this.index,1),this.outputParams.emit(this.residentArray)}getUnits(){this.apartmentService.getApartmentBlockUnitByBlockId(parseInt(this.apartmentBlockId)).subscribe(e=>{this.isBlockSelected=!0,this.unitData=e,this.isEditUser&&(this.apartmentBlockUnitId=e[0].apartmentBlockUnitId.toString())},e=>{console.log(e)})}submitAddResidentForm(e){if(this.isUserSubmitted=!0,this.isError=!1,this.isEditUser){var t={userId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:this.user.middleName,lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:this.user.salt,address1:this.user.address1,address2:this.user.address2,city:this.user.city,state:this.user.state,country:this.user.country,zipCode:this.user.zipCode,genderId:parseInt(this.genderType),dob:this.user.dob,joinedOn:this.user.joinedOn,bloodGroup:this.user.bloodGroup,phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:this.user.emergencyContactNumber,emergencyContactPerson:this.user.emergencyContactPerson,emergencyContactNumberSecondary:this.user.emergencyContactNumberSecondary,emergencyContactPersonSecondary:this.user.emergencyContactPersonSecondary,accessCardNumber:this.user.accessCardNumber,notes:this.user.notes,profilePictureId:null,isLiving:!0,isActive:!0,isApproved:this.user.isApproved,resetPassword:this.user.resetPassword,insertedBy:this.user.insertedBy,updatedBy:parseInt(this.cookieService.get("userId")),isDocSubmitted:this.user.isDocSubmitted,readyForApproval:this.user.readyForApproval};this.userService.UpdateUser(t).subscribe(e=>{if(e.message){var t=e.message,i={userId:t,roleId:parseInt(this.userType),isActive:this.user.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:this.user.insertedOn,updatedBy:this.user.updatedBy,updatedOn:this.user.updatedOn};this.userService.addUserRole(i).subscribe(e=>{var i={apartmentBlockUnitId:parseInt(this.apartmentBlockUnitId),userId:t,userTypeId:parseInt(this.userType),isActive:this.user.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:this.user.insertedOn,updatedBy:this.user.updatedBy,updatedOn:this.user.updatedOn};this.apartmentService.addApartmentBlockUnitUser(i).subscribe(e=>{this.isUserSubmitted=!1,e.message?(this.sharedService.setAlertMessage("User updated successfully"),this.router.navigate(["ams/unit&users/unapproved"])):(this.isError=!0,this.errorMessage=e.errorMessage)},e=>{console.log(e)})},e=>{console.log(e)})}else this.isUserSubmitted=!1,this.isError=!0,this.errorMessage=e.errorMessage},e=>{})}else{let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:"",lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:"",address1:"",address2:"",city:"",state:"",country:"",zipCode:"",genderId:parseInt(this.genderType),dob:"2019-11-10T09:58:08.934Z",joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:"",phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:"",emergencyContactPerson:"",emergencyContactNumberSecondary:"",emergencyContactPersonSecondary:"",accessCardNumber:"",notes:"",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!1,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0,isDocSubmitted:!0,readyForApproval:!0};this.userService.addUser(e).subscribe(e=>{if(e.message){var t=e.message;let i={userId:t,roleId:parseInt(this.userType),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};this.userService.addUserRole(i).subscribe(e=>{var i={apartmentBlockUnitId:parseInt(this.apartmentBlockUnitId),userId:t,userTypeId:parseInt(this.userType),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-10T10:38:46.060Z",updatedBy:0,updatedOn:"2019-11-10T10:38:46.060Z"};this.apartmentService.addApartmentBlockUnitUser(i).subscribe(e=>{this.isUserSubmitted=!1,e.message?this.emailSendService.SendEmail({emailAddress:this.user.emailId,Name:this.user.firstName,Subject:"User Created",TextMessage:"User Created"}).subscribe(e=>{this.sharedService.setAlertMessage("Account has been created. User notified via Email "),this.router.navigate(["ams/unit&users/unapproved"])},e=>{console.log(e)}):(this.isError=!0,this.errorMessage=e.errorMessage)},e=>{console.log(e)})},e=>{console.log(e)})}else this.isUserSubmitted=!1,this.isError=!0,this.errorMessage=e.errorMessage},e=>{})}}ngOnInit(){this.user={},this.user.isEmailNotify=!0,this.apartmentService.getApartmentBlockByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.blocksData=e}),null!=this.route.params.value.id&&(this.isEditUser=!0,this.userService.getUserById(this.route.params.value.id).subscribe(e=>{this.user=e[0],this.genderType=this.user.genderId.toString(),this.userService.getRolesByUserId(this.route.params.value.id).subscribe(e=>{this.userType=e[0].roleId.toString()},e=>{}),this.apartmentService.getApartmentBlockByUserId(this.route.params.value.id).subscribe(e=>{this.apartmentBlockId=e[0].apartmentBlockId.toString(),this.getUnits()},e=>{})},e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(r.c),a.Rb(r.a),a.Rb(c.a),a.Rb(s.a),a.Rb(l.a),a.Rb(o.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-add-resident"]],inputs:{index:"index",residentArray:["array","residentArray"]},outputs:{outputParams:"outputParams"},decls:9,vars:6,consts:[[1,"add-resident-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","clear","mb-30"],[1,"card-body"],[3,"message","isAlert"],["name","addResidentForm","novalidate","",3,"ngSubmit"],["addResidentForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],[1,"select-box"],["name","blockNo","id","blockNo","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","number","OnlyNumber","true","placeholder","Enter value","name","phoneNo",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","userType","id","admin","value","1","type","radio","required","",3,"ngModel","ngModelChange"],["for","admin",1,"radio-inline"],["name","userType","id","owner","value","4","type","radio","required","",3,"ngModel","ngModelChange"],["for","owner",1,"radio-inline"],["name","userType","id","tenant","value","2","type","radio","required","",3,"ngModel","ngModelChange"],["for","tenant",1,"radio-inline"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],[1,"input-box","d-inline-block","oh"],[1,"form-group","checker-group"],[1,"form-check","recur-check","float-left","mr-4"],["type","checkbox","id","emailNotify","name","emailNotify","disabled","true",1,"form-check-input",3,"ngModel","ngModelChange"],["for","emailNotify",1,"form-check-label","tiny"],["type","checkbox","id","smsNotify","name","smsNotify",1,"form-check-input",3,"ngModel","ngModelChange"],["for","smsNotify",1,"form-check-label","tiny"],[1,"form-check","recur-check","float-left"],["type","checkbox","id","flashNotify","name","flashNotify",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flashNotify",1,"form-check-label","tiny"],["name","isPrimary","id","yesPrimary","value","Yes","type","radio","required","",3,"ngModel","ngModelChange"],["for","yesPrimary",1,"radio-inline"],["name","isPrimary","id","NoPrimary","value","No","type","radio","required","",3,"ngModel","ngModelChange"],["for","NoPrimary",1,"radio-inline"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["name","unitNo","id","unitNo","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Wb(1,"h5",1),a.Rc(2,g,2,0,"span",2),a.Rc(3,V,2,0,"span",2),a.Vb(),a.Wb(4,"div",3),a.Wb(5,"div",4),a.Sb(6,"app-alert-message",5),a.Rc(7,f,1,0,"app-loader",2),a.Rc(8,U,97,19,"ng-container",2),a.Vb(),a.Vb(),a.Vb()),2&e&&(a.Cb(2),a.uc("ngIf",!t.isEditUser),a.Cb(1),a.uc("ngIf",t.isEditUser),a.Cb(3),a.uc("message",t.errorMessage)("isAlert",t.isError),a.Cb(1),a.uc("ngIf",t.isUserSubmitted),a.Cb(1),a.uc("ngIf",!t.isUserSubmitted))},directives:[n.l,u.a,p.a,m.B,m.o,m.p,m.d,m.x,m.n,m.q,m.y,m.r,m.A,n.k,m.s,h.a,m.u,m.a],styles:[""]}),e})();const T=["addUnitForm"];function y(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"app-add-resident",2),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getResidentArray(t)})),a.Vb(),a.Tb()}if(2&e){const e=t.index,i=a.mc();a.Cb(1),a.uc("index",e)("array",i.residentArray)}}let S=(()=>{class e{constructor(e,t){this.router=e,this.route=t,this.residentCount=1,this.isEditUser=!1}addResident(){this.residentCount++,this.residentArray=Array(this.residentCount).fill(0).map((e,t)=>t)}getResidentArray(e){this.residentArray=e,this.residentCount=this.residentArray.length}isMobileView(){return window.innerWidth<=576}ngOnInit(){null!=this.route.params.value.id&&(this.isEditUser=!0),this.residentArray=Array(this.residentCount).fill(0).map((e,t)=>t)}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(r.c),a.Rb(r.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-add-users"]],viewQuery:function(e,t){var i;1&e&&a.Zc(T,!0),2&e&&a.Gc(i=a.jc())&&(t.addUnitForm=i.first)},decls:2,vars:1,consts:[[1,"add-users-wrapper"],[4,"ngFor","ngForOf"],[3,"index","array","outputParams"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,y,2,2,"ng-container",1),a.Vb()),2&e&&(a.Cb(1),a.uc("ngForOf",t.residentArray))},directives:[n.k,k],styles:[""]}),e})();var M=i("JK/P"),N=i("F/us"),D=i("0IaG"),O=i("8mtn"),B=i("NhFE"),L=i("1kSV"),A=i("ZDX8"),P=i("bvAq");const R=["viewUnapprovedUserRef"];function x(e,t){1&e&&a.Sb(0,"app-loader")}function w(e,t){1&e&&(a.Wb(0,"div",19),a.Wb(1,"p"),a.Tc(2,"You can send customized form to users for approving and onboarding the users in clickmycondo application"),a.Vb(),a.Wb(3,"a",20),a.Wb(4,"span"),a.Tc(5,"Customize Approval Email"),a.Vb(),a.Vb(),a.Vb())}function F(e,t){if(1&e&&(a.Wb(0,"div",67),a.Wb(1,"ul"),a.Wb(2,"li"),a.Wb(3,"h6"),a.Tc(4,"Status/Notes"),a.Vb(),a.Wb(5,"p"),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"li"),a.Wb(8,"h6"),a.Tc(9,"Owner/Tenant"),a.Vb(),a.Wb(10,"p"),a.Tc(11),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.mc(),t=e.$implicit,i=e.index,n=a.mc(2);a.Cb(6),a.Uc(n.getNotes(t.apartmentBlockUnit)),a.Cb(5),a.Uc(n.getUserRole(t.userRole,i))}}const K=function(e,t){return[e,t]};function _(e,t){if(1&e){const e=a.Xb();a.Wb(0,"tr",54),a.Wb(1,"td",55),a.Wb(2,"div",36),a.Wb(3,"div",37),a.Wb(4,"input",56),a.ic("ngModelChange",(function(i){return a.Kc(e),t.$implicit.checked=i}))("ngModelChange",(function(){a.Kc(e);const i=t.$implicit;return a.mc(2).getSelectedUnapprovedUser(i)})),a.Vb(),a.Sb(5,"label",57),a.Vb(),a.Vb(),a.Vb(),a.Wb(6,"td",58),a.Wb(7,"a",59),a.Tc(8),a.Vb(),a.Rc(9,F,12,2,"ng-template",null,60,a.Sc),a.Vb(),a.Wb(11,"td",61),a.Tc(12),a.Vb(),a.Wb(13,"td",61),a.Tc(14),a.Vb(),a.Wb(15,"td",61),a.Tc(16),a.Vb(),a.Wb(17,"td",61),a.Tc(18),a.Vb(),a.Wb(19,"td",62),a.Wb(20,"a",63),a.ic("click",(function(){a.Kc(e);const i=t.$implicit;return a.mc(2).viewUserInfo(i.id)})),a.Sb(21,"i-feather",64),a.Vb(),a.Wb(22,"a",65),a.ic("click",(function(){a.Kc(e);const i=t.$implicit;return a.mc(2).showConfirmModal(i.id)})),a.Sb(23,"i-feather",66),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit,i=a.Hc(10),n=a.mc(2);a.uc("ngClass",a.Cc(11,K,e.checked?"selected":"",e.active?"":"notactive")),a.Cb(4),a.vc("id",e.id),a.vc("name",e.id),a.uc("ngModel",e.checked),a.Cb(1),a.vc("for",e.id),a.Cb(2),a.uc("ngbPopover",i),a.Cb(1),a.Vc(" ",e.name,""),a.Cb(4),a.Uc(e.phone),a.Cb(2),a.Uc(e.email),a.Cb(2),a.Uc(n.getBlockNo(e,e.apartmentBlockUnit[0].apartmentBlockNumber)),a.Cb(2),a.Uc(n.getBlockUnitNo(e,e.apartmentBlockUnit[0].apartmentBlockUnitNumber))}}const E=function(){return{exact:!0}};function q(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",21),a.Wb(1,"div",12),a.Wb(2,"div",7),a.Wb(3,"h5"),a.Tc(4,"Unapproved Users "),a.Wb(5,"span",22),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"p",23),a.Tc(8,"Edit, View and approve documents"),a.Vb(),a.Vb(),a.Wb(9,"ul",24),a.Wb(10,"li",25),a.Sb(11,"i",26),a.Wb(12,"input",27),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().unitData=t})),a.Vb(),a.Vb(),a.Wb(13,"li",28),a.Wb(14,"a",29),a.Sb(15,"i-feather",30),a.Wb(16,"span"),a.Tc(17,"Print"),a.Vb(),a.Vb(),a.Vb(),a.Wb(18,"li",28),a.Wb(19,"a",31),a.Sb(20,"i-feather",32),a.Wb(21,"span"),a.Tc(22,"Add User"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(23,"div",33),a.Wb(24,"table",34),a.Wb(25,"thead"),a.Wb(26,"tr"),a.Wb(27,"th",35),a.Wb(28,"div",36),a.Wb(29,"div",37),a.Wb(30,"input",38),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().selectAllUnapprovedUser=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getAllUnapprovedUser()})),a.Vb(),a.Sb(31,"label",39),a.Vb(),a.Vb(),a.Vb(),a.Wb(32,"th",40),a.Tc(33," Name "),a.Wb(34,"span",41),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("name")})),a.Vb(),a.Wb(35,"input",42),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.name=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("name")})),a.Vb(),a.Vb(),a.Wb(36,"th",40),a.Tc(37," Phone "),a.Wb(38,"span",41),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("phone")})),a.Vb(),a.Wb(39,"input",43),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.phone=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("phone")})),a.Vb(),a.Vb(),a.Wb(40,"th",40),a.Tc(41," Email "),a.Wb(42,"span",41),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("email")})),a.Vb(),a.Wb(43,"input",44),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.email=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("email")})),a.Vb(),a.Vb(),a.Wb(44,"th",40),a.Tc(45," Block No "),a.Wb(46,"span",41),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("apartmentBlockNumber")})),a.Vb(),a.Wb(47,"input",45),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.apartmentBlockNumber=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("apartmentBlockNumber")})),a.Vb(),a.Vb(),a.Wb(48,"th",40),a.Tc(49,"Unit No "),a.Wb(50,"span",41),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("apartmentBlockUnitNumber")})),a.Vb(),a.Wb(51,"input",46),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.apartmentBlockUnitNumber=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("apartmentBlockUnitNumber")})),a.Vb(),a.Vb(),a.Wb(52,"th",47),a.Tc(53," Actions "),a.Wb(54,"input",48),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().columnField.action=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().selectColInput("action")})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(55,"tbody"),a.Rc(56,_,24,14,"tr",49),a.nc(57,"simpleSearch"),a.nc(58,"columnSearch"),a.nc(59,"slice"),a.nc(60,"orderBy"),a.Vb(),a.Vb(),a.Wb(61,"div",50),a.Wb(62,"a",51),a.ic("click",(function(){return a.Kc(e),a.mc().approveUsers()})),a.Wb(63,"span"),a.Tc(64,"Approve Selected Users"),a.Vb(),a.Vb(),a.Wb(65,"a",52),a.Wb(66,"span"),a.Tc(67,"Re-send verification link"),a.Vb(),a.Vb(),a.Wb(68,"p"),a.Tc(69,"Once approved the user will be informed automatically"),a.Vb(),a.Vb(),a.Wb(70,"app-pagination",53),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getUserIndexParams(t)})),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.Cb(6),a.Uc(e.totalUserItems),a.Cb(6),a.uc("ngModel",e.unitData),a.Cb(7),a.uc("routerLinkActiveOptions",a.Ac(39,E)),a.Cb(5),a.uc("ngClass",e.isMobileView()),a.Cb(6),a.uc("ngModel",e.selectAllUnapprovedUser),a.Cb(4),a.uc("ngClass",e.getFieldOrderBy("name")),a.Cb(1),a.uc("ngModel",e.columnField.name),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("phone")),a.Cb(1),a.uc("ngModel",e.columnField.phone),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("email")),a.Cb(1),a.uc("ngModel",e.columnField.email),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("apartmentBlockNumber")),a.Cb(1),a.uc("ngModel",e.columnField.apartmentBlockNumber),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("apartmentBlockUnitNumber")),a.Cb(1),a.uc("ngModel",e.columnField.apartmentBlockUnitNumber),a.Cb(3),a.uc("ngModel",e.columnField.action),a.Cb(2),a.uc("ngForOf",a.pc(57,24,a.qc(58,27,a.qc(59,31,a.qc(60,35,e.unitListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.columnField,e.selectedInput),e.unitData)),a.Cb(6),a.uc("ngClass",e.isUserSelected?"":"disabled"),a.Cb(3),a.uc("routerLinkActiveOptions",a.Ac(40,E))("ngClass",e.isUserSelected?"":"disabled"),a.Cb(5),a.uc("totalItems",e.totalUserItems)("ItemStartIndex",e.ItemUserStartIndex)("ItemEndIndex",e.ItemUserEndIndex)("itemLimit",e.itemUserLimit)}}function j(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",68),a.Wb(1,"app-my-profile",69),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getParams(t)})),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.Cb(1),a.uc("isProfile",e.isProfile)("userId",e.viewUserId)}}function $(e,t){1&e&&a.Sb(0,"app-loader")}function z(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",58),a.Wb(2,"a",10),a.Tc(3),a.Vb(),a.Vb(),a.Wb(4,"td",61),a.Tc(5),a.Vb(),a.Wb(6,"td",61),a.Tc(7),a.Vb(),a.Wb(8,"td",61),a.Tc(9),a.Vb(),a.Wb(10,"td",61),a.Tc(11),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(3),a.Uc(e.date),a.Cb(2),a.Uc(e.by),a.Cb(2),a.Uc(e.comment),a.Cb(2),a.Uc(e.before),a.Cb(2),a.Uc(e.after)}}function X(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"table",71),a.Wb(2,"thead"),a.Wb(3,"tr"),a.Wb(4,"th",72),a.ic("click",(function(){return a.Kc(e),a.mc(2).sortUnitData("blockno")})),a.Tc(5,"Date "),a.Sb(6,"span",54),a.Vb(),a.Wb(7,"th",72),a.ic("click",(function(){return a.Kc(e),a.mc(2).sortUnitData("unitno")})),a.Tc(8,"By "),a.Sb(9,"span",54),a.Vb(),a.Wb(10,"th",72),a.ic("click",(function(){return a.Kc(e),a.mc(2).sortUnitData("sqrt")})),a.Tc(11,"Comment "),a.Sb(12,"span",54),a.Vb(),a.Wb(13,"th",72),a.ic("click",(function(){return a.Kc(e),a.mc(2).sortUnitData("intercom")})),a.Tc(14,"Before "),a.Sb(15,"span",54),a.Vb(),a.Wb(16,"th",72),a.ic("click",(function(){return a.Kc(e),a.mc(2).sortUnitData("intercom")})),a.Tc(17,"After "),a.Sb(18,"span",54),a.Vb(),a.Vb(),a.Vb(),a.Wb(19,"tbody"),a.Rc(20,z,12,5,"tr",73),a.nc(21,"slice"),a.Vb(),a.Vb(),a.Wb(22,"app-pagination",53),a.ic("outputParams",(function(t){return a.Kc(e),a.mc(2).getLogIndexParams(t)})),a.Vb(),a.Tb()}if(2&e){const e=a.mc(2);a.Cb(1),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("blockno")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("unitno")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("sqrt")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("intercom")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("intercom")),a.Cb(2),a.uc("ngForOf",a.qc(21,11,e.logsData,e.ItemLogStartIndex,e.ItemLogEndIndex)),a.Cb(2),a.uc("totalItems",e.totalLogItems)("ItemStartIndex",e.ItemLogStartIndex)("ItemEndIndex",e.ItemLogEndIndex)("itemLimit",e.itemLogLimit)}}function G(e,t){if(1&e&&(a.Wb(0,"div",70),a.Rc(1,$,1,0,"app-loader",1),a.Rc(2,X,23,15,"ng-container",1),a.Vb()),2&e){const e=a.mc();a.Cb(1),a.uc("ngIf",!e.isLogsDataLoaded),a.Cb(1),a.uc("ngIf",e.isLogsDataLoaded)}}function Y(e,t){if(1&e&&(a.Wb(0,"div",74),a.Wb(1,"div",75),a.Sb(2,"i-feather",76),a.Vb(),a.Wb(3,"div",77),a.Wb(4,"h5"),a.Tc(5,"User Info"),a.Vb(),a.Vb(),a.Wb(6,"div",78),a.Wb(7,"div",12),a.Wb(8,"div",79),a.Wb(9,"div",80),a.Sb(10,"img",81),a.Vb(),a.Wb(11,"div",82),a.Wb(12,"h5",83),a.Tc(13),a.Vb(),a.Wb(14,"p",61),a.Tc(15),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(16,"div",84),a.Wb(17,"ul",85),a.Wb(18,"li",28),a.Wb(19,"h6",83),a.Tc(20,"User ID"),a.Vb(),a.Wb(21,"p"),a.Tc(22),a.Vb(),a.Vb(),a.Wb(23,"li",28),a.Wb(24,"h6",83),a.Tc(25,"Email"),a.Vb(),a.Wb(26,"p"),a.Tc(27),a.Vb(),a.Vb(),a.Wb(28,"li",28),a.Wb(29,"h6",83),a.Tc(30,"Block No"),a.Vb(),a.Wb(31,"p"),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"li",28),a.Wb(34,"h6",83),a.Tc(35,"Phone No"),a.Vb(),a.Wb(36,"p"),a.Tc(37),a.Vb(),a.Vb(),a.Wb(38,"li",28),a.Wb(39,"h6",83),a.Tc(40,"Blood Group"),a.Vb(),a.Wb(41,"p"),a.Tc(42),a.Vb(),a.Vb(),a.Wb(43,"li",28),a.Wb(44,"h6",83),a.Tc(45,"Address"),a.Vb(),a.Wb(46,"p"),a.Tc(47),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(13),a.Wc("",e.firstName," ",e.lastName,""),a.Cb(2),a.Uc(e.roleName),a.Cb(7),a.Uc(e.userId),a.Cb(5),a.Uc(e.emailId),a.Cb(5),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(5),a.Uc(e.phoneNumber),a.Cb(5),a.Uc(e.bloodGroup),a.Cb(5),a.Xc("",e.address1," ",e.address2," ",e.zipCode,"")}}let Z=(()=>{class e{constructor(e,t,i,n,r,a,c){this.injector=e,this.dialog=t,this.router=i,this.route=n,this.userService=r,this.sharedService=a,this.cookieService=c,this.ItemUserStartIndex=0,this.itemUserLimit=15,this.ItemLogStartIndex=0,this.itemLogLimit=15,this.unitData="",this.unitFieldType="unitno",this.unitOrder=!1,this.isMobile=!1,this.selectAllUnapprovedUser=!1,this.isUserSelected=!1,this.isLogs=!1,this.isUserDataLoaded=!1,this.isLogsDataLoaded=!1,this.isProfile=!1,this.selectedInput="",this.columnField={},this.modalService=this.injector.get(M.a)}getUserIndexParams(e){this.ItemUserStartIndex=e.ItemUserStartIndex,this.ItemUserEndIndex=e.ItemUserEndIndex,this.itemUserLimit=e.ItemLimit,this.ItemUserEndIndex=this.totalUserItems>this.itemUserLimit?this.itemUserLimit:this.totalUserItems}getLogIndexParams(e){this.ItemLogStartIndex=e.ItemLogStartIndex,this.ItemLogEndIndex=e.ItemLogEndIndex}selectColInput(e){this.selectedInput=e}getBlockNo(e,t){return this.unitListData.map(i=>{i.id==e.id&&(i.apartmentBlockNumber=t)}),t}getBlockUnitNo(e,t){return this.unitListData.map(i=>{i.id==e.id&&(i.apartmentBlockUnitNumber=t)}),t}getNotes(e){return void 0===e||0==e.length?"":e[0].notes}getUserRole(e,t){return void 0===e||0==e.length?"":(this.unitListData[t].roleName=e[0].roleName,e[0].roleName)}getUserRoleInfo(e){return void 0===e.userRole||0==e.userRole.length?"":e.userRole[0].roleName}onResize(e){this.isMobile=e.target.innerWidth<=991}isMobileView(){return window.innerWidth<=767?"table-responsive":""}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}getAllUnapprovedUser(){this.selectAllUnapprovedUser?(N.each(this.unitListData,e=>{e.checked=!0}),this.isUserSelected=!0):(N.each(this.unitListData,e=>{e.checked=!1}),this.isUserSelected=!1)}getSelectedUnapprovedUser(e){var t=0;N.each(this.unitListData,e=>{e.checked&&t++}),this.isUserSelected=t>0,0==t&&(this.selectAllUnapprovedUser=!1),t==this.unitListData.length&&(this.selectAllUnapprovedUser=!0)}approveUsers(){this.isUserDataLoaded=!1,N.each(this.unitListData,(e,t)=>{e.checked&&this.userService.getUserById(e.id).subscribe(e=>{var i=e[0];i.isApproved=!0,this.userService.UpdateUser(i).subscribe(e=>{this.unitListData.splice(t,1),this.totalUserItems=this.unitListData.length,this.isUserDataLoaded=!0})})})}showConfirmModal(e){this.modalService.showConfirmModal(e)}showUserInfo(e){var t=e.apartmentBlockUnit,i=e.userRole;this.userService.getUserById(e.id).subscribe(e=>{var n=e[0];void 0===t||0==t.length?(n.blockNo="Not Available",n.unitNo=""):(n.blockNo=t[0].apartmentBlockNumber,n.unitNo=t[0].apartmentBlockUnitNumber),n.roleName=void 0===i||0==i.length?"Not Available":i[0].roleName,this.dialog.open(this.viewUnapprovedUserRef,{panelClass:"material",disableClose:!0,data:n})})}getParams(e){this.isProfile=e}viewUserInfo(e){this.isProfile=!1,setTimeout(()=>{this.isProfile=!0},10),setTimeout(()=>{var e=document.querySelector(".user-info-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})},100),this.viewUserId=e,this.router.navigate(["ams/unit&users/unapproved/basic",this.viewUserId])}showLogs(){this.isLogs=!this.isLogs,this.sharedService.getJsonData().subscribe(e=>{this.logsData=e.logsData,this.totalLogItems=this.logsData.length,this.ItemLogEndIndex=this.totalLogItems>this.itemLogLimit?this.itemLogLimit:this.totalLogItems,this.isLogsDataLoaded=!0},e=>{console.log(e)})}ngOnInit(){this.isMobile=window.innerWidth<=991,this.userService.getAllUnApprovedUsersByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.unitListData=e.filter(e=>e.active),this.totalUserItems=this.unitListData.length,this.ItemUserEndIndex=this.totalUserItems>this.itemUserLimit?this.itemUserLimit:this.totalUserItems,this.isUserDataLoaded=!0},e=>{console.log(e)}),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){var t={userId:e,updateUserId:parseInt(this.cookieService.get("userId"))};this.userService.deleteUserById(t).subscribe(t=>{N.each(this.unitListData,t=>{t.id==e&&(t.active=!1)}),setTimeout(()=>{this.unitListData=this.unitListData.filter(t=>t.id!==e),this.totalUserItems=this.unitListData.length,this.sharedService.setAlertMessage("User deleted"),this.sharedService.setUnitListDeleteIndex(null)},500)},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(a.r),a.Rb(D.b),a.Rb(r.c),a.Rb(r.a),a.Rb(c.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-unapproved"]],viewQuery:function(e,t){var i;1&e&&a.Zc(R,!0),2&e&&a.Gc(i=a.jc())&&(t.viewUnapprovedUserRef=i.first)},hostBindings:function(e,t){1&e&&a.ic("resize",(function(e){return t.onResize(e)}),!1,a.Jc)},decls:32,vars:7,consts:[[1,"unapproved-wrapper"],[4,"ngIf"],["class","customize-email",4,"ngIf"],["class","card ov card-table",4,"ngIf"],["class","user-info-card",4,"ngIf"],[1,"card","mt-30"],[1,"card-header","pointer",3,"ngClass","click"],[1,"float-left"],[1,"p-0"],[1,"float-right","switch",3,"ngClass"],["href","javascript:void(0)"],["class","card-body p-0",4,"ngIf"],[1,"card-header"],["href","javascript:void(0)",1,"tc-blue","ml-2","t-decor"],[1,"card-body"],[1,"btn","sf","lime-green"],[1,"info"],["href","javascript:void(0)",1,"tc-red","ml-2","t-decor"],["viewUnapprovedUserRef",""],[1,"customize-email"],[1,"btn","lime-green"],[1,"card","ov","card-table"],[1,"badge","blue"],[1,"d-none","d-md-inline-block"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/unit&users/add-users","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","ov","p-0"],["cellpadding","0","cellspacing","0",1,"table","table-resizable","table-checker",3,"ngClass"],["scope","col",1,"select"],[1,"form-group"],[1,"form-check","float-left"],["type","checkbox","id","selectAllUnapprovedUser","name","selectAllUnapprovedUser",1,"form-check-input",3,"ngModel","ngModelChange"],["for","selectAllUnapprovedUser",1,"form-check-label"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Block No",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Unit No",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"button-wrapper"],[1,"btn","lime-green","sf",3,"ngClass","click"],["routerLink","addunit","routerLinkActive","active",1,"btn","trans-white","sf",3,"routerLinkActiveOptions","ngClass"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"select","w-50"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","eye",1,"icon","view"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"pop-desp"],[1,"user-info-card"],["type","admin",3,"isProfile","userId","outputParams"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[4,"ngFor","ngForOf"],[1,"user-info","info-modal-box"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"title"],[1,"card"],[1,"media"],[1,"icon","mr-4"],["src","assets/images/user-icon.svg","width","36"],[1,"media-body"],[1,"mt-0"],[1,"card-body","lists"],[1,"list-group"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,x,1,0,"app-loader",1),a.Rc(2,w,6,0,"div",2),a.Rc(3,q,71,41,"div",3),a.Rc(4,j,2,2,"div",4),a.Wb(5,"div",5),a.Wb(6,"div",6),a.ic("click",(function(){return t.showLogs()})),a.Wb(7,"div",7),a.Wb(8,"h5",8),a.Tc(9,"Logs"),a.Vb(),a.Vb(),a.Wb(10,"div",9),a.Sb(11,"a",10),a.Vb(),a.Vb(),a.Rc(12,G,3,2,"div",11),a.Vb(),a.Wb(13,"div",5),a.Wb(14,"div",12),a.Wb(15,"div",7),a.Wb(16,"h5"),a.Tc(17,"Mass Upload"),a.Vb(),a.Wb(18,"p"),a.Tc(19,"To create Residents accounts in mass, Download this"),a.Wb(20,"a",13),a.Tc(21,"Excel Template"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(22,"div",14),a.Wb(23,"a",15),a.Wb(24,"span"),a.Tc(25,"Upload Document"),a.Vb(),a.Vb(),a.Wb(26,"p",16),a.Tc(27,"If you have any trouble in uploading document, Please raise a "),a.Wb(28,"a",17),a.Tc(29,"support ticket"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rc(30,Y,48,12,"ng-template",null,18,a.Sc),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isProfile),a.Cb(2),a.uc("ngClass",t.isLogs?"":"no-border"),a.Cb(4),a.uc("ngClass",t.isLogs?"up":"down"),a.Cb(2),a.uc("ngIf",t.isLogs))},directives:[n.l,n.j,p.a,h.b,m.d,m.n,m.q,O.b,r.e,r.d,h.d,m.a,n.k,B.a,L.c,A.a,D.c],pipes:[P.c,P.a,n.t,P.b],styles:[".unapproved-wrapper[_ngcontent-%COMP%]   .customize-email[_ngcontent-%COMP%]{margin:0 0 25px}.unapproved-wrapper[_ngcontent-%COMP%]   .customize-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem;padding:0 0 15px!important;color:#585858}.unapproved-wrapper[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p.info[_ngcontent-%COMP%]{padding:10px 0 0!important;font-size:1.4rem;color:#373946}.unapproved-wrapper[_ngcontent-%COMP%]   .user-info-card[_ngcontent-%COMP%]{margin:30px 0 0}"]}),e})();var H=i("noCB");function J(e,t){1&e&&a.Sb(0,"app-loader")}function Q(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",3),a.Wb(1,"div",4),a.Wb(2,"div",5),a.Wb(3,"h5",6),a.Wb(4,"span",7),a.Sb(5,"img",8),a.Vb(),a.Wb(6,"span"),a.Tc(7),a.Vb(),a.Vb(),a.Wb(8,"p"),a.Tc(9),a.Vb(),a.Wb(10,"p"),a.Tc(11),a.Vb(),a.Vb(),a.Wb(12,"div",9),a.Wb(13,"a",10),a.ic("click",(function(){return a.Kc(e),a.mc().showUserInfo()})),a.Sb(14,"i-feather",11),a.Vb(),a.Wb(15,"a",12),a.ic("click",(function(){a.Kc(e);const t=a.mc();return t.showConfirmModal(t.user.id)})),a.Sb(16,"i-feather",13),a.Vb(),a.Vb(),a.Vb(),a.Wb(17,"ul",14),a.Wb(18,"li",15),a.Wb(19,"span",7),a.Sb(20,"img",16),a.Vb(),a.Wb(21,"span"),a.Tc(22,"Unit Details"),a.Vb(),a.Vb(),a.Wb(23,"div",17),a.Wb(24,"div",18),a.Wb(25,"p"),a.Wb(26,"span"),a.Tc(27,"Block No:"),a.Vb(),a.Tc(28),a.Vb(),a.Wb(29,"p"),a.Wb(30,"span"),a.Tc(31,"Unit No:"),a.Vb(),a.Tc(32),a.Vb(),a.Wb(33,"p"),a.Wb(34,"span"),a.Tc(35,"Bulitup Area:"),a.Vb(),a.Tc(36),a.Vb(),a.Wb(37,"p"),a.Wb(38,"span"),a.Tc(39,"Carpet Area:"),a.Vb(),a.Tc(40),a.Vb(),a.Wb(41,"p"),a.Wb(42,"span"),a.Tc(43,"Unit Type:"),a.Vb(),a.Tc(44),a.Vb(),a.Wb(45,"p"),a.Wb(46,"span"),a.Tc(47,"Vacant:"),a.Vb(),a.Tc(48),a.Vb(),a.Wb(49,"p"),a.Wb(50,"span"),a.Tc(51,"Furnished:"),a.Vb(),a.Tc(52),a.Vb(),a.Wb(53,"p"),a.Wb(54,"span"),a.Tc(55,"Pets Allowed:"),a.Vb(),a.Tc(56),a.Vb(),a.Vb(),a.Vb(),a.Wb(57,"li",19),a.Wb(58,"span",7),a.Sb(59,"img",20),a.Vb(),a.Wb(60,"span"),a.Tc(61,"Unit Staffs"),a.Vb(),a.Vb(),a.Wb(62,"div",21),a.Wb(63,"div",18),a.Wb(64,"p"),a.Tc(65,"No Data Available"),a.Vb(),a.Vb(),a.Vb(),a.Wb(66,"li",22),a.Wb(67,"span",7),a.Sb(68,"i-feather",23),a.Vb(),a.Wb(69,"span"),a.Tc(70,"Unit Vehicles"),a.Vb(),a.Vb(),a.Wb(71,"div",24),a.Wb(72,"div",18),a.Wb(73,"p"),a.Wb(74,"span"),a.Tc(75,"Vehicle Number:"),a.Vb(),a.Tc(76),a.Vb(),a.Wb(77,"p"),a.Wb(78,"span"),a.Tc(79,"Vehicle Type:"),a.Vb(),a.Tc(80),a.Vb(),a.Wb(81,"p"),a.Wb(82,"span"),a.Tc(83,"Vehicle Driver Number:"),a.Vb(),a.Tc(84),a.Vb(),a.Wb(85,"p"),a.Wb(86,"span"),a.Tc(87,"Vehicle Manufacturer:"),a.Vb(),a.Tc(88),a.Vb(),a.Vb(),a.Vb(),a.Wb(89,"li",25),a.Wb(90,"span",7),a.Sb(91,"img",26),a.Vb(),a.Wb(92,"span"),a.Tc(93,"Unit Pets"),a.Vb(),a.Vb(),a.Wb(94,"div",27),a.Wb(95,"div",18),a.Wb(96,"p"),a.Tc(97,"No Data Available"),a.Vb(),a.Vb(),a.Vb(),a.Wb(98,"li",28),a.Wb(99,"span",7),a.Sb(100,"img",29),a.Vb(),a.Wb(101,"span"),a.Tc(102,"Property Manager"),a.Vb(),a.Vb(),a.Wb(103,"div",30),a.Wb(104,"div",18),a.Wb(105,"p"),a.Wb(106,"span"),a.Tc(107,"Available for rent:"),a.Vb(),a.Tc(108),a.Vb(),a.Wb(109,"p"),a.Wb(110,"span"),a.Tc(111,"Name:"),a.Vb(),a.Tc(112),a.Vb(),a.Wb(113,"p"),a.Wb(114,"span"),a.Tc(115,"Rent Amount:"),a.Vb(),a.Tc(116),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.Cb(7),a.Uc(e.user.name),a.Cb(2),a.Uc(e.getRoleName(e.user.userRole)),a.Cb(2),a.Uc(e.user.phone),a.Cb(17),a.Vc(" ",e.unit.apartmentBlockNumber,""),a.Cb(4),a.Vc(" ",e.unit.apartmentBlockUnitNumber,""),a.Cb(4),a.Vc(" ",e.unit.builtupArea,""),a.Cb(4),a.Vc(" ",e.unit.carpetArea,""),a.Cb(4),a.Vc(" ",e.unit.unitType,""),a.Cb(4),a.Vc(" ",e.getunitStatus(e.unit.isVacant),""),a.Cb(4),a.Vc(" ",e.getunitStatus(e.unit.isFurnished),""),a.Cb(4),a.Vc(" ",e.getunitStatus(e.unit.isPetsAllowed),""),a.Cb(20),a.Vc(" ",e.vehicle.vehicleNumber,""),a.Cb(4),a.Vc(" ",e.getVehicleType(e.vehicle.vehicleTypeId),""),a.Cb(4),a.Vc(" ",e.vehicle.vehicleDriverNumber,""),a.Cb(4),a.Vc(" ",e.vehicle.vehicleManufacturer,""),a.Cb(20),a.Vc(" ",e.getunitStatus(e.unit.isAvailableForRent),""),a.Cb(4),a.Vc(" ",e.unit.propertyManagerName,""),a.Cb(4),a.Vc(" ",e.unit.rentAmount,"")}}const ee=function(e,t){return[e,t]};let te=(()=>{class e{constructor(e,t,i,n,r,c,s,o,b,l){this.router=e,this.route=t,this.injector=i,this.dialog=n,this.userService=r,this.apartmentService=c,this.vehicleService=s,this.lookupService=o,this.sharedService=b,this.cookieService=l,this.isSeperatePage=!1,this.isUserDataLoaded=!1,this.outputParams=new a.n,this.modalService=this.injector.get(M.a)}isTabSelected(){return-1!=this.selectedTab?"show":""}isNotSlide(){return this.isSeperatePage?"full":""}getRoleName(e){return void 0===e||0==e.length?"":(this.user.roleName=e[0].roleName,e[0].roleName)}getunitStatus(e){return e?"Yes":"No"}getVehicleType(e){N.each(this.vehicleTypeData,(t,i)=>{if(t.lookupValueId==e)return t.lookupValueName})}showConfirmModal(e){this.modalService.showConfirmModal(e)}showUserInfo(){this.outputParams.emit(!0)}getUserDetails(e){this.userService.getAllApprovedUsers().subscribe(t=>{var i=t.filter(t=>{if(t.id==e)return t});this.user=i[0],this.apartmentService.getApartmentBlockUnitByUserId(e).subscribe(e=>{this.unit=e[0]||{},this.apartmentBlockUnitId=this.unit.apartmentBlockUnitId,this.vehicleService.getVehicleByVehicleId(this.apartmentBlockUnitId).subscribe(e=>{this.vehicle=e[0]||{},this.isUserDataLoaded=!0})})},e=>{console.log(e)})}ngOnInit(){this.user={},this.unit={},this.vehicle={},null!=this.route.params.value.id&&(this.isSeperatePage=!0,this.getUserDetails(this.route.params.value.id)),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){var t={userId:e,updateUserId:parseInt(this.cookieService.get("userId"))};this.isUserDataLoaded=!1,this.userService.deleteUserById(t).subscribe(e=>{this.isUserDataLoaded=!0,this.sharedService.setUnitListDeleteIndex(null)},e=>{console.log(e)})}})}ngOnChanges(e){-1!=this.selectedTab&&(this.isUserDataLoaded=!1,this.getUserDetails(this.selectedTab)),this.lookupService.getLookupValueByLookupTypeId(2).subscribe(e=>{this.vehicleTypeData=e},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(r.c),a.Rb(r.a),a.Rb(a.r),a.Rb(D.b),a.Rb(c.a),a.Rb(l.a),a.Rb(H.a),a.Rb(o.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-approved-user-details"]],inputs:{selectedTab:"selectedTab"},outputs:{outputParams:"outputParams"},features:[a.Ab],decls:3,vars:6,consts:[["id","accordion",1,"card","user-details","float-left",3,"ngClass"],[4,"ngIf"],["class","card-body p-0",4,"ngIf"],[1,"card-body","p-0"],[1,"main"],[1,"float-left"],[1,"text-capitalize"],[1,"icon"],["src","assets/images/user-liner-icon.svg","width","20",1,"svg"],[1,"float-right"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"list-group-item","collapsed"],["src","assets/images/unit-liner-icon.svg",1,"svg"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],[1,"details"],["data-toggle","collapse","data-target","#collapseTwo","aria-expanded","true","aria-controls","collapseTwo",1,"list-group-item","collapsed"],["src","assets/images/staff-liner-icon.svg",1,"svg"],["id","collapseTwo","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseThree","aria-expanded","true","aria-controls","collapseThree",1,"list-group-item","collapsed"],["name","truck",1,"feather","truck"],["id","collapseThree","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseFive","aria-expanded","true","aria-controls","collapseFive",1,"list-group-item","collapsed"],["src","assets/images/dog-liner-icon.svg",1,"svg"],["id","collapseFive","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseSix","aria-expanded","true","aria-controls","collapseSix",1,"list-group-item","collapsed"],["src","assets/images/manager-liner-icon.svg",1,"svg"],["id","collapseSix","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,J,1,0,"app-loader",1),a.Rc(2,Q,117,18,"div",2),a.Vb()),2&e&&(a.uc("ngClass",a.Cc(3,ee,t.isTabSelected(),t.isNotSlide())),a.Cb(1),a.uc("ngIf",!t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isUserDataLoaded))},directives:[n.j,n.l,p.a,h.c,O.b],styles:[".card.user-details[_ngcontent-%COMP%]{width:0!important;height:0;transition:all .15s ease;transform:translate(120%)}.card.user-details.show[_ngcontent-%COMP%]{width:40%!important;height:auto;transform:translate(0);transition:all .15s ease;margin:0 0 0 2%}.card.user-details.full[_ngcontent-%COMP%]{width:100%!important;margin:0}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{padding:20px 15px;overflow:auto}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0 0 10px;color:#3f51b5}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 8px 0 0}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;fill:#3f51b5;margin:-2px 0 0;display:inline-block}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;color:#8391a1}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:none;padding:0 0 6px;font-family:Montserrat,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;color:#373946}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%], .card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;display:inline-block;margin:-3px 6px 0 0}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:14px;fill:#373946}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.icon){display:inline-block;margin:1px 0 0 4px;font-size:1.4rem}"]}),e})();function ie(e,t){1&e&&a.Sb(0,"app-loader")}function ne(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"li",20),a.Wb(2,"span",18),a.Tc(3),a.Vb(),a.Wb(4,"span",21),a.Tc(5),a.Vb(),a.Wb(6,"span"),a.Sb(7,"i",22),a.Vb(),a.Vb(),a.Tb()),2&e){const e=t.$implicit,i=a.mc().$implicit;a.Cb(3),a.Vc("",e.roleName,": "),a.Cb(2),a.Uc(i.name)}}function re(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"li",17),a.ic("click",(function(){a.Kc(e);const i=t.$implicit;return a.mc(2).showApprovedUserDetails(i.id)})),a.Wb(2,"h5"),a.Wb(3,"span",18),a.Tc(4),a.Vb(),a.Wb(5,"span"),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"div",19),a.Rc(8,ne,8,2,"ng-container",14),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=t.$implicit,i=t.index,n=a.mc(2);a.Cb(1),a.uc("ngClass",n.isActive(e.id)),a.Cb(3),a.Uc(n.getBlockNo(e.apartmentBlockUnit,i)),a.Cb(2),a.Uc(n.getBlockUnitNo(e.apartmentBlockUnit,i)),a.Cb(2),a.uc("ngForOf",e.userRole)}}function ae(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",5),a.Wb(1,"div",6),a.Wb(2,"div",7),a.Wb(3,"h5"),a.Tc(4,"Approved Users"),a.Vb(),a.Wb(5,"p",8),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"ul",9),a.Wb(8,"li",10),a.Sb(9,"i",11),a.Wb(10,"input",12),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().unitData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(11,"div",13),a.Ub(12),a.Rc(13,re,9,4,"ng-container",14),a.nc(14,"slice"),a.Tb(),a.Vb(),a.Wb(15,"div",15),a.Wb(16,"app-pagination",16),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.uc("ngClass",e.isTabSelected()),a.Cb(6),a.Wc("Total ",e.totalUnits," Units and ",e.totalItems," Users"),a.Cb(4),a.uc("ngModel",e.unitData),a.Cb(3),a.uc("ngForOf",a.qc(14,9,e.approvedUsersData,e.ItemStartIndex,e.ItemEndIndex)),a.Cb(3),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function ce(e,t){if(1&e){const e=a.Xb();a.Wb(0,"app-approved-user-details",23),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().showUserInfo(t)})),a.Vb()}if(2&e){const e=a.mc();a.uc("selectedTab",e.selectedTab)}}function se(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",24),a.Wb(1,"app-my-profile",25),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getParams(t)})),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.Cb(1),a.uc("isProfile",e.isProfile)("userId",e.viewUserId)}}let oe=(()=>{class e{constructor(e,t,i,n,r,a){this.router=e,this.route=t,this.userService=i,this.apartmentService=n,this.sharedService=r,this.cookieService=a,this.totalUsers=0,this.unitData="",this.ItemStartIndex=0,this.itemLimit=5,this.selectedTab=-1,this.isUserDataLoaded=!1,this.isProfile=!1}showApprovedUserDetails(e){this.isMobileView()?this.router.navigate(["ams/approved-user-details/"+e]):this.selectedTab=this.selectedTab!=e?e:-1,this.viewUserId=e}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}isTabSelected(){return-1!=this.selectedTab?"show":""}isMobileView(){return window.innerWidth<=991}getBlockNo(e,t){return void 0===e||0==e.length?"":(this.approvedUsersData[t].blockNo=e[0].apartmentBlockNumber,e[0].apartmentBlockNumber)}getBlockUnitNo(e,t){return void 0===e||0==e.length?"":(this.approvedUsersData[t].unitNo=e[0].apartmentBlockUnitNumber,e[0].apartmentBlockUnitNumber)}isActive(e){return this.selectedTab==e?"active":""}getParams(e){this.isProfile=e}showUserInfo(e){this.isProfile=!1,setTimeout(()=>{this.isProfile=e},10),setTimeout(()=>{var e=document.querySelector(".user-info-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})},100),this.router.navigate(["ams/unit&users/approved/basic",this.viewUserId])}ngOnInit(){this.userService.getAllApprovedUsers().subscribe(e=>{this.approvedUsersData=e.filter(e=>0!=e.userRole.length&&0!=e.apartmentBlockUnit.length),this.totalItems=this.approvedUsersData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isUserDataLoaded=!0},e=>{console.log(e)}),this.apartmentService.getApartmentBlockUnitByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.totalUnits=e.length},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(r.c),a.Rb(r.a),a.Rb(c.a),a.Rb(l.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-approved"]],decls:5,vars:4,consts:[[1,"approved-user-wrapper"],[4,"ngIf"],["class","card mb-20 users-list float-left",3,"ngClass",4,"ngIf"],[3,"selectedTab","outputParams",4,"ngIf"],["class","user-info-card clear",4,"ngIf"],[1,"card","mb-20","users-list","float-left",3,"ngClass"],[1,"card-header"],[1,"float-left"],[1,"d-none","d-md-inline-block"],[1,"list-inline","float-right"],[1,"list-inline-item","search","d-none","d-md-inline-block","mr-0"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body","p-0","users"],[4,"ngFor","ngForOf"],[1,"pagination-wrapper"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"list-group-item",3,"ngClass","click"],[1,"mr-2"],[1,"list"],[1,"list-group-item"],[1,"mr-2","text-capitalize"],["aria-hidden","true",1,"fa","fa-address-book-o"],[3,"selectedTab","outputParams"],[1,"user-info-card","clear"],["type","admin",3,"isProfile","userId","outputParams"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,ie,1,0,"app-loader",1),a.Rc(2,ae,17,13,"div",2),a.Rc(3,ce,1,1,"app-approved-user-details",3),a.Rc(4,se,2,2,"div",4),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",!t.isMobileView()),a.Cb(1),a.uc("ngIf",t.isProfile))},directives:[n.l,p.a,n.j,h.b,m.d,m.n,m.q,n.k,B.a,te,A.a],pipes:[n.t],styles:['.approved-user-wrapper[_ngcontent-%COMP%]   .card.users-list[_ngcontent-%COMP%]{width:100%;transition:all .15s ease}@media (min-width:991px){.approved-user-wrapper[_ngcontent-%COMP%]   .card.users-list.show[_ngcontent-%COMP%]{width:58%;transition:all .15s ease}}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:none!important}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border:none;border-top:1px solid #eaeaea;padding:14px 20px;border-radius:0!important;cursor:pointer}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;padding:0 0 4px;color:#3f51b5}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;padding:5px 0 0;border:none;background-color:transparent;color:#8391a1}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Lato,sans-serif;font-weight:700;letter-spacing:.3px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;color:#373946}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:transparent}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;transition:all .15s ease}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#3f51b5}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{background-color:#fff}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:before{content:"";width:4px;height:100%!important;background-color:#3f51b5;position:absolute;top:0;left:0}']}),e})();const be=["viewDeactivatedUserRef"];function le(e,t){1&e&&a.Sb(0,"app-loader")}function de(e,t){if(1&e&&(a.Wb(0,"div",41),a.Wb(1,"ul"),a.Wb(2,"li"),a.Wb(3,"h5"),a.Tc(4,"Status/Notes"),a.Vb(),a.Wb(5,"small"),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"li"),a.Wb(8,"h5"),a.Tc(9,"Owner/Tenant"),a.Vb(),a.Wb(10,"small"),a.Tc(11),a.Vb(),a.Vb(),a.Wb(12,"li"),a.Wb(13,"h5"),a.Tc(14,"Status/Notes"),a.Vb(),a.Wb(15,"small"),a.Tc(16),a.Vb(),a.Vb(),a.Wb(17,"li"),a.Wb(18,"h5"),a.Tc(19,"Verification Status"),a.Vb(),a.Wb(20,"small"),a.Tc(21),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=a.mc(),t=e.$implicit,i=e.index,n=a.mc(2);a.Cb(6),a.Uc(n.getNotes(t.apartmentBlockUnit)),a.Cb(5),a.Uc(n.getUserRole(t.userRole,i)),a.Cb(5),a.Uc(n.getNotes(t.apartmentBlockUnit)),a.Cb(5),a.Uc(t.status)}}const ue=function(){return{exact:!0}};function pe(e,t){if(1&e){const e=a.Xb();a.Wb(0,"tr",24),a.Wb(1,"td",30),a.Wb(2,"div",19),a.Wb(3,"div",20),a.Wb(4,"input",31),a.ic("ngModelChange",(function(i){return a.Kc(e),t.$implicit.checked=i}))("ngModelChange",(function(){a.Kc(e);const i=t.$implicit;return a.mc(2).getSelectedDeActivatedUser(i)})),a.Vb(),a.Sb(5,"label",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(6,"td",33),a.Wb(7,"a",34),a.Tc(8),a.Vb(),a.Rc(9,de,22,4,"ng-template",null,35,a.Sc),a.Vb(),a.Wb(11,"td",36),a.Tc(12),a.Vb(),a.Wb(13,"td",36),a.Tc(14),a.Vb(),a.Wb(15,"td",36),a.Tc(16),a.Vb(),a.Wb(17,"td",36),a.Tc(18),a.Vb(),a.Wb(19,"td"),a.Wb(20,"a",37),a.ic("click",(function(){a.Kc(e);const i=t.index;return a.mc(2).showUserInfo(i)})),a.Sb(21,"i-feather",38),a.Vb(),a.Wb(22,"a",39),a.Sb(23,"i-feather",40),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit,i=t.index,n=a.Hc(10),r=a.mc(2);a.uc("ngClass",e.checked?"selected":""),a.Cb(4),a.vc("id",e.id),a.vc("name",e.id),a.uc("ngModel",e.checked),a.Cb(1),a.vc("for",e.id),a.Cb(2),a.uc("ngbPopover",n),a.Cb(1),a.Vc(" ",e.name,""),a.Cb(4),a.Uc(e.phone),a.Cb(2),a.Uc(e.email),a.Cb(2),a.Uc(r.getBlockNo(e.apartmentBlockUnit,i)),a.Cb(2),a.Uc(r.getBlockUnitNo(e.apartmentBlockUnit,i)),a.Cb(4),a.wc("routerLink","/ams/unit&users/edit-user/",e.id,""),a.uc("routerLinkActiveOptions",a.Ac(13,ue))}}function me(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",4),a.Wb(1,"div",5),a.Wb(2,"div",6),a.Wb(3,"h5"),a.Tc(4,"De Activated Resident Accounts "),a.Wb(5,"span",7),a.Tc(6),a.Vb(),a.Vb(),a.Wb(7,"p",8),a.Tc(8,"Edit and Activate documents"),a.Vb(),a.Vb(),a.Wb(9,"ul",9),a.Wb(10,"li",10),a.Sb(11,"i",11),a.Wb(12,"input",12),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().deActivatedData=t})),a.Vb(),a.Vb(),a.Wb(13,"li",13),a.Wb(14,"a",14),a.Sb(15,"i-feather",15),a.Wb(16,"span"),a.Tc(17,"Print"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(18,"div",16),a.Wb(19,"table",17),a.Wb(20,"thead"),a.Wb(21,"tr"),a.Wb(22,"th",18),a.Wb(23,"div",19),a.Wb(24,"div",20),a.Wb(25,"input",21),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().selectAllDeactivatedUser=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getAllDeactivatedUser()})),a.Vb(),a.Sb(26,"label",22),a.Vb(),a.Vb(),a.Vb(),a.Wb(27,"th",23),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("name")})),a.Tc(28,"Name "),a.Sb(29,"span",24),a.Vb(),a.Wb(30,"th",23),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("phone")})),a.Tc(31,"Phone "),a.Sb(32,"span",24),a.Vb(),a.Wb(33,"th",23),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("email")})),a.Tc(34,"Email "),a.Sb(35,"span",24),a.Vb(),a.Wb(36,"th",23),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(37,"Block No "),a.Sb(38,"span",24),a.Vb(),a.Wb(39,"th",23),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitNo")})),a.Tc(40,"Unit No "),a.Sb(41,"span",24),a.Vb(),a.Wb(42,"th",25),a.Tc(43,"Action"),a.Vb(),a.Vb(),a.Vb(),a.Wb(44,"tbody"),a.Rc(45,pe,24,14,"tr",26),a.nc(46,"simpleSearch"),a.nc(47,"slice"),a.nc(48,"orderBy"),a.Vb(),a.Vb(),a.Wb(49,"div",27),a.Wb(50,"a",28),a.ic("click",(function(){return a.Kc(e),a.mc().activateUser()})),a.Wb(51,"span"),a.Tc(52,"Activate Selected User"),a.Vb(),a.Vb(),a.Wb(53,"a",28),a.ic("click",(function(){return a.Kc(e),a.mc().activateUser()})),a.Wb(54,"span"),a.Tc(55,"Bulk Activate"),a.Vb(),a.Vb(),a.Vb(),a.Wb(56,"app-pagination",29),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getUserIndexParams(t)})),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.mc();a.Cb(6),a.Uc(e.totalUserItems),a.Cb(6),a.uc("ngModel",e.deActivatedData),a.Cb(7),a.uc("ngClass",e.isMobileView()),a.Cb(6),a.uc("ngModel",e.selectAllDeactivatedUser),a.Cb(4),a.uc("ngClass",e.getFieldOrderBy("name")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("phone")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("email")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("unitNo")),a.Cb(4),a.uc("ngForOf",a.pc(46,16,a.qc(47,19,a.qc(48,23,e.deActivatedListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.deActivatedData)),a.Cb(5),a.uc("ngClass",e.isUserSelected?"":"disabled"),a.Cb(3),a.uc("ngClass",e.isBulkActivate?"":"disabled"),a.Cb(3),a.uc("totalItems",e.totalUserItems)("ItemStartIndex",e.ItemUserStartIndex)("ItemEndIndex",e.ItemUserEndIndex)("itemLimit",e.itemUserLimit)}}function he(e,t){if(1&e&&(a.Wb(0,"div",42),a.Wb(1,"div",43),a.Sb(2,"i-feather",44),a.Vb(),a.Wb(3,"div",45),a.Wb(4,"h5"),a.Tc(5,"User Info"),a.Vb(),a.Vb(),a.Wb(6,"div",46),a.Wb(7,"div",5),a.Wb(8,"div",47),a.Wb(9,"div",48),a.Sb(10,"img",49),a.Vb(),a.Wb(11,"div",50),a.Wb(12,"h5",51),a.Tc(13),a.Vb(),a.Wb(14,"p",36),a.Tc(15),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(16,"div",52),a.Wb(17,"ul",53),a.Wb(18,"li",13),a.Wb(19,"h6",51),a.Tc(20,"User ID"),a.Vb(),a.Wb(21,"p"),a.Tc(22),a.Vb(),a.Vb(),a.Wb(23,"li",13),a.Wb(24,"h6",51),a.Tc(25,"Email"),a.Vb(),a.Wb(26,"p"),a.Tc(27),a.Vb(),a.Vb(),a.Wb(28,"li",13),a.Wb(29,"h6",51),a.Tc(30,"Block No"),a.Vb(),a.Wb(31,"p"),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"li",13),a.Wb(34,"h6",51),a.Tc(35,"Phone No"),a.Vb(),a.Wb(36,"p"),a.Tc(37),a.Vb(),a.Vb(),a.Wb(38,"li",13),a.Wb(39,"h6",51),a.Tc(40,"Blood Group"),a.Vb(),a.Wb(41,"p"),a.Tc(42),a.Vb(),a.Vb(),a.Wb(43,"li",13),a.Wb(44,"h6",51),a.Tc(45,"Address"),a.Vb(),a.Wb(46,"p"),a.Tc(47),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(13),a.Wc("",e.firstName," ",e.lastName,""),a.Cb(2),a.Uc(e.roleName),a.Cb(7),a.Uc(e.userId),a.Cb(5),a.Uc(e.emailId),a.Cb(5),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(5),a.Uc(e.phoneNumber),a.Cb(5),a.Uc(e.bloodGroup),a.Cb(5),a.Xc("",e.address1," ",e.address2," ",e.zipCode,"")}}let ge=(()=>{class e{constructor(e,t,i,n,r){this.injector=e,this.dialog=t,this.userService=i,this.sharedService=n,this.cookieService=r,this.deActivatedData="",this.ItemUserStartIndex=0,this.itemUserLimit=20,this.unitFieldType="unitno",this.unitOrder=!1,this.selectAllDeactivatedUser=!1,this.isUserSelected=!1,this.isBulkActivate=!1,this.isUserDataLoaded=!1,this.modalService=this.injector.get(M.a)}getSelectedDeActivatedUser(e){var t=0;N.each(this.deActivatedListData,e=>{e.checked&&t++}),this.isUserSelected=t>0,t>1?(this.isBulkActivate=!0,this.isUserSelected=!1):this.isBulkActivate=!1,0==t&&(this.selectAllDeactivatedUser=!1),t==this.deActivatedListData.length&&(this.selectAllDeactivatedUser=!0)}getAllDeactivatedUser(){this.selectAllDeactivatedUser?(N.each(this.deActivatedListData,e=>{e.checked=!0}),this.isBulkActivate=!0):(N.each(this.deActivatedListData,e=>{e.checked=!1}),this.isBulkActivate=!1)}isMobileView(){return window.innerWidth<=767?"table-responsive":""}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}getUserIndexParams(e){this.ItemUserStartIndex=e.ItemUserStartIndex,this.ItemUserEndIndex=e.ItemUserEndIndex}getBlockNo(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].blockNo=e[0].apartmentBlockNumber,e[0].apartmentBlockNumber)}getBlockUnitNo(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].unitNo=e[0].apartmentBlockUnitNumber,e[0].apartmentBlockUnitNumber)}getNotes(e){return void 0===e||0==e.length?"":e[0].notes}getUserRole(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].roleName=e[0].roleName,e[0].roleName)}getUserRoleInfo(e){return void 0===e.userRole||0==e.userRole.length?"":e.userRole[0].roleName}showConfirmModal(e){this.modalService.showConfirmModal(e)}showUserInfo(e){var t=this.deActivatedListData[e].apartmentBlockUnit,i=this.deActivatedListData[e].userRole;this.userService.getUserById(this.deActivatedListData[e].id).subscribe(e=>{var n=e[0];void 0===t||0==t.length?(n.blockNo="Not Available",n.unitNo=""):(n.blockNo=t[0].apartmentBlockNumber,n.unitNo=t[0].apartmentBlockUnitNumber),n.roleName=void 0===i||0==i.length?"Not Available":i[0].roleName,this.dialog.open(this.viewDeactivatedUserRef,{panelClass:"material",disableClose:!0,data:n})})}activateUser(){this.isUserDataLoaded=!1,N.each(this.deActivatedListData,(e,t)=>{e.checked&&this.userService.getUserById(e.id).subscribe(e=>{var i=e[0];i.isActive=!0,this.userService.UpdateUser(i).subscribe(e=>{this.deActivatedListData.splice(t,1),this.totalUserItems=this.deActivatedListData.length,this.isUserDataLoaded=!0})})})}ngOnInit(){this.userService.getAllUnApprovedUsers().subscribe(e=>{var t=e;console.log(e),this.deActivatedListData=t.filter(e=>!e.active),this.totalUserItems=this.deActivatedListData.length,this.ItemUserEndIndex=this.totalUserItems>this.itemUserLimit?this.itemUserLimit:this.totalUserItems,this.isUserDataLoaded=!0},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(a.r),a.Rb(D.b),a.Rb(c.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-de-activated"]],viewQuery:function(e,t){var i;1&e&&a.Zc(be,!0),2&e&&a.Gc(i=a.jc())&&(t.viewDeactivatedUserRef=i.first)},decls:5,vars:2,consts:[[1,"deactivated-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],["viewDeactivatedUserRef",""],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"d-none","d-md-inline-block"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",1,"select"],[1,"form-group"],[1,"form-check","float-left"],["type","checkbox","id","selectAllDeactivatedUser","name","selectAllDeactivatedUser",1,"form-check-input",3,"ngModel","ngModelChange"],["for","selectAllDeactivatedUser",1,"form-check-label"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"button-wrapper","border-top"],[1,"btn","lime-green","sf",3,"ngClass","click"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"select"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","eye",1,"icon","view"],["href","javascript:void(0)","routerLinkActive","active",1,"mr-2",3,"routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],[1,"pop-desp"],[1,"user-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"title"],[1,"card"],[1,"media"],[1,"icon","mr-4"],["src","assets/images/user-icon.svg","width","36"],[1,"media-body"],[1,"mt-0"],[1,"card-body","lists"],[1,"list-group"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,le,1,0,"app-loader",1),a.Rc(2,me,57,27,"div",2),a.Rc(3,he,48,12,"ng-template",null,3,a.Sc),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isUserDataLoaded),a.Cb(1),a.uc("ngIf",t.isUserDataLoaded))},directives:[n.l,p.a,h.b,m.d,m.n,m.q,O.b,n.j,m.a,n.k,B.a,L.c,r.e,r.d,D.c],pipes:[P.c,n.t,P.b],styles:[""]}),e})();function Ve(e,t){1&e&&a.Sb(0,"app-loader")}const fe=function(){return{exact:!0}};function ve(e,t){if(1&e&&(a.Wb(0,"div",5),a.Wb(1,"div",6),a.Wb(2,"a",7),a.Wb(3,"div",8),a.Wb(4,"h6"),a.Tc(5),a.Vb(),a.Wb(6,"p"),a.Tc(7),a.Vb(),a.Vb(),a.Vb(),a.Sb(8,"div",9),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(2),a.xc("routerLink","",e.lookupValueName,"/",e.lookupValueID,""),a.uc("routerLinkActiveOptions",a.Ac(5,fe)),a.Cb(3),a.Uc(e.lookupValueName),a.Cb(2),a.Uc(e.description)}}function We(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"h5",2),a.Tc(2,"Reports"),a.Vb(),a.Wb(3,"div",3),a.Rc(4,ve,9,6,"div",4),a.Vb(),a.Tb()),2&e){const e=a.mc();a.Cb(4),a.uc("ngForOf",e.reportDataList)}}let Ce=(()=>{class e{constructor(e,t,i){this.lookupService=e,this.sharedService=t,this.cookieService=i,this.isDataLoaded=!1}formatName(e){return e.replace(/^\s+|\s+$/g,"")}ngOnInit(){let e={ApartmentId:parseInt(this.cookieService.get("apartmentId")),LookupTypeId:87,MenuName:"UnitUser"};this.lookupService.getLookupValuesByApartmentIdLookupTypeIdMenuName(e).subscribe(e=>{this.reportDataList=e,this.isDataLoaded=!0})}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(o.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-user-reports"]],decls:3,vars:2,consts:[[1,"reports-wrapper"],[4,"ngIf"],[1,"mb-3"],[1,"row"],["class","col-sm-6 mb-20",4,"ngFor","ngForOf"],[1,"col-sm-6","mb-20"],[1,"card","report-card"],["href","javascript:void(0)","routerLinkActive","active",1,"t-no-decor",3,"routerLink","routerLinkActiveOptions"],[1,"card-header"],[1,"card-body"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,Ve,1,0,"app-loader",1),a.Rc(2,We,5,1,"ng-container",1),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isDataLoaded),a.Cb(1),a.uc("ngIf",t.isDataLoaded))},directives:[n.l,p.a,n.k,r.e,r.d],styles:[""]}),e})();var Ie=i("wd/R");function Ue(e,t){1&e&&a.Sb(0,"app-loader")}function ke(e,t){if(1&e&&(a.Wb(0,"option",36),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function Te(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",37),a.Tc(2),a.Vb(),a.Wb(3,"td",38),a.Tc(4),a.Vb(),a.Wb(5,"td",38),a.Tc(6),a.Vb(),a.Wb(7,"td",38),a.Tc(8),a.Vb(),a.Wb(9,"td",38),a.Tc(10),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(2),a.Uc(e.unitUserName),a.Cb(2),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(2),a.Uc(e.emailID),a.Cb(2),a.Uc(e.userTypeName),a.Cb(2),a.Uc(e.mobile)}}function ye(e,t){1&e&&(a.Wb(0,"div",39),a.Wb(1,"p",40),a.Tc(2,"No Data Available"),a.Vb(),a.Vb())}const Se=function(){return{exact:!0}};function Me(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",2),a.Wb(2,"h6"),a.Sb(3,"i-feather",3),a.Tc(4,"Filter By"),a.Vb(),a.Vb(),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"div",6),a.Wb(8,"a",7),a.Wb(9,"div",8),a.Sb(10,"img",9),a.Vb(),a.Wb(11,"span",10),a.Tc(12,"View All Report Types"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div",11),a.Wb(14,"form",12,13),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(15);return a.mc().submitIncomeFilterForm(t)})),a.Wb(16,"div",14),a.Wb(17,"div",15),a.Wb(18,"div",16),a.Wb(19,"div",17),a.Wb(20,"label"),a.Tc(21,"Select Block No"),a.Vb(),a.Wb(22,"select",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().blockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getBlockDetails()})),a.Wb(23,"option",19),a.Tc(24,"All Blocks"),a.Vb(),a.Rc(25,ke,2,2,"option",20),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(26,"div",21),a.Wb(27,"div",22),a.Wb(28,"div",23),a.Wb(29,"h5"),a.Tc(30),a.Wb(31,"span",24),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"p"),a.Tc(34),a.Vb(),a.Vb(),a.Wb(35,"ul",25),a.Wb(36,"li",26),a.Sb(37,"i",27),a.Wb(38,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userReportData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div",29),a.Wb(40,"table",30),a.Wb(41,"thead"),a.Wb(42,"tr"),a.Wb(43,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitUserName")})),a.Tc(44,"User Name"),a.Sb(45,"span",32),a.Vb(),a.Wb(46,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(47,"Block Details"),a.Sb(48,"span",32),a.Vb(),a.Wb(49,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("emailID")})),a.Tc(50,"Email ID"),a.Sb(51,"span",32),a.Vb(),a.Wb(52,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("userTypeName")})),a.Tc(53,"User Type"),a.Sb(54,"span",32),a.Vb(),a.Wb(55,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("mobile")})),a.Tc(56,"Mobile"),a.Sb(57,"span",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(58,"tbody"),a.Rc(59,Te,11,6,"tr",33),a.nc(60,"simpleSearch"),a.nc(61,"slice"),a.nc(62,"orderBy"),a.Vb(),a.Vb(),a.Rc(63,ye,3,0,"div",34),a.Wb(64,"app-pagination",35),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(8),a.uc("routerLinkActiveOptions",a.Ac(30,Se)),a.Cb(14),a.uc("ngModel",e.blockId),a.Cb(3),a.uc("ngForOf",e.unitBlocksData),a.Cb(5),a.Vc("",e.pageName," "),a.Cb(2),a.Uc(e.totalItems),a.Cb(2),a.Vc("Data from ",e.blockNo,""),a.Cb(4),a.uc("ngModel",e.userReportData),a.Cb(2),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("unitUserName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("emailID")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("userTypeName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("mobile")),a.Cb(2),a.uc("ngForOf",a.pc(60,19,a.qc(61,22,a.qc(62,26,e.userReportDataList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex),e.userReportData)),a.Cb(4),a.uc("ngIf",e.isNoItemsAvailable()),a.Cb(1),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function Ne(e,t){if(1&e&&(a.Wb(0,"option",36),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function De(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",37),a.Tc(2),a.Vb(),a.Wb(3,"td",38),a.Tc(4),a.Vb(),a.Wb(5,"td",38),a.Tc(6),a.Vb(),a.Wb(7,"td",38),a.Tc(8),a.Vb(),a.Wb(9,"td",38),a.Tc(10),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(2),a.Uc(e.unitUserName),a.Cb(2),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(2),a.Uc(e.emailID),a.Cb(2),a.Uc(e.userTypeName),a.Cb(2),a.Uc(e.mobile)}}function Oe(e,t){1&e&&(a.Wb(0,"div",39),a.Wb(1,"p",40),a.Tc(2,"No Data Available"),a.Vb(),a.Vb())}function Be(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",2),a.Wb(2,"h6"),a.Sb(3,"i-feather",3),a.Tc(4,"Filter By"),a.Vb(),a.Vb(),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"div",6),a.Wb(8,"a",7),a.Wb(9,"div",8),a.Sb(10,"img",9),a.Vb(),a.Wb(11,"span",10),a.Tc(12,"View All Report Types"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div",41),a.Wb(14,"form",12,13),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(15);return a.mc().submitIncomeFilterForm(t)})),a.Wb(16,"div",14),a.Wb(17,"div",15),a.Wb(18,"div",16),a.Wb(19,"div",17),a.Wb(20,"label"),a.Tc(21,"Select Block No"),a.Vb(),a.Wb(22,"select",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().blockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getBlockDetails()})),a.Wb(23,"option",19),a.Tc(24,"All Blocks"),a.Vb(),a.Rc(25,Ne,2,2,"option",20),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(26,"div",21),a.Wb(27,"div",22),a.Wb(28,"div",23),a.Wb(29,"h5"),a.Tc(30),a.Wb(31,"span",24),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"p"),a.Tc(34),a.Vb(),a.Vb(),a.Wb(35,"ul",25),a.Wb(36,"li",26),a.Sb(37,"i",27),a.Wb(38,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userReportData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div",29),a.Wb(40,"table",30),a.Wb(41,"thead"),a.Wb(42,"tr"),a.Wb(43,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitUserName")})),a.Tc(44,"User Name"),a.Sb(45,"span",32),a.Vb(),a.Wb(46,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(47,"Block Details"),a.Sb(48,"span",32),a.Vb(),a.Wb(49,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("emailID")})),a.Tc(50,"Email ID"),a.Sb(51,"span",32),a.Vb(),a.Wb(52,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("userTypeName")})),a.Tc(53,"User Type"),a.Sb(54,"span",32),a.Vb(),a.Wb(55,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("mobile")})),a.Tc(56,"Mobile"),a.Sb(57,"span",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(58,"tbody"),a.Rc(59,De,11,6,"tr",33),a.nc(60,"simpleSearch"),a.nc(61,"slice"),a.nc(62,"orderBy"),a.Vb(),a.Vb(),a.Rc(63,Oe,3,0,"div",34),a.Wb(64,"app-pagination",35),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(8),a.uc("routerLinkActiveOptions",a.Ac(30,Se)),a.Cb(14),a.uc("ngModel",e.blockId),a.Cb(3),a.uc("ngForOf",e.unitBlocksData),a.Cb(5),a.Vc("",e.pageName," "),a.Cb(2),a.Uc(e.totalItems),a.Cb(2),a.Vc("Data from ",e.blockNo,""),a.Cb(4),a.uc("ngModel",e.userReportData),a.Cb(2),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("unitUserName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("emailID")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("userTypeName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("mobile")),a.Cb(2),a.uc("ngForOf",a.pc(60,19,a.qc(61,22,a.qc(62,26,e.userReportDataList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex),e.userReportData)),a.Cb(4),a.uc("ngIf",e.isNoItemsAvailable()),a.Cb(1),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function Le(e,t){if(1&e&&(a.Wb(0,"option",36),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function Ae(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",37),a.Tc(2),a.Vb(),a.Wb(3,"td",38),a.Tc(4),a.Vb(),a.Wb(5,"td",38),a.Tc(6),a.Vb(),a.Wb(7,"td",38),a.Tc(8),a.Vb(),a.Wb(9,"td",38),a.Tc(10),a.Vb(),a.Wb(11,"td",38),a.Tc(12),a.Vb(),a.Vb()),2&e){const e=t.$implicit;a.Cb(2),a.Uc(e.unitUserName),a.Cb(2),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(2),a.Uc(e.vehicleNumber),a.Cb(2),a.Uc(e.vehicleModel),a.Cb(2),a.Uc(e.emailID),a.Cb(2),a.Uc(e.mobile)}}function Pe(e,t){1&e&&(a.Wb(0,"div",39),a.Wb(1,"p",40),a.Tc(2,"No Data Available"),a.Vb(),a.Vb())}function Re(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",2),a.Wb(2,"h6"),a.Sb(3,"i-feather",3),a.Tc(4,"Filter By"),a.Vb(),a.Vb(),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"div",6),a.Wb(8,"a",7),a.Wb(9,"div",8),a.Sb(10,"img",9),a.Vb(),a.Wb(11,"span",10),a.Tc(12,"View All Report Types"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div",41),a.Wb(14,"form",12,13),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(15);return a.mc().submitIncomeFilterForm(t)})),a.Wb(16,"div",14),a.Wb(17,"div",15),a.Wb(18,"div",16),a.Wb(19,"div",17),a.Wb(20,"label"),a.Tc(21,"Select Block No"),a.Vb(),a.Wb(22,"select",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().blockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getBlockDetails()})),a.Wb(23,"option",19),a.Tc(24,"All Blocks"),a.Vb(),a.Rc(25,Le,2,2,"option",20),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(26,"div",21),a.Wb(27,"div",22),a.Wb(28,"div",23),a.Wb(29,"h5"),a.Tc(30),a.Wb(31,"span",24),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"p"),a.Tc(34),a.Vb(),a.Vb(),a.Wb(35,"ul",25),a.Wb(36,"li",26),a.Sb(37,"i",27),a.Wb(38,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userReportData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div",29),a.Wb(40,"table",30),a.Wb(41,"thead"),a.Wb(42,"tr"),a.Wb(43,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitUserName")})),a.Tc(44,"User Name"),a.Sb(45,"span",32),a.Vb(),a.Wb(46,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(47,"Block Details"),a.Sb(48,"span",32),a.Vb(),a.Wb(49,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("vehicleNumber")})),a.Tc(50,"Vehicle Number"),a.Sb(51,"span",32),a.Vb(),a.Wb(52,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("vehicleModel")})),a.Tc(53,"Vehicle Model"),a.Sb(54,"span",32),a.Vb(),a.Wb(55,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("emailID")})),a.Tc(56,"Email ID"),a.Sb(57,"span",32),a.Vb(),a.Wb(58,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("mobile")})),a.Tc(59,"Mobile"),a.Sb(60,"span",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(61,"tbody"),a.Rc(62,Ae,13,7,"tr",33),a.nc(63,"simpleSearch"),a.nc(64,"slice"),a.nc(65,"orderBy"),a.Vb(),a.Vb(),a.Rc(66,Pe,3,0,"div",34),a.Wb(67,"app-pagination",35),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(8),a.uc("routerLinkActiveOptions",a.Ac(31,Se)),a.Cb(14),a.uc("ngModel",e.blockId),a.Cb(3),a.uc("ngForOf",e.unitBlocksData),a.Cb(5),a.Vc("",e.pageName," "),a.Cb(2),a.Uc(e.totalItems),a.Cb(2),a.Vc("Data from ",e.blockNo,""),a.Cb(4),a.uc("ngModel",e.userReportData),a.Cb(2),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("unitUserName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("vehicleNumber")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("vehicleModel")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("emailID")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("mobile")),a.Cb(2),a.uc("ngForOf",a.pc(63,20,a.qc(64,23,a.qc(65,27,e.userReportDataList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex),e.userReportData)),a.Cb(4),a.uc("ngIf",e.isNoItemsAvailable()),a.Cb(1),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function xe(e,t){if(1&e&&(a.Wb(0,"option",36),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function we(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",37),a.Tc(2),a.Vb(),a.Wb(3,"td",38),a.Tc(4),a.Vb(),a.Wb(5,"td",38),a.Tc(6),a.Vb(),a.Wb(7,"td",38),a.Tc(8),a.Vb(),a.Wb(9,"td",38),a.Tc(10),a.Vb(),a.Wb(11,"td",38),a.Tc(12),a.Vb(),a.Vb()),2&e){const e=t.$implicit,i=a.mc(2);a.Cb(2),a.Uc(e.unitUserName),a.Cb(2),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(2),a.Uc(i.getDate(e.agreementStartDate)),a.Cb(2),a.Uc(i.getDate(e.agreementEndDate)),a.Cb(2),a.Uc(e.rentalorLease),a.Cb(2),a.Uc(e.emailID)}}function Fe(e,t){1&e&&(a.Wb(0,"div",39),a.Wb(1,"p",40),a.Tc(2,"No Data Available"),a.Vb(),a.Vb())}function Ke(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",2),a.Wb(2,"h6"),a.Sb(3,"i-feather",3),a.Tc(4,"Filter By"),a.Vb(),a.Vb(),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"div",6),a.Wb(8,"a",7),a.Wb(9,"div",8),a.Sb(10,"img",9),a.Vb(),a.Wb(11,"span",10),a.Tc(12,"View All Report Types"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div",41),a.Wb(14,"form",12,13),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(15);return a.mc().submitIncomeFilterForm(t)})),a.Wb(16,"div",14),a.Wb(17,"div",15),a.Wb(18,"div",16),a.Wb(19,"div",17),a.Wb(20,"label"),a.Tc(21,"Select Block No"),a.Vb(),a.Wb(22,"select",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().blockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getBlockDetails()})),a.Wb(23,"option",19),a.Tc(24,"All Blocks"),a.Vb(),a.Rc(25,xe,2,2,"option",20),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(26,"div",21),a.Wb(27,"div",22),a.Wb(28,"div",23),a.Wb(29,"h5"),a.Tc(30),a.Wb(31,"span",24),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"p"),a.Tc(34),a.Vb(),a.Vb(),a.Wb(35,"ul",25),a.Wb(36,"li",26),a.Sb(37,"i",27),a.Wb(38,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userReportData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div",29),a.Wb(40,"table",30),a.Wb(41,"thead"),a.Wb(42,"tr"),a.Wb(43,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitUserName")})),a.Tc(44,"User Name"),a.Sb(45,"span",32),a.Vb(),a.Wb(46,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(47,"Block Details"),a.Sb(48,"span",32),a.Vb(),a.Wb(49,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("agreementStartDate")})),a.Tc(50,"Start Date"),a.Sb(51,"span",32),a.Vb(),a.Wb(52,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("agreementEndDate")})),a.Tc(53,"End Date"),a.Sb(54,"span",32),a.Vb(),a.Wb(55,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("rentalorLease")})),a.Tc(56,"Rental Lease"),a.Sb(57,"span",32),a.Vb(),a.Wb(58,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("emailID")})),a.Tc(59,"Email ID"),a.Sb(60,"span",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(61,"tbody"),a.Rc(62,we,13,7,"tr",33),a.nc(63,"simpleSearch"),a.nc(64,"slice"),a.nc(65,"orderBy"),a.Vb(),a.Vb(),a.Rc(66,Fe,3,0,"div",34),a.Wb(67,"app-pagination",35),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(8),a.uc("routerLinkActiveOptions",a.Ac(31,Se)),a.Cb(14),a.uc("ngModel",e.blockId),a.Cb(3),a.uc("ngForOf",e.unitBlocksData),a.Cb(5),a.Vc("",e.pageName," "),a.Cb(2),a.Uc(e.totalItems),a.Cb(2),a.Vc("Data from ",e.blockNo,""),a.Cb(4),a.uc("ngModel",e.userReportData),a.Cb(2),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("unitUserName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("agreementStartDate")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("agreementEndDate")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("rentalorLease")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("emailID")),a.Cb(2),a.uc("ngForOf",a.pc(63,20,a.qc(64,23,a.qc(65,27,e.userReportDataList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex),e.userReportData)),a.Cb(4),a.uc("ngIf",e.isNoItemsAvailable()),a.Cb(1),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function _e(e,t){if(1&e&&(a.Wb(0,"option",36),a.Tc(1),a.Vb()),2&e){const e=t.$implicit;a.uc("value",e.apartmentBlockId),a.Cb(1),a.Uc(e.apartmentBlockNumber)}}function Ee(e,t){if(1&e&&(a.Wb(0,"tr"),a.Wb(1,"td",37),a.Tc(2),a.Vb(),a.Wb(3,"td",38),a.Tc(4),a.Vb(),a.Wb(5,"td",38),a.Tc(6),a.Vb(),a.Wb(7,"td",38),a.Tc(8),a.Vb(),a.Wb(9,"td",38),a.Tc(10),a.Vb(),a.Wb(11,"td",38),a.Tc(12),a.Vb(),a.Vb()),2&e){const e=t.$implicit,i=a.mc(2);a.Cb(2),a.Uc(e.unitUserName),a.Cb(2),a.Wc("",e.blockNo," ",e.unitNo,""),a.Cb(2),a.Uc(e.petName),a.Cb(2),a.Uc(i.getDate(e.lastVaccinationDate)),a.Cb(2),a.Uc(e.emailID),a.Cb(2),a.Uc(e.mobile)}}function qe(e,t){1&e&&(a.Wb(0,"div",39),a.Wb(1,"p",40),a.Tc(2,"No Data Available"),a.Vb(),a.Vb())}function je(e,t){if(1&e){const e=a.Xb();a.Ub(0),a.Wb(1,"div",2),a.Wb(2,"h6"),a.Sb(3,"i-feather",3),a.Tc(4,"Filter By"),a.Vb(),a.Vb(),a.Wb(5,"div",4),a.Wb(6,"div",5),a.Wb(7,"div",6),a.Wb(8,"a",7),a.Wb(9,"div",8),a.Sb(10,"img",9),a.Vb(),a.Wb(11,"span",10),a.Tc(12,"View All Report Types"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(13,"div",41),a.Wb(14,"form",12,13),a.ic("ngSubmit",(function(){a.Kc(e);const t=a.Hc(15);return a.mc().submitIncomeFilterForm(t)})),a.Wb(16,"div",14),a.Wb(17,"div",15),a.Wb(18,"div",16),a.Wb(19,"div",17),a.Wb(20,"label"),a.Tc(21,"Select Block No"),a.Vb(),a.Wb(22,"select",18),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().blockId=t}))("ngModelChange",(function(){return a.Kc(e),a.mc().getBlockDetails()})),a.Wb(23,"option",19),a.Tc(24,"All Blocks"),a.Vb(),a.Rc(25,_e,2,2,"option",20),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(26,"div",21),a.Wb(27,"div",22),a.Wb(28,"div",23),a.Wb(29,"h5"),a.Tc(30),a.Wb(31,"span",24),a.Tc(32),a.Vb(),a.Vb(),a.Wb(33,"p"),a.Tc(34),a.Vb(),a.Vb(),a.Wb(35,"ul",25),a.Wb(36,"li",26),a.Sb(37,"i",27),a.Wb(38,"input",28),a.ic("ngModelChange",(function(t){return a.Kc(e),a.mc().userReportData=t})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(39,"div",29),a.Wb(40,"table",30),a.Wb(41,"thead"),a.Wb(42,"tr"),a.Wb(43,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("unitUserName")})),a.Tc(44,"User Name"),a.Sb(45,"span",32),a.Vb(),a.Wb(46,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("blockNo")})),a.Tc(47,"Block Details"),a.Sb(48,"span",32),a.Vb(),a.Wb(49,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("petName")})),a.Tc(50,"Pet Name"),a.Sb(51,"span",32),a.Vb(),a.Wb(52,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("lastVaccinationDate")})),a.Tc(53,"Last Vaccination Date"),a.Sb(54,"span",32),a.Vb(),a.Wb(55,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("emailID")})),a.Tc(56,"Email ID"),a.Sb(57,"span",32),a.Vb(),a.Wb(58,"th",31),a.ic("click",(function(){return a.Kc(e),a.mc().sortUnitData("mobile")})),a.Tc(59,"Mobile"),a.Sb(60,"span",32),a.Vb(),a.Vb(),a.Vb(),a.Wb(61,"tbody"),a.Rc(62,Ee,13,7,"tr",33),a.nc(63,"simpleSearch"),a.nc(64,"slice"),a.nc(65,"orderBy"),a.Vb(),a.Vb(),a.Rc(66,qe,3,0,"div",34),a.Wb(67,"app-pagination",35),a.ic("outputParams",(function(t){return a.Kc(e),a.mc().getIndexParams(t)})),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){const e=a.mc();a.Cb(8),a.uc("routerLinkActiveOptions",a.Ac(31,Se)),a.Cb(14),a.uc("ngModel",e.blockId),a.Cb(3),a.uc("ngForOf",e.unitBlocksData),a.Cb(5),a.Vc("",e.pageName," "),a.Cb(2),a.Uc(e.totalItems),a.Cb(2),a.Vc("Data from ",e.blockNo,""),a.Cb(4),a.uc("ngModel",e.userReportData),a.Cb(2),a.uc("ngClass",e.isMobileView()),a.Cb(5),a.uc("ngClass",e.getFieldOrderBy("unitUserName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("blockNo")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("petName")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("lastVaccinationDate")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("emailID")),a.Cb(3),a.uc("ngClass",e.getFieldOrderBy("mobile")),a.Cb(2),a.uc("ngForOf",a.pc(63,20,a.qc(64,23,a.qc(65,27,e.userReportDataList,e.unitFieldType,e.unitOrder),e.ItemStartIndex,e.ItemEndIndex),e.userReportData)),a.Cb(4),a.uc("ngIf",e.isNoItemsAvailable()),a.Cb(1),a.uc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}let $e=(()=>{class e{constructor(e,t,i,n,r,a,c){this.router=e,this.route=t,this.userService=i,this.apartmentService=n,this.lookupService=r,this.sharedService=a,this.cookieService=c,this.pageName="",this.pageDesp="",this.ItemStartIndex=0,this.itemLimit=10,this.unitFieldType="unitno",this.unitOrder=!1,this.isDataLoaded=!1,this.blockId="",this.blockNo="All Blocks"}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}isItemsAvailable(){return this.totalItems>0}isNoItemsAvailable(){return 0==this.totalItems}isListOfResidents(){return"List of Residents"==this.pageName}isListOfApprovedUsers(){return"List of Approved Users"==this.pageName}isListOfDeactivatedUsers(){return"List of De-activated Users"==this.pageName}isListOfResidentsVehicleInfo(){return"List of Residents Vehicle Info"==this.pageName}isListOfExpiringRental(){return"List of Expiring Rental / Lease Agreements"==this.pageName}isListOfUsersWithPets(){return"List of Users with Pets"==this.pageName}getDate(e){return Ie(e).format("MM-DD-YYYY")}getBlockDetails(){var e;if(this.isDataLoaded=!1,""==this.blockId)e=null,this.blockNo="All Blocks";else{e=this.blockId;var t=this.unitBlocksData.filter(t=>t.apartmentBlockId==e);this.blockNo=t[0].apartmentBlockNumber}var i={ApartmentID:parseInt(this.cookieService.get("apartmentId")),ApartmentBlockID:e};this.isListOfResidents()?this.userService.GetReportUnitUserResidentsbyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()}):this.isListOfApprovedUsers()?this.userService.GetReportApprovedUnitUserbyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()}):this.isListOfDeactivatedUsers()?this.userService.GetReportDeActivatedUnitUserbyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()}):this.isListOfResidentsVehicleInfo()?this.userService.GetReportUnitUserResidentsVehicleInfobyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()}):this.isListOfExpiringRental()?this.userService.GetReportExpiredRentLeaseAgreemtbyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()}):this.isListOfUsersWithPets()&&this.userService.GetReportUnitUserPetInfobyApartmentIdBlockId(i).subscribe(e=>{this.userReportDataList=e,this.isDataLoaded=!0,this.showItems()})}showItems(){this.totalItems=this.userReportDataList.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems}ngOnInit(){this.pageName=this.route.params.value.name,this.apartmentService.getApartmentBlockByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.unitBlocksData=e}),this.lookupService.getLookupValueByLookupTypeId(87).subscribe(e=>{e.filter(e=>e.lookupValueId==this.route.params.value.id),this.pageName=e[0].lookupValueName,this.pageDesp=e[0].description}),this.getBlockDetails()}}return e.\u0275fac=function(t){return new(t||e)(a.Rb(r.c),a.Rb(r.a),a.Rb(c.a),a.Rb(l.a),a.Rb(o.a),a.Rb(b.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-user-report-data"]],decls:7,vars:6,consts:[[1,"user-report-data-wrapper"],[4,"ngIf"],[1,"filter-box","float-left","mt-4","p-0","no-border"],["name","filter",1,"icon","mr-2"],[1,"float-right"],[1,"relative-card","float-right"],[1,"relative-icon"],["href","javascript:void(0)","routerLink","/ams/unit&users/reports","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper"],["src","assets/images/book-icon.svg","width","17",1,"svg"],[1,"d-inline-block"],[1,"card","clear","mb-20","filter-card"],["name","incomeFilterForm","novalidate","",3,"ngSubmit"],["incomeFilterForm","ngForm"],[1,"card-header","no-border"],[1,"row"],[1,"col-sm-3"],[1,"select-box","mb-2"],["name","blockId","id","blockId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"float-left"],[1,"badge","blue"],[1,"list-inline","float-right"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],["class","button-wrapper border-top",4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"value"],[1,"name"],[1,"grey"],[1,"button-wrapper","border-top"],[1,"snippet"],[1,"card","mb-20","filter-card"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,Ue,1,0,"app-loader",1),a.Rc(2,Me,65,31,"ng-container",1),a.Rc(3,Be,65,31,"ng-container",1),a.Rc(4,Re,68,32,"ng-container",1),a.Rc(5,Ke,68,32,"ng-container",1),a.Rc(6,je,68,32,"ng-container",1),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isDataLoaded),a.Cb(1),a.uc("ngIf",t.isDataLoaded&&(t.isListOfResidents()||t.isListOfApprovedUsers())),a.Cb(1),a.uc("ngIf",t.isDataLoaded&&t.isListOfDeactivatedUsers()),a.Cb(1),a.uc("ngIf",t.isDataLoaded&&t.isListOfResidentsVehicleInfo()),a.Cb(1),a.uc("ngIf",t.isDataLoaded&&t.isListOfExpiringRental()),a.Cb(1),a.uc("ngIf",t.isDataLoaded&&t.isListOfUsersWithPets()))},directives:[n.l,p.a,O.b,r.e,r.d,h.c,m.B,m.o,m.p,m.y,m.x,m.n,m.q,m.r,m.A,n.k,h.b,m.d,n.j,B.a],pipes:[P.c,n.t,P.b],styles:[""]}),e})();var ze=i("Ukaj"),Xe=i("gM/p"),Ge=i("ERPO"),Ye=i("iVCJ"),Ze=i("gQbJ"),He=i("3cwP"),Je=i("cCqq"),Qe=i("69Xs"),et=i("1u5m"),tt=i("AwNW");const it=[{path:"",redirectTo:"unapproved",pathMatch:"full"},{path:"unapproved",component:Z,children:[{path:"basic/:id",component:et.a},{path:"unit/:id",component:Ze.a},{path:"staffs/:id",component:He.a},{path:"vehicles/:id",component:ze.a},{path:"pets/:id",component:Ge.a},{path:"propertymanager/:id",component:Ye.a},{path:"family/:id",component:Xe.a},{path:"lease/:id",component:Je.a},{path:"interest/:id",component:Qe.a},{path:"absence/:id",component:tt.a},{path:"**",redirectTo:"basic",pathMatch:"full"}]},{path:"add-users",component:S},{path:"edit-user/:id",component:S},{path:"approved",component:oe,children:[{path:"basic/:id",component:et.a},{path:"unit/:id",component:Ze.a},{path:"staffs/:id",component:He.a},{path:"vehicles/:id",component:ze.a},{path:"pets/:id",component:Ge.a},{path:"propertymanager/:id",component:Ye.a},{path:"family/:id",component:Xe.a},{path:"lease/:id",component:Je.a},{path:"interest/:id",component:Qe.a},{path:"absence/:id",component:tt.a},{path:"**",redirectTo:"basic",pathMatch:"full"}]},{path:"access-control",component:S},{path:"broadcast",component:S},{path:"statistics",component:S},{path:"de-activated",component:ge},{path:"reports",component:Ce},{path:"reports/:name/:id",component:$e},{path:"**",redirectTo:"unapproved",pathMatch:"full"}];let nt=(()=>{class e{}return e.\u0275mod=a.Pb({type:e}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)},imports:[[r.f.forChild(it)],r.f]}),e})();var rt=i("PCNd"),at=i("hVtS");let ct=(()=>{class e{ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Lb({type:e,selectors:[["app-unit-users"]],decls:1,vars:0,template:function(e,t){1&e&&a.Sb(0,"router-outlet")},directives:[r.g],styles:[""]}),e})();i.d(t,"UnitUsersModule",(function(){return st}));let st=(()=>{class e{}return e.\u0275mod=a.Pb({type:e,bootstrap:[ct]}),e.\u0275inj=a.Ob({factory:function(t){return new(t||e)},imports:[[n.b,nt,rt.a,at.MyProfileModule]]}),e})()}}]);