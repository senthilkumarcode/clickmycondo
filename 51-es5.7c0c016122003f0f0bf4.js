function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var c=t[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{Vdnx:function(e,t,n){"use strict";n.r(t);var c=n("ofXK"),i=n("tyNb"),o=n("NutR"),a=n("Yt4J"),r=n("MXRh"),s=n("wbvY"),d=n("ThaB"),l=n("JK/P"),g=n("fXoL"),u=n("0IaG"),p=n("b6Qw"),h=n("668k"),f=n("8mtn"),m=n("BR9Y"),b=n("3Pt+"),O=["confirmEmergencyRef"];function C(e,t){1&e&&g.ec(0,"app-loader")}function y(e,t){if(1&e){var n=g.jc();g.ic(0,"div",14),g.ic(1,"div",15),g.uc("click",(function(){g.Wc(n);var e=t.$implicit,c=g.yc(2);return c.showConfirmEmergency(e,c.getEmergencyType(e.lookupValueId))})),g.ic(2,"div",16),g.ec(3,"img",17),g.hc(),g.ic(4,"h4"),g.fd(5),g.hc(),g.hc(),g.hc()}if(2&e){var c=t.$implicit,i=g.yc(2);g.Ob(1),g.Gc("ngClass",i.getEmergencyType(c.lookupValueId)),g.Ob(2),g.Ic("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Yc),g.Ob(2),g.gd(c.lookupValueName)}}var v=function(){return{exact:!0}};function M(e,t){if(1&e&&(g.gc(0),g.ic(1,"div",3),g.ic(2,"h4"),g.fd(3,"Hi "),g.ic(4,"span",4),g.fd(5),g.hc(),g.hc(),g.ic(6,"h4"),g.fd(7,"We are here to help you."),g.hc(),g.hc(),g.ic(8,"a",5),g.ic(9,"div",6),g.ic(10,"div",7),g.ic(11,"div",8),g.ec(12,"img",9),g.hc(),g.ic(13,"h4",10),g.fd(14,"Emergency Contacts"),g.hc(),g.hc(),g.hc(),g.hc(),g.ic(15,"div",11),g.ic(16,"h5"),g.fd(17,"Select the emergency assistance needed"),g.hc(),g.ic(18,"div",12),g.dd(19,y,6,3,"div",13),g.hc(),g.hc(),g.fc()),2&e){var n=g.yc();g.Ob(5),g.gd(n.userName),g.Ob(3),g.Gc("routerLinkActiveOptions",g.Mc(3,v)),g.Ob(11),g.Gc("ngForOf",n.emergencyList)}}function _(e,t){if(1&e){var n=g.jc();g.ic(0,"div",25),g.ic(1,"div",26),g.ic(2,"p"),g.fd(3,"You have selected"),g.hc(),g.ic(4,"h4"),g.fd(5),g.hc(),g.ic(6,"div",27),g.ec(7,"img",28),g.hc(),g.hc(),g.ic(8,"h5"),g.fd(9,"Slide to confirm the assistance"),g.hc(),g.ic(10,"div"),g.ic(11,"input",29),g.uc("ngModelChange",(function(e){return g.Wc(n),g.yc(2).rangeValue=e}))("ngModelChange",(function(){g.Wc(n);var e=g.yc().$implicit;return g.yc().getRangeValue(e)})),g.hc(),g.hc(),g.hc()}if(2&e){var c=g.yc().$implicit,i=g.yc();g.Ob(5),g.gd(c.lookupValueName),g.Ob(2),g.Ic("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Yc),g.Ob(3),g.Sb("range-slider ",i.getEmergencyType(c.lookupValueId),""),g.Ob(1),g.Gc("ngModel",i.rangeValue)}}function P(e,t){1&e&&(g.ic(0,"div",30),g.ic(1,"h4",31),g.fd(2,"Request is in progress"),g.hc(),g.ec(3,"app-loader",32),g.hc())}function k(e,t){if(1&e){var n=g.jc();g.ic(0,"div",33),g.ic(1,"div",26),g.ic(2,"p"),g.fd(3,"You have requested"),g.hc(),g.ic(4,"h4"),g.fd(5),g.hc(),g.ic(6,"div",27),g.ec(7,"img",34),g.hc(),g.ic(8,"h5"),g.fd(9,"Your location has been shared. Hold tight. Support is on the way"),g.hc(),g.ic(10,"div",35),g.ic(11,"a",36),g.uc("click",(function(){return g.Wc(n),g.yc(2).closeAlertModal()})),g.fd(12,"Ok"),g.hc(),g.ic(13,"a",37),g.uc("click",(function(){return g.Wc(n),g.yc(2).cancelEmergency()})),g.fd(14,"Cancel Emergency"),g.hc(),g.hc(),g.hc(),g.hc()}if(2&e){var c=g.yc().$implicit,i=g.yc();g.Ob(5),g.gd(c.lookupValueName),g.Ob(6),g.Sb("btn d-block tc-white mb-3 ",i.getEmergencyType(c.lookupValueId),"")}}function I(e,t){if(1&e){var n=g.jc();g.ic(0,"div",33),g.ic(1,"div",26),g.ic(2,"p"),g.fd(3,"Your request for"),g.hc(),g.ic(4,"h4"),g.fd(5),g.hc(),g.ic(6,"div",27),g.ec(7,"img",28),g.hc(),g.ic(8,"h5"),g.fd(9,"has been cancelled. Thanks for contacting us"),g.hc(),g.ic(10,"div",35),g.ic(11,"a",36),g.uc("click",(function(){return g.Wc(n),g.yc(2).closeAlertModal()})),g.fd(12,"Ok"),g.hc(),g.hc(),g.hc(),g.hc()}if(2&e){var c=g.yc().$implicit,i=g.yc();g.Ob(5),g.gd(c.lookupValueName),g.Ob(2),g.Ic("src","assets/images/",i.getEmergencyType(c.lookupValueId),"-e-icon.svg",g.Yc),g.Ob(4),g.Sb("btn d-block tc-white mb-3 ",i.getEmergencyType(c.lookupValueId),"")}}function w(e,t){if(1&e&&(g.ic(0,"div",18),g.ic(1,"div",19),g.ec(2,"i-feather",20),g.hc(),g.ic(3,"div",21),g.ic(4,"div"),g.dd(5,_,12,6,"div",22),g.dd(6,P,4,0,"div",23),g.dd(7,k,15,4,"div",24),g.dd(8,I,13,5,"div",24),g.hc(),g.hc(),g.hc()),2&e){var n=t.$implicit,c=g.yc();g.Ob(4),g.Sb("card-body ",n.type,""),g.Ob(1),g.Gc("ngIf",!c.isRangeDone&&!c.isRequestSuccess&&!c.isRequestDeleted),g.Ob(1),g.Gc("ngIf",c.isRangeDone),g.Ob(1),g.Gc("ngIf",c.isRequestSuccess&&!c.isRequestDeleted),g.Ob(1),g.Gc("ngIf",c.isRequestDeleted)}}var x,S=((x=function(){function e(t,n,c,i,o,a,r,s,d){_classCallCheck(this,e),this.injector=t,this.dialog=n,this.router=c,this.alertService=i,this.userService=o,this.apartmentService=a,this.sharedService=r,this.lookupService=s,this.cookieService=d,this.isEmergenciesLoaded=!1,this.rangeValue=0,this.maxRange=10,this.isRangeDone=!1,this.isRequestSuccess=!1,this.isRequestDeleted=!1,this.modalService=this.injector.get(l.a)}return _createClass(e,[{key:"getEmergencyType",value:function(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}},{key:"getRangeValue",value:function(e){var t=this;if("100"==this.rangeValue){this.isRangeDone=!0;var n={apartmentBlockUnitId:this.apartmentBlockUnitId,receivedDate:"2019-12-06T13:45:09.296Z",alertTypeId:e.lookupValueId,location:"string",gpslocation:this.gpsLocation,assignedTo:0,alertStatusId:135,notes:"",isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-06T13:45:09.296Z",updatedBy:0,updatedOn:"2019-12-06T13:45:09.296Z"};this.alertService.addApartmentBlockUnitAlert(n).subscribe((function(e){e.message&&(t.isRangeDone=!1,t.isRequestSuccess=!0,t.alertId=e.message)}),(function(e){console.log(e)}))}}},{key:"closeAlertModal",value:function(){var e=this;this.confirmDialogRef.close(),this.confirmDialogRef.afterClosed().subscribe((function(t){e.router.navigateByUrl("user/alert-security/my-history")}))}},{key:"showConfirmEmergency",value:function(e,t){var n=this,c=e;c.type=t,this.confirmDialogRef=this.dialog.open(this.confirmEmergencyRef,{panelClass:"material",disableClose:!0,data:c}),this.confirmDialogRef.afterClosed().subscribe((function(e){n.isRangeDone=!1}))}},{key:"cancelEmergency",value:function(){var e=this;this.isRangeDone=!0;var t={apartmentBlockUnitAlertId:this.alertId,deleteBy:parseInt(this.cookieService.get("userId"))};this.alertService.deleteApartmentBlockUnitAlert(t).subscribe((function(t){t.message&&(e.isRangeDone=!1,e.isRequestDeleted=!0)}),(function(e){console.log(e)}))}},{key:"setCurrentLocation",value:function(){var e=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition((function(t){e.gpsLocation=t.coords.latitude+","+t.coords.longitude}))}},{key:"ngOnInit",value:function(){var e=this;this.lookupService.getLookupValueByLookupTypeId(29).subscribe((function(t){e.isEmergenciesLoaded=!0,e.emergencyList=t})),this.userService.getUserById(parseInt(this.cookieService.get("userId"))).subscribe((function(t){e.userName=t[0].firstName,e.apartmentService.getApartmentBlockUnitByUserId(parseInt(e.cookieService.get("userId"))).subscribe((function(t){e.apartmentBlockUnitId=t[0].apartmentBlockUnitId}),(function(e){console.log(e)}))}),(function(e){console.log(e)})),this.setCurrentLocation()}}]),e}()).\u0275fac=function(e){return new(e||x)(g.dc(g.x),g.dc(u.b),g.dc(i.c),g.dc(r.a),g.dc(o.a),g.dc(a.a),g.dc(s.a),g.dc(d.a),g.dc(p.a))},x.\u0275cmp=g.Xb({type:x,selectors:[["app-send-panic-alert"]],viewQuery:function(e,t){var n;1&e&&g.ld(O,!0),2&e&&g.Sc(n=g.vc())&&(t.confirmEmergencyRef=n.first)},decls:5,vars:2,consts:[[1,"send-panic-wrapper"],[4,"ngIf"],["confirmEmergencyRef",""],[1,"message-box"],[1,"text-capitialize"],["href","javascript:void(0)","routerLink","/user/alert-security/emergency-contacts","routerLinkActive","active",1,"n-text",3,"routerLinkActiveOptions"],[1,"card","e-card"],[1,"card-body"],[1,"icon","float-left"],["src","assets/images/siren-new-icon.svg"],[1,"float-left"],[1,"alert-lists"],[1,"alerts","d-flex"],["class","box card sos-card",4,"ngFor","ngForOf"],[1,"box","card","sos-card"],[1,"card-body",3,"ngClass","click"],[1,"icon"],[3,"src"],[1,"emergency-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"card"],["class","details-wrapper",4,"ngIf"],["class","request-message",4,"ngIf"],["class","success-message",4,"ngIf"],[1,"details-wrapper"],[1,"details","text-center"],[1,"image-wrapper","text-center"],["width","70",3,"src"],["type","range",3,"ngModel","ngModelChange"],[1,"request-message"],[1,"mb-4"],["color","white"],[1,"success-message"],["src","assets/images/checked-icon.svg","width","70"],[1,"btn-wrapper"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",1,"btn","d-block","tc-white",3,"click"]],template:function(e,t){1&e&&(g.ic(0,"div",0),g.dd(1,C,1,0,"app-loader",1),g.dd(2,M,20,4,"ng-container",1),g.dd(3,w,9,7,"ng-template",null,2,g.ed),g.hc()),2&e&&(g.Ob(1),g.Gc("ngIf",!t.isEmergenciesLoaded),g.Ob(1),g.Gc("ngIf",t.isEmergenciesLoaded))},directives:[c.l,h.a,i.e,i.d,c.k,c.j,u.c,f.b,m.a,b.v,b.d,b.n,b.q],styles:['.send-panic-wrapper[_ngcontent-%COMP%]   .message-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#191c1e;margin:0 0 4px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]{margin:30px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;color:#8391a1}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]{margin:20px 0 0;flex-direction:column}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:30px 20px;color:#fff;position:relative;cursor:pointer}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;background-size:62%;opacity:.2;-moz-opacity:.2;-webkit-opacity:.2;background-repeat:no-repeat;background-position:right -73px;left:20%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:before{background-size:25%;background-position:right -60px;left:0}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:68%;transition:all .15s ease}@media (min-width:991px){.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]:hover:before{background-size:32%}}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]{background:#00bcd4;background:linear-gradient(135deg,#00bcd4,#2196f3)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/medical-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-1px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.medical[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:26px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]{background:#f7d061;background:linear-gradient(135deg,#f7d061,#ef60a5)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.theft[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/theft-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]{background:#ff9800;background:linear-gradient(135deg,#ff9800,#e91e63)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.fire[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/fire-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]{background:#64a1fd;background:linear-gradient(135deg,#64a1fd,#9100ff)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.shooter[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/shooter-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#06bf58)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.police[_ngcontent-%COMP%]:before{background-image:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/police-e-icon.svg)!important}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body.other[_ngcontent-%COMP%]{background:#61a1e1;background:linear-gradient(135deg,#61a1e1,#37e785)}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{float:left}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-3px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px}.send-panic-wrapper[_ngcontent-%COMP%]   .alert-lists[_ngcontent-%COMP%]   .alerts[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem;color:#fff}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]{margin:35px 0 40px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:25px 20px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:-9px 20px 0 0}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px}.send-panic-wrapper[_ngcontent-%COMP%]   .e-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:2rem}']}),x),L=n("F/us"),E=n("wd/R"),T=n("NhFE"),A=n("bvAq");function R(e,t){1&e&&g.ec(0,"app-loader")}function B(e,t){if(1&e&&(g.ic(0,"tr"),g.ic(1,"td",11),g.ic(2,"div",12),g.ic(3,"div"),g.ec(4,"img",13),g.hc(),g.ic(5,"div",14),g.ic(6,"div"),g.fd(7),g.hc(),g.hc(),g.hc(),g.hc(),g.ic(8,"td",15),g.fd(9),g.hc(),g.ic(10,"td",15),g.ic(11,"span",16),g.fd(12),g.hc(),g.hc(),g.hc()),2&e){var n=t.$implicit,c=g.yc(2);g.Ob(3),g.Sb("s-circle ",c.getEmergencyType(n.alertTypeId)," text-center"),g.Ob(1),g.Ic("src","assets/images/",c.getEmergencyType(n.alertTypeId),"-e-icon.svg",g.Yc),g.Ob(3),g.gd(c.getAlertName(n.alertTypeId)),g.Ob(2),g.gd(c.getDate(n.receivedDate)),g.Ob(2),g.Gc("ngClass",c.getAlertStatus(n.alertStatusId)),g.Ob(1),g.gd(c.getAlertStatus(n.alertStatusId))}}function D(e,t){if(1&e){var n=g.jc();g.gc(0),g.ic(1,"div",2),g.ic(2,"div",3),g.ic(3,"div",4),g.ic(4,"h5"),g.fd(5,"My History"),g.hc(),g.hc(),g.hc(),g.ic(6,"div",5),g.ic(7,"table",6),g.ic(8,"thead"),g.ic(9,"tr"),g.ic(10,"th",7),g.uc("click",(function(){return g.Wc(n),g.yc().sortUnitData("alertName")})),g.fd(11,"Type "),g.ec(12,"span",8),g.hc(),g.ic(13,"th",7),g.uc("click",(function(){return g.Wc(n),g.yc().sortUnitData("date")})),g.fd(14,"Date "),g.ec(15,"span",8),g.hc(),g.ic(16,"th",7),g.uc("click",(function(){return g.Wc(n),g.yc().sortUnitData("status")})),g.fd(17,"Status "),g.ec(18,"span",8),g.hc(),g.hc(),g.hc(),g.ic(19,"tbody"),g.dd(20,B,13,8,"tr",9),g.zc(21,"slice"),g.zc(22,"orderBy"),g.hc(),g.hc(),g.ic(23,"app-pagination",10),g.uc("outputParams",(function(e){return g.Wc(n),g.yc().getIndexParams(e)})),g.hc(),g.hc(),g.hc(),g.fc()}if(2&e){var c=g.yc();g.Ob(12),g.Gc("ngClass",c.getFieldOrderBy("alertName")),g.Ob(3),g.Gc("ngClass",c.getFieldOrderBy("date")),g.Ob(3),g.Gc("ngClass",c.getFieldOrderBy("status")),g.Ob(2),g.Gc("ngForOf",g.Cc(21,8,g.Cc(22,12,c.alertList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex)),g.Ob(3),g.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function V(e,t){1&e&&g.ec(0,"app-loader")}function G(e,t){if(1&e&&(g.gc(0),g.ic(1,"li",7),g.ic(2,"div",8),g.ec(3,"img",9),g.ic(4,"div",10),g.ic(5,"h6",11),g.fd(6),g.hc(),g.ic(7,"p"),g.fd(8),g.hc(),g.hc(),g.hc(),g.hc(),g.fc()),2&e){var n=t.$implicit;g.Ob(6),g.gd(n.contactCategory),g.Ob(2),g.gd(n.contactNumber)}}function U(e,t){if(1&e&&(g.gc(0),g.ic(1,"div",2),g.ic(2,"div",3),g.ic(3,"div",4),g.ic(4,"h5"),g.fd(5,"Emergency Contact Numbers"),g.hc(),g.hc(),g.hc(),g.ic(6,"div",5),g.dd(7,G,9,2,"ng-container",6),g.hc(),g.hc(),g.fc()),2&e){var n=g.yc();g.Ob(7),g.Gc("ngForOf",n.emergencyList)}}var N,F,q,j,Y=[{path:"",redirectTo:"send-panic-alert",pathMatch:"full"},{path:"send-panic-alert",component:S},{path:"my-history",component:(F=function(){function e(t,n,c,i,o){_classCallCheck(this,e),this.apartmentService=t,this.alertService=n,this.lookupService=c,this.sharedService=i,this.cookieService=o,this.isAlertsLoaded=!1,this.ItemStartIndex=0,this.itemLimit=10,this.unitFieldType="unitno",this.unitOrder=!1,this.isMobile=!1}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"getEmergencyType",value:function(e){return 130==e?"medical":131==e?"theft":132==e?"fire":133==e?"shooter":134==e?"police":"other"}},{key:"getAlertName",value:function(e){var t=L.filter(this.emergencyTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}},{key:"getAlertStatus",value:function(e){var t=L.filter(this.alertTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":t[0].lookupValueName.toLowerCase()}},{key:"getDate",value:function(e){return E(e).format("MM/DD/YYYY, h:mm A")}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"ngOnInit",value:function(){var e=this;this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe((function(t){e.apartmentBlockUnitId=t[0].apartmentBlockUnitId,e.alertService.getAllApartmentBlockUnitAlertByApartmentBlockUnitId(e.apartmentBlockUnitId).subscribe((function(t){e.alertList=t.filter((function(e){return e.isActive})),e.totalItems=e.alertList.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isAlertsLoaded=!0,console.log(e.alertList)}),(function(e){console.log(e)}))}),(function(e){console.log(e)})),this.lookupService.getLookupValueByLookupTypeId(29).subscribe((function(t){e.emergencyTypeList=t})),this.lookupService.getLookupValueByLookupTypeId(30).subscribe((function(t){e.alertTypeList=t}))}}]),e}(),F.\u0275fac=function(e){return new(e||F)(g.dc(a.a),g.dc(r.a),g.dc(d.a),g.dc(s.a),g.dc(p.a))},F.\u0275cmp=g.Xb({type:F,selectors:[["app-security-my-history"]],decls:3,vars:2,consts:[[1,"secuirty-my-history-wrapper"],[4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"media"],["width","14",3,"src"],[1,"media-body"],[1,"grey"],[1,"badge","small","text-uppercase","min",3,"ngClass"]],template:function(e,t){1&e&&(g.ic(0,"div",0),g.dd(1,R,1,0,"app-loader",1),g.dd(2,D,24,16,"ng-container",1),g.hc()),2&e&&(g.Ob(1),g.Gc("ngIf",!t.isAlertsLoaded),g.Ob(1),g.Gc("ngIf",t.isAlertsLoaded))},directives:[c.l,h.a,c.j,c.k,T.a],pipes:[c.t,A.a],styles:[""]}),F)},{path:"emergency-contacts",component:(N=function(){function e(t,n,c,i){_classCallCheck(this,e),this.alertService=t,this.sharedService=n,this.lookupService=c,this.cookieService=i,this.isContactsLoaded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.alertService.getAllAlertEmergencyNumbers().subscribe((function(t){e.isContactsLoaded=!0,e.emergencyList=t}),(function(e){console.log(e)}))}}]),e}(),N.\u0275fac=function(e){return new(e||N)(g.dc(r.a),g.dc(s.a),g.dc(d.a),g.dc(p.a))},N.\u0275cmp=g.Xb({type:N,selectors:[["app-security-emergency-contact-numbers"]],decls:3,vars:2,consts:[[1,"emergency-contacts-wrapper"],[4,"ngIf"],[1,"card"],[1,"card-header","no-border"],[1,"float-left"],[1,"card-body","p-0","lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"media"],["src","assets/images/user-icon.svg","width","22",1,"mr-4"],[1,"media-body"],[1,"mb-2"]],template:function(e,t){1&e&&(g.ic(0,"div",0),g.dd(1,V,1,0,"app-loader",1),g.dd(2,U,8,1,"ng-container",1),g.hc()),2&e&&(g.Ob(1),g.Gc("ngIf",!t.isContactsLoaded),g.Ob(1),g.Gc("ngIf",t.isContactsLoaded))},directives:[c.l,h.a,c.k],styles:[""]}),N)},{path:"**",redirectTo:"send-panic-alert",pathMatch:"full"}],z=((q=function e(){_classCallCheck(this,e)}).\u0275mod=g.bc({type:q}),q.\u0275inj=g.ac({factory:function(e){return new(e||q)},imports:[[i.f.forChild(Y)],i.f]}),q),W=n("PCNd"),$=((j=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||j)},j.\u0275cmp=g.Xb({type:j,selectors:[["app-alert-security"]],decls:1,vars:0,template:function(e,t){1&e&&g.ec(0,"router-outlet")},directives:[i.g],styles:[""]}),j);n.d(t,"AlertSecurityModule",(function(){return J}));var X,J=((X=function e(){_classCallCheck(this,e)}).\u0275mod=g.bc({type:X,bootstrap:[$]}),X.\u0275inj=g.ac({factory:function(e){return new(e||X)},imports:[[c.b,W.a,z]]}),X)}}]);