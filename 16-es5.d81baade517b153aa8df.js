function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{Nw7d:function(e,t,i){"use strict";i.d(t,"a",(function(){return j}));var n=i("NutR"),o=i("GUTR"),r=i("ThaB"),s=i("wbvY"),l=i("wd/R"),a=i("fXoL"),c=i("tyNb"),d=i("b6Qw"),u=i("ofXK"),p=i("668k"),h=i("3Pt+"),g=i("8mtn"),b=i("BR9Y"),f=i("BniF");function m(e,t){1&e&&a.Sb(0,"app-loader")}function v(e,t){1&e&&(a.Wb(0,"span"),a.Tc(1,"Create Booking"),a.Vb())}function y(e,t){1&e&&(a.Wb(0,"span"),a.Tc(1,"Edit Booking"),a.Vb())}function k(e,t){if(1&e&&(a.Wb(0,"option",35),a.Tc(1),a.Vb()),2&e){var i=t.$implicit;a.uc("value",i.apartmentFacilityId),a.Cb(1),a.Uc(i.facilityName)}}function S(e,t){if(1&e&&(a.Wb(0,"option",35),a.Tc(1),a.Vb()),2&e){var i=t.$implicit,n=a.mc(3);a.uc("value",i.apartmentFacilitySlotId),a.Cb(1),a.Wc(" ",n.getSlotTime(i.slotBeginTime)," - ",n.getSlotTime(i.slotEndTime),"")}}function C(e,t){if(1&e){var i=a.Xb();a.Wb(0,"div",18),a.Wb(1,"div",19),a.Wb(2,"label"),a.Tc(3,"Select Slot*"),a.Vb(),a.Wb(4,"select",36),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc(2).booking.slotId=e}))("ngModelChange",(function(){a.Kc(i);var e=a.mc(2);return e.getSlot(e.booking.slotId)})),a.Wb(5,"option",21),a.Tc(6,"Select"),a.Vb(),a.Rc(7,S,2,3,"option",22),a.Vb(),a.Vb(),a.Vb()}if(2&e){var n=a.mc(2);a.Cb(4),a.uc("ngModel",n.booking.slotId),a.Cb(3),a.uc("ngForOf",n.facilitySlotData)}}function w(e,t){if(1&e){var i=a.Xb();a.Wb(0,"div",18),a.Wb(1,"div",24),a.Wb(2,"label"),a.Tc(3,"Cost (in rs)*"),a.Vb(),a.Wb(4,"input",37),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc(2).booking.amount=e})),a.Vb(),a.Vb(),a.Vb()}if(2&e){var n=a.mc(2);a.Cb(4),a.uc("ngModel",n.booking.amount)}}function I(e,t){if(1&e&&(a.Wb(0,"option",35),a.Tc(1),a.Vb()),2&e){var i=t.$implicit;a.uc("value",i.userId),a.Cb(1),a.Uc(i.firstName)}}function O(e,t){if(1&e&&(a.Wb(0,"option",35),a.Tc(1),a.Vb()),2&e){var i=t.$implicit;a.uc("value",i.lookupValueId),a.Cb(1),a.Uc(i.lookupValueName)}}function R(e,t){if(1&e){var i=a.Xb();a.Wb(0,"div",18),a.Wb(1,"div",29),a.Wb(2,"label"),a.Tc(3,"Status*"),a.Vb(),a.Wb(4,"select",38),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc(2).booking.facilityBookingStatusId=e})),a.Wb(5,"option",21),a.Tc(6,"Select"),a.Vb(),a.Rc(7,O,2,2,"option",22),a.Vb(),a.Vb(),a.Vb()}if(2&e){var n=a.mc(2);a.Cb(4),a.uc("ngModel",n.booking.facilityBookingStatusId),a.Cb(3),a.uc("ngForOf",n.statusTypeData)}}var E=function(){return{exact:!0}};function P(e,t){if(1&e){var i=a.Xb();a.Ub(0),a.Wb(1,"form",2,3),a.ic("ngSubmit",(function(){a.Kc(i);var e=a.Hc(2);return a.mc().submitFacilityBookingForm(e)})),a.Wb(3,"div",4),a.Wb(4,"h4",5),a.Rc(5,v,2,0,"span",1),a.Rc(6,y,2,0,"span",1),a.Vb(),a.Vb(),a.Wb(7,"div",6),a.Wb(8,"div",7),a.Wb(9,"a",8),a.Wb(10,"div",9),a.Sb(11,"i-feather",10),a.Vb(),a.Wb(12,"span",11),a.Tc(13,"View Calendar"),a.Vb(),a.Vb(),a.Vb(),a.Wb(14,"div",7),a.Wb(15,"a",12),a.Wb(16,"div",13),a.Sb(17,"i-feather",14),a.Vb(),a.Wb(18,"span",11),a.Tc(19,"All Bookings"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(20,"div",15),a.Wb(21,"div",16),a.Wb(22,"div",17),a.Wb(23,"div",18),a.Wb(24,"div",19),a.Wb(25,"label"),a.Tc(26,"Facility Name*"),a.Vb(),a.Wb(27,"select",20),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc().booking.apartmentFacilityId=e}))("ngModelChange",(function(){a.Kc(i);var e=a.mc();return e.getFacility(e.booking.apartmentFacilityId)})),a.Wb(28,"option",21),a.Tc(29,"Select"),a.Vb(),a.Rc(30,k,2,2,"option",22),a.Vb(),a.Vb(),a.Vb(),a.Rc(31,C,8,2,"div",23),a.Rc(32,w,5,1,"div",23),a.Wb(33,"div",18),a.Wb(34,"div",24),a.Wb(35,"label"),a.Tc(36,"Select Date*"),a.Vb(),a.Wb(37,"input",25),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc().booking.bookedForDate=e})),a.Vb(),a.Sb(38,"owl-date-time",26,27),a.Wb(40,"div",28),a.Sb(41,"i-feather",10),a.Vb(),a.Vb(),a.Vb(),a.Wb(42,"div",18),a.Wb(43,"div",29),a.Wb(44,"label"),a.Tc(45,"Requested By*"),a.Vb(),a.Wb(46,"select",30),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc().booking.neededUserId=e})),a.Wb(47,"option",21),a.Tc(48,"Select"),a.Vb(),a.Rc(49,I,2,2,"option",22),a.Vb(),a.Vb(),a.Vb(),a.Rc(50,R,8,2,"div",23),a.Wb(51,"div",31),a.Wb(52,"div",24),a.Wb(53,"label"),a.Tc(54,"Comment"),a.Vb(),a.Wb(55,"textarea",32),a.ic("ngModelChange",(function(e){return a.Kc(i),a.mc().booking.comment=e})),a.Vb(),a.Vb(),a.Vb(),a.Wb(56,"div",33),a.Wb(57,"button",34),a.Tc(58,"Submit"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Tb()}if(2&e){var n=a.Hc(2),o=a.Hc(39),r=a.mc();a.Cb(5),a.uc("ngIf",!r.isEditBooking),a.Cb(1),a.uc("ngIf",r.isEditBooking),a.Cb(3),a.uc("routerLinkActiveOptions",a.Ac(18,E)),a.Cb(6),a.uc("routerLinkActiveOptions",a.Ac(19,E)),a.Cb(12),a.uc("ngModel",r.booking.apartmentFacilityId),a.Cb(3),a.uc("ngForOf",r.facilityCategoryData),a.Cb(1),a.uc("ngIf",r.isFacilitySelected),a.Cb(1),a.uc("ngIf",r.isSlotSelected||r.isEditBooking),a.Cb(5),a.uc("owlDateTime",o)("owlDateTimeTrigger",o)("ngModel",r.booking.bookedForDate),a.Cb(1),a.uc("pickerType","calendar"),a.Cb(2),a.uc("owlDateTimeTrigger",o),a.Cb(6),a.uc("ngModel",r.booking.neededUserId),a.Cb(3),a.uc("ngForOf",r.userIdData),a.Cb(1),a.uc("ngIf",r.isAdmin()),a.Cb(5),a.uc("ngModel",r.booking.comment),a.Cb(2),a.uc("disabled",n.invalid)}}var j=function(){var e=function(){function e(t,i,n,o,r,s,l){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=n,this.facilityService=o,this.lookupService=r,this.sharedService=s,this.cookieService=l,this.isEditBooking=!1,this.isBookingSubmitted=!0,this.isError=!1,this.alertMessage="",this.isSlotSelected=!1,this.isBookingCancelled=!1,this.isFacilitySelected=!1}return _createClass(e,[{key:"getSlotTime",value:function(e){var t=l(e,"HH:mm:ss").toDate();return l(t).format("HH:mm A")}},{key:"isAdmin",value:function(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}},{key:"getBookingStatus",value:function(){190==this.booking.facilityBookingStatusId?(this.isBookingCancelled=!0,this.cancelledUserId=parseInt(this.cookieService.get("userId"))):(this.isBookingCancelled=!1,this.cancelledUserId=1)}},{key:"getFacility",value:function(e){var t=this,i={apartmentId:parseInt(this.cookieService.get("apartmentId")),apartmentFacilityId:parseInt(this.booking.apartmentFacilityId)};this.facilityService.getApartmentFacilitySlotsByFacilityId(i).subscribe((function(e){t.isFacilitySelected=!0,t.facilitySlotData=e.filter((function(e){return e.isActive})),console.log(t.facilitySlotData)}),(function(e){}))}},{key:"emitSlotTime",value:function(){}},{key:"getSlot",value:function(e){var t=this;console.log(e),this.isSlotSelected=!0,this.facilityService.getApartmentFacilitySlotsById(parseInt(e)).subscribe((function(e){t.booking.amount=e[0].cost}),(function(e){}))}},{key:"submitFacilityBookingForm",value:function(e){var t=this;if(this.isBookingSubmitted=!1,this.isEditBooking){var i={apartmentFacilityBookingId:this.booking.apartmentFacilityBookingId,apartmentId:parseInt(this.cookieService.get("apartmentId")),apartmentFacilityId:parseInt(this.booking.apartmentFacilityId),bookedOn:l().format(),bookedForDate:this.booking.bookedForDate,slotId:parseInt(this.booking.slotId),facilityBookingStatusId:parseInt(this.booking.facilityBookingStatusId),isCancelled:this.isBookingCancelled,cancelledBy:this.cancelledUserId,cancelledOn:"",cancelledAmount:0,neededUserId:parseInt(this.booking.neededUserId),amount:this.booking.amount,comment:this.booking.comment,isActive:!0,insertedBy:0,insertedOn:l().format(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:null};this.facilityService.updateApartmentFacilityBooking(i).subscribe((function(e){e.message?(t.isBookingSubmitted=!0,t.sharedService.setAlertMessage("Booking updated successfully"),t.isAdmin()?t.router.navigate(["ams/facility/booking-actions"]):t.router.navigate(["user/facility-booking/all-bookings"])):(t.isBookingSubmitted=!0,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isBookingSubmitted=!0,t.isError=!0,t.alertMessage="Some error occured"}))}else{var n={apartmentId:parseInt(this.cookieService.get("apartmentId")),apartmentFacilityId:parseInt(this.booking.apartmentFacilityId),bookedOn:l().format(),bookedForDate:this.booking.bookedForDate,slotId:parseInt(this.booking.slotId),facilityBookingStatusId:parseInt(this.booking.facilityBookingStatusId),isCancelled:this.isBookingCancelled,cancelledBy:this.cancelledUserId,cancelledOn:"",cancelledAmount:0,neededUserId:parseInt(this.booking.neededUserId),amount:this.booking.amount,comment:this.booking.comment,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:l().format(),updatedBy:null,updatedOn:null};this.facilityService.addApartmentFacilityBooking(n).subscribe((function(e){e.message?(t.isBookingSubmitted=!0,t.sharedService.setAlertMessage("Booking done successfully"),t.isAdmin()?t.router.navigate(["ams/facility/booking-actions"]):t.router.navigate(["user/facility-booking/all-bookings"])):(t.isBookingSubmitted=!0,t.isError=!0,t.alertMessage=e.errorMessage)}),(function(e){t.isBookingSubmitted=!0,t.isError=!0,t.alertMessage="Some error occured"}))}}},{key:"ngOnInit",value:function(){var e=this;this.booking={},this.booking.slotId="",this.booking.apartmentFacilityId="",this.booking.facilityBookingStatusId="",this.booking.neededUserId="",this.booking.comment="",null!=this.route.params.value.id&&(this.isEditBooking=!0,this.bookingId=this.route.params.value.id,this.facilityService.getApartmentFacilityBookingsByFacilityBookingId(this.bookingId).subscribe((function(t){e.booking=t[0],e.getFacility(e.booking.apartmentFacilityId),console.log(t)}),(function(e){}))),this.facilityService.getApartmentFacilitiesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.facilityCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(40).subscribe((function(t){e.statusTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.userService.getAllUsersByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.userIdData=t,console.log(e.userIdData),"Tenant"!=e.cookieService.get("userRole")&&"Owner"!=e.cookieService.get("userRole")||(e.userIdData=t.filter((function(t){return t.userId==parseInt(e.cookieService.get("userId"))})),e.booking.neededUserId=e.userIdData[0].userId,e.booking.facilityBookingStatusId=189)}),(function(e){}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Rb(c.c),a.Rb(c.a),a.Rb(n.a),a.Rb(o.a),a.Rb(r.a),a.Rb(s.a),a.Rb(d.a))},e.\u0275cmp=a.Lb({type:e,selectors:[["app-facility-create-booking"]],decls:3,vars:2,consts:[[1,"create-booking-wrapper"],[4,"ngIf"],["name","facilityBookingForm","novalidate","",3,"ngSubmit"],["facilityBookingForm","ngForm"],[1,"float-left"],[1,"main-title-mini"],[1,"float-right","mb-3"],[1,"booking-icon","float-right"],["href","javascript:void(0)","routerLink","/user/facility-booking/calendar","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper","calendar"],["name","calendar","width","18",1,"icon","date","float-left"],[1,"d-none","d-sm-inline-block"],["href","javascript:void(0)","routerLink","/user/facility-booking/all-bookings","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper","list"],["name","bookmark","width","18",1,"icon","date","float-left"],[1,"card","clear"],[1,"card-body"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","facilityName","id","facilityName","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["class","col-sm-4",4,"ngIf"],[1,"input-box"],["name","bookingDate","placeholder","Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["bookingDate",""],[1,"date-btn",3,"owlDateTimeTrigger"],[1,"input-box","select-box"],["name","userId","id","userId","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","Enter value","name","comment",3,"ngModel","ngModelChange"],[1,"col-sm-12","text-right"],[1,"btn","blue",3,"disabled"],[3,"value"],["name","slotId","id","slotId","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","amount","readonly","","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","statusId","id","statusId","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.Wb(0,"div",0),a.Rc(1,m,1,0,"app-loader",1),a.Rc(2,P,59,20,"ng-container",1),a.Vb()),2&e&&(a.Cb(1),a.uc("ngIf",!t.isBookingSubmitted),a.Cb(1),a.uc("ngIf",t.isBookingSubmitted))},directives:[u.l,p.a,h.B,h.o,h.p,c.e,c.d,g.b,h.y,h.x,h.n,h.q,h.r,h.A,u.k,b.a,f.c,h.d,f.e,f.b,h.s,b.b],styles:[".create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]{cursor:pointer;margin-left:18px}@media (max-width:480px){.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]{margin-left:6px}}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{float:left;margin-right:8px}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   .icon-wrapper.list[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;justify-content:center;align-items:center;background-color:#ef60a5;color:#fff;border-radius:28px!important}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   .icon-wrapper.calendar[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;justify-content:center;align-items:center;background-color:#64a1fd;color:#fff;border-radius:28px!important}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;position:relative;top:-1px;color:#fff}@media (max-width:480px){.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:4px}}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.create-booking-wrapper[_ngcontent-%COMP%]   .booking-icon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:700;letter-spacing:.3px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;font-size:1.4rem;color:#8391a1;position:relative;top:3px}"]}),e}()},iOEq:function(e,t,i){"use strict";var n=i("SZB9"),o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function r(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var s=function(){return(s=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.buildRenderRange=function(t,i,o){var r,s=this.dateEnv,l=e.prototype.buildRenderRange.call(this,t,i,o),a=l.start,c=l.end;if(/^(year|month)$/.test(i)&&(a=s.startOfWeek(a),(r=s.startOfWeek(c)).valueOf()!==c.valueOf()&&(c=Object(n.n)(r,1))),this.options.monthMode&&this.options.fixedWeekCount){var d=Math.ceil(Object(n.B)(a,c));c=Object(n.n)(c,6-d)}return{start:a,end:c}},t}(n.c),a=function(){function e(e){var t=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(e){t.el&&!t.el.contains(e.target)&&t.hide()},this.options=e}return e.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},e.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},e.prototype.render=function(){var e=this,t=this.options,i=this.el=Object(n.x)("div",{className:"fc-popover "+(t.className||""),style:{top:"0",left:"0"}});"function"==typeof t.content&&t.content(i),t.parentEl.appendChild(i),Object(n.K)(i,"click",".fc-close",(function(t){e.hide()})),t.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},e.prototype.destroy=function(){this.hide(),this.el&&(Object(n.Q)(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},e.prototype.position=function(){var e,t,i=this.options,o=this.el,r=o.getBoundingClientRect(),s=Object(n.w)(o.offsetParent),l=Object(n.s)(i.parentEl);e=i.top||0,t=void 0!==i.left?i.left:void 0!==i.right?i.right-r.width:0,e=Math.min(e,l.bottom-r.height-this.margin),e=Math.max(e,l.top+this.margin),t=Math.min(t,l.right-r.width-this.margin),t=Math.max(t,l.left+this.margin),Object(n.p)(o,{top:e-s.top,left:t-s.left})},e.prototype.trigger=function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.renderSegHtml=function(e,t){var i,o,r=this.context,s=e.eventRange,l=s.def,a=s.ui,c=l.allDay,d=Object(n.t)(r,l,a),u=c&&e.isStart&&Object(n.v)(r,l,a),p=c&&e.isEnd&&Object(n.u)(r,l,a),h=this.getSegClasses(e,d,u||p,t),g=Object(n.A)(this.getSkinCss(a)),b="";return h.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(i=this.getTimeText(s))&&(b='<span class="fc-time">'+Object(n.G)(i)+"</span>"),o='<span class="fc-title">'+(Object(n.G)(l.title||"")||"&nbsp;")+"</span>",'<a class="'+h.join(" ")+'"'+(l.url?' href="'+Object(n.G)(l.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+("rtl"===r.options.dir?o+" "+b:b+" "+o)+"</div>"+(u?'<div class="fc-resizer fc-start-resizer"></div>':"")+(p?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},t.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},t.prototype.computeDisplayEventEnd=function(){return!1},t}(n.g),d=function(e){function t(t){var i=e.call(this)||this;return i.dayGrid=t,i}return r(t,e),t.prototype.attachSegs=function(e,t){var i=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach((function(e,t){e.querySelector(".fc-content-skeleton > table").appendChild(i[t].tbodyEl)})),t||this.dayGrid.removeSegPopover()},t.prototype.detachSegs=function(){for(var e,t=this.rowStructs||[];e=t.pop();)Object(n.Q)(e.tbodyEl);this.rowStructs=null},t.prototype.renderSegRows=function(e){var t,i,n=[];for(t=this.groupSegRows(e),i=0;i<t.length;i++)n.push(this.renderSegRow(i,t[i]));return n},t.prototype.renderSegRow=function(e,t){var i,o,r,s,l,a,c,d=this.context.isRtl,u=this.dayGrid,p=u.colCnt,h=this.buildSegLevels(t),g=Math.max(1,h.length),b=document.createElement("tbody"),f=[],m=[],v=[];function y(e){for(;r<e;)(c=(v[i-1]||[])[r])?c.rowSpan=(c.rowSpan||1)+1:(c=document.createElement("td"),s.appendChild(c)),m[i][r]=c,v[i][r]=c,r++}for(i=0;i<g;i++){if(o=h[i],r=0,s=document.createElement("tr"),f.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){a=o[l];var k=d?p-1-a.lastCol:a.firstCol,S=d?p-1-a.firstCol:a.lastCol;for(y(k),c=Object(n.x)("td",{className:"fc-event-container"},a.el),k!==S?c.colSpan=S-k+1:v[i][r]=c;r<=S;)m[i][r]=c,f[i][r]=a,r++;s.appendChild(c)}y(p);var C=u.renderProps.renderIntroHtml();C&&(d?Object(n.o)(s,C):Object(n.O)(s,C)),b.appendChild(s)}return{row:e,tbodyEl:b,cellMatrix:m,segMatrix:f,segLevels:h,segs:t}},t.prototype.buildSegLevels=function(e){var t,i,n,o=this.context.isRtl,r=this.dayGrid.colCnt,s=[];for(e=this.sortEventSegs(e),t=0;t<e.length;t++){for(i=e[t],n=0;n<s.length&&u(i,s[n]);n++);i.level=n,i.leftCol=o?r-1-i.lastCol:i.firstCol,i.rightCol=o?r-1-i.firstCol:i.lastCol,(s[n]||(s[n]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(p);return s},t.prototype.groupSegRows=function(e){var t,i=[];for(t=0;t<this.dayGrid.rowCnt;t++)i.push([]);for(t=0;t<e.length;t++)i[e[t].row].push(e[t]);return i},t.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},t}(c);function u(e,t){var i,n;for(i=0;i<t.length;i++)if((n=t[i]).firstCol<=e.lastCol&&n.lastCol>=e.firstCol)return!0;return!1}function p(e,t){return e.leftCol-t.leftCol}var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.attachSegs=function(e,t){var i=t.sourceSeg,o=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach((function(e,t){var r,s,l=Object(n.H)('<div class="fc-mirror-skeleton"><table></table></div>');i&&i.row===t?r=i.el:(r=e.querySelector(".fc-content-skeleton tbody"))||(r=e.querySelector(".fc-content-skeleton table")),s=r.getBoundingClientRect().top-e.getBoundingClientRect().top,l.style.top=s+"px",l.querySelector("table").appendChild(o[t].tbodyEl),e.appendChild(l)}))},t}(d),g=function(e){function t(t){var i=e.call(this)||this;return i.fillSegTag="td",i.dayGrid=t,i}return r(t,e),t.prototype.renderSegs=function(t,i,n){"bgEvent"===t&&(n=n.filter((function(e){return e.eventRange.def.allDay}))),e.prototype.renderSegs.call(this,t,i,n)},t.prototype.attachSegs=function(e,t){var i,n,o,r=[];for(i=0;i<t.length;i++)o=this.renderFillRow(e,n=t[i]),this.dayGrid.rowEls[n.row].appendChild(o),r.push(o);return r},t.prototype.renderFillRow=function(e,t){var i,o,r,s=this.dayGrid,l=this.context.isRtl,a=s.colCnt,c=l?a-1-t.lastCol:t.firstCol,d=(l?a-1-t.firstCol:t.lastCol)+1;i="businessHours"===e?"bgevent":e.toLowerCase(),r=(o=Object(n.H)('<div class="fc-'+i+'-skeleton"><table><tr></tr></table></div>')).getElementsByTagName("tr")[0],c>0&&Object(n.o)(r,new Array(c+1).join('<td style="pointer-events:none"></td>')),t.el.colSpan=d-c,r.appendChild(t.el),d<a&&Object(n.o)(r,new Array(a-d+1).join('<td style="pointer-events:none"></td>'));var u=s.renderProps.renderIntroHtml();return u&&(l?Object(n.o)(r,u):Object(n.O)(r,u)),o},t}(n.h),b=function(e){function t(t){var i=e.call(this,t)||this,o=i.eventRenderer=new f(i),r=i.renderFrame=Object(n.N)(i._renderFrame);return i.renderFgEvents=Object(n.N)(o.renderSegs.bind(o),o.unrender.bind(o),[r]),i.renderEventSelection=Object(n.N)(o.selectByInstanceId.bind(o),o.unselectByInstanceId.bind(o),[i.renderFgEvents]),i.renderEventDrag=Object(n.N)(o.hideByHash.bind(o),o.showByHash.bind(o),[r]),i.renderEventResize=Object(n.N)(o.hideByHash.bind(o),o.showByHash.bind(o),[r]),i}return r(t,e),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el,useEventCenter:!1})},t.prototype.render=function(e,t){this.renderFrame(e.date),this.renderFgEvents(t,e.fgSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDragInstances),this.renderEventResize(e.eventResizeInstances)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderFrame.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype._renderFrame=function(e){var t=this.context,i=t.theme,o=t.options,r=t.dateEnv.format(e,Object(n.y)(o.dayPopoverFormat));this.el.innerHTML='<div class="fc-header '+i.getClass("popoverHeader")+'"><span class="fc-title">'+Object(n.G)(r)+'</span><span class="fc-close '+i.getIconClass("close")+'"></span></div><div class="fc-body '+i.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},t.prototype.queryHit=function(e,t,i,o){var r=this.props.date;if(e<i&&t<o)return{component:this,dateSpan:{allDay:!0,range:{start:r,end:Object(n.m)(r,1)}},dayEl:this.el,rect:{left:0,top:0,right:i,bottom:o},layer:1}},t}(n.b),f=function(e){function t(t){var i=e.call(this)||this;return i.dayTile=t,i}return r(t,e),t.prototype.attachSegs=function(e){for(var t=0,i=e;t<i.length;t++)this.dayTile.segContainerEl.appendChild(i[t].el)},t.prototype.detachSegs=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];Object(n.Q)(o.el)}},t}(c),m=function(){function e(e){this.context=e}return e.prototype.renderHtml=function(e){var t,i,o,r,s,l,a,c,d=[];e.renderIntroHtml&&d.push(e.renderIntroHtml());for(var u=0,p=e.cells;u<p.length;u++){var h=p[u];d.push((t=h.date,i=e.dateProfile,r=h.htmlAttrs,s=void 0,l=void 0,c=void 0,s=(o=this.context).dateEnv,l=o.theme,a=Object(n.P)(i.activeRange,t),(c=Object(n.F)(t,i,o)).unshift("fc-day",l.getClass("widgetContent")),'<td class="'+c.join(" ")+'"'+(a?' data-date="'+s.formatIso(t,{omitTime:!0})+'"':"")+(r?" "+r:"")+"></td>"))}return e.cells.length||d.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&d.reverse(),"<tr>"+d.join("")+"</tr>"},e}(),v=Object(n.y)({day:"numeric"}),y=Object(n.y)({week:"numeric"}),k=function(e){function t(t,i){var o=e.call(this,t)||this;o.bottomCoordPadding=0,o.isCellSizesDirty=!1,o.renderProps=i;var r=o.eventRenderer=new d(o),s=o.fillRenderer=new g(o);o.mirrorRenderer=new h(o);var l=o.renderCells=Object(n.N)(o._renderCells,o._unrenderCells);return o.renderBusinessHours=Object(n.N)(s.renderSegs.bind(s,"businessHours"),s.unrender.bind(s,"businessHours"),[l]),o.renderDateSelection=Object(n.N)(s.renderSegs.bind(s,"highlight"),s.unrender.bind(s,"highlight"),[l]),o.renderBgEvents=Object(n.N)(s.renderSegs.bind(s,"bgEvent"),s.unrender.bind(s,"bgEvent"),[l]),o.renderFgEvents=Object(n.N)(r.renderSegs.bind(r),r.unrender.bind(r),[l]),o.renderEventSelection=Object(n.N)(r.selectByInstanceId.bind(r),r.unselectByInstanceId.bind(r),[o.renderFgEvents]),o.renderEventDrag=Object(n.N)(o._renderEventDrag,o._unrenderEventDrag,[l]),o.renderEventResize=Object(n.N)(o._renderEventResize,o._unrenderEventResize,[l]),o}return r(t,e),t.prototype.render=function(e,t){var i=e.cells;this.rowCnt=i.length,this.colCnt=i[0].length,this.renderCells(i,e.isRigid),this.renderBusinessHours(t,e.businessHourSegs),this.renderDateSelection(t,e.dateSelectionSegs),this.renderBgEvents(t,e.bgEventSegs),this.renderFgEvents(t,e.fgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderCells.unrender()},t.prototype.getCellRange=function(e,t){var i=this.props.cells[e][t].date;return{start:i,end:Object(n.m)(i,1)}},t.prototype.updateSegPopoverTile=function(e,t){var i=this.props;this.segPopoverTile.receiveProps({date:e||this.segPopoverTile.props.date,fgSegs:t||this.segPopoverTile.props.fgSegs,eventSelection:i.eventSelection,eventDragInstances:i.eventDrag?i.eventDrag.affectedInstances:null,eventResizeInstances:i.eventResize?i.eventResize.affectedInstances:null},this.context)},t.prototype._renderCells=function(e,t){var i,o,r=this.context,s=r.calendar,l=r.view,a=r.isRtl,c=r.dateEnv,d=this.rowCnt,u=this.colCnt,p="";for(i=0;i<d;i++)p+=this.renderDayRowHtml(i,t);for(this.el.innerHTML=p,this.rowEls=Object(n.E)(this.el,".fc-row"),this.cellEls=Object(n.E)(this.el,".fc-day, .fc-disabled-day"),a&&this.cellEls.reverse(),this.rowPositions=new n.i(this.el,this.rowEls,!1,!0),this.colPositions=new n.i(this.el,this.cellEls.slice(0,u),!0,!1),i=0;i<d;i++)for(o=0;o<u;o++)s.publiclyTrigger("dayRender",[{date:c.toDate(e[i][o].date),el:this.getCellEl(i,o),view:l}]);this.isCellSizesDirty=!0},t.prototype._unrenderCells=function(){this.removeSegPopover()},t.prototype.renderDayRowHtml=function(e,t){var i=this.context.theme,n=["fc-row","fc-week",i.getClass("dayRow")];t&&n.push("fc-rigid");var o=new m(this.context);return'<div class="'+n.join(" ")+'"><div class="fc-bg"><table class="'+i.getClass("tableGrid")+'">'+o.renderHtml({cells:this.props.cells[e],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},t.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},t.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},t.prototype.renderNumberTrHtml=function(e){var t=this.context.isRtl,i=this.renderProps.renderNumberIntroHtml(e,this);return"<tr>"+(t?"":i)+this.renderNumberCellsHtml(e)+(t?i:"")+"</tr>"},t.prototype.renderNumberCellsHtml=function(e){var t,i=[];for(t=0;t<this.colCnt;t++)i.push(this.renderNumberCellHtml(this.props.cells[e][t].date));return this.context.isRtl&&i.reverse(),i.join("")},t.prototype.renderNumberCellHtml=function(e){var t,i,o=this.context,r=o.dateEnv,s=o.options,l="",a=Object(n.P)(this.props.dateProfile.activeRange,e),c=this.getIsDayNumbersVisible()&&a;return c||this.renderProps.cellWeekNumbersVisible?((t=Object(n.F)(e,this.props.dateProfile,this.context)).unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(i=r.weekDow),l+='<td class="'+t.join(" ")+'"'+(a?' data-date="'+r.formatIso(e,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&e.getUTCDay()===i&&(l+=Object(n.q)(s,r,{date:e,type:"week"},{class:"fc-week-number"},r.format(e,y))),c&&(l+=Object(n.q)(s,r,e,{class:"fc-day-number"},r.format(e,v))),l+="</td>"):"<td></td>"},t.prototype.updateSize=function(e){var t=this.fillRenderer,i=this.eventRenderer,n=this.mirrorRenderer;(e||this.isCellSizesDirty||this.context.calendar.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),t.computeSizes(e),i.computeSizes(e),n.computeSizes(e),t.assignSizes(e),i.assignSizes(e),n.assignSizes(e)},t.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},t.prototype.buildColPositions=function(){this.colPositions.build()},t.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},t.prototype.positionToHit=function(e,t){var i=this.colPositions,n=this.rowPositions,o=i.leftToIndex(e),r=n.topToIndex(t);if(null!=r&&null!=o)return{row:r,col:o,dateSpan:{range:this.getCellRange(r,o),allDay:!0},dayEl:this.getCellEl(r,o),relativeRect:{left:i.lefts[o],right:i.rights[o],top:n.tops[r],bottom:n.bottoms[r]}}},t.prototype.getCellEl=function(e,t){return this.cellEls[e*this.colCnt+t]},t.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs))},t.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context))},t.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},t.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},t.prototype.limitRows=function(e){var t,i,n=this.eventRenderer.rowStructs||[];for(t=0;t<n.length;t++)this.unlimitRow(t),!1!==(i=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(t)))&&this.limitRow(t,i)},t.prototype.computeRowLevelLimit=function(e){var t,i,o=this.rowEls[e].getBoundingClientRect().bottom,r=Object(n.D)(this.eventRenderer.rowStructs[e].tbodyEl);for(t=0;t<r.length;t++)if((i=r[t]).classList.remove("fc-limited"),i.getBoundingClientRect().bottom>o)return t;return!1},t.prototype.limitRow=function(e,t){var i,o,r,s,l,a,c,d,u,p,h,g,b,f,m,v=this,y=this.colCnt,k=this.context.isRtl,S=this.eventRenderer.rowStructs[e],C=[],w=0,I=function(i){for(;w<i;)(a=v.getCellSegs(e,w,t)).length&&(u=o[t-1][w],m=v.renderMoreLink(e,w,a),f=Object(n.x)("div",null,m),u.appendChild(f),C.push(f)),w++};if(t&&t<S.segLevels.length){for(i=S.segLevels[t-1],o=S.cellMatrix,(r=Object(n.D)(S.tbodyEl).slice(t)).forEach((function(e){e.classList.add("fc-limited")})),s=0;s<i.length;s++){l=i[s];var O=k?y-1-l.lastCol:l.firstCol,R=k?y-1-l.firstCol:l.lastCol;for(I(O),d=[],c=0;w<=R;)a=this.getCellSegs(e,w,t),d.push(a),c+=a.length,w++;if(c){for(p=(u=o[t-1][O]).rowSpan||1,h=[],g=0;g<d.length;g++)b=Object(n.x)("td",{className:"fc-more-cell",rowSpan:p}),m=this.renderMoreLink(e,O+g,[l].concat(a=d[g])),f=Object(n.x)("div",null,m),b.appendChild(f),h.push(b),C.push(b);u.classList.add("fc-limited"),Object(n.I)(u,h),r.push(u)}}I(this.colCnt),S.moreEls=C,S.limitedEls=r}},t.prototype.unlimitRow=function(e){var t=this.eventRenderer.rowStructs[e];t.moreEls&&(t.moreEls.forEach(n.Q),t.moreEls=null),t.limitedEls&&(t.limitedEls.forEach((function(e){e.classList.remove("fc-limited")})),t.limitedEls=null)},t.prototype.renderMoreLink=function(e,t,i){var o=this,r=this.context,s=r.calendar,l=r.view,a=r.dateEnv,c=r.options,d=r.isRtl,u=Object(n.x)("a",{className:"fc-more"});return u.innerText=this.getMoreLinkText(i.length),u.addEventListener("click",(function(n){var r=c.eventLimitClick,u=o.props.cells[e][d?o.colCnt-t-1:t].date,p=n.currentTarget,h=o.getCellEl(e,t),g=o.getCellSegs(e,t),b=o.resliceDaySegs(g,u),f=o.resliceDaySegs(i,u);"function"==typeof r&&(r=s.publiclyTrigger("eventLimitClick",[{date:a.toDate(u),allDay:!0,dayEl:h,moreEl:p,segs:b,hiddenSegs:f,jsEvent:n,view:l}])),"popover"===r?o.showSegPopover(e,t,p,b):"string"==typeof r&&s.zoomTo(u,r)})),u},t.prototype.showSegPopover=function(e,t,i,o){var r,s,l=this,c=this.context,d=c.calendar,u=c.view,p=c.isRtl,h=p?this.colCnt-t-1:t,g=i.parentNode;r=1===this.rowCnt?u.el:this.rowEls[e],s={className:"fc-more-popover "+c.theme.getClass("popover"),parentEl:u.el,top:Object(n.w)(r).top,autoHide:!0,content:function(t){l.segPopoverTile=new b(t),l.updateSegPopoverTile(l.props.cells[e][h].date,o)},hide:function(){l.segPopoverTile.destroy(),l.segPopoverTile=null,l.segPopover.destroy(),l.segPopover=null}},p?s.right=Object(n.w)(g).right+1:s.left=Object(n.w)(g).left-1,this.segPopover=new a(s),this.segPopover.show(),d.releaseAfterSizingTriggers()},t.prototype.resliceDaySegs=function(e,t){for(var i=t,o={start:i,end:Object(n.m)(i,1)},r=[],l=0,a=e;l<a.length;l++){var c=a[l],d=c.eventRange,u=d.range,p=Object(n.J)(u,o);p&&r.push(s({},c,{eventRange:{def:d.def,ui:s({},d.ui,{durationEditable:!1}),instance:d.instance,range:p},isStart:c.isStart&&p.start.valueOf()===u.start.valueOf(),isEnd:c.isEnd&&p.end.valueOf()===u.end.valueOf()}))}return r},t.prototype.getMoreLinkText=function(e){var t=this.context.options.eventLimitText;return"function"==typeof t?t(e):"+"+e+" "+t},t.prototype.getCellSegs=function(e,t,i){for(var n,o=this.eventRenderer.rowStructs[e].segMatrix,r=i||0,s=[];r<o.length;)(n=o[r][t])&&s.push(n),r++;return s},t}(n.b),S=Object(n.y)({week:"numeric"}),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processOptions=Object(n.M)(t._processOptions),t.renderSkeleton=Object(n.N)(t._renderSkeleton,t._unrenderSkeleton),t.renderHeadIntroHtml=function(){var e=t.context,i=e.options;return t.colWeekNumbersVisible?'<th class="fc-week-number '+e.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+Object(n.G)(i.weekLabel)+"</span></th>":""},t.renderDayGridNumberIntroHtml=function(e,i){var o=t.context,r=o.options,s=o.dateEnv,l=i.props.cells[e][0].date;return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+">"+Object(n.q)(r,s,{date:l,type:"week",forceOff:1===i.colCnt},s.format(l,S))+"</td>":""},t.renderDayGridBgIntroHtml=function(){return t.colWeekNumbersVisible?'<td class="fc-week-number '+t.context.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},t.renderDayGridIntroHtml=function(){return t.colWeekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""},t}return r(t,e),t.prototype._processOptions=function(e){e.weekNumbers?e.weekNumbersWithinDays?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0):(this.colWeekNumbersVisible=!1,this.cellWeekNumbersVisible=!1)},t.prototype.render=function(t,i){e.prototype.render.call(this,t,i),this.processOptions(i.options),this.renderSkeleton(i)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.renderSkeleton.unrender()},t.prototype._renderSkeleton=function(e){this.el.classList.add("fc-dayGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new n.j("hidden","auto");var t=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(t),t.classList.add("fc-day-grid-container");var i=Object(n.x)("div",{className:"fc-day-grid"});t.appendChild(i),this.dayGrid=new k(i,{renderNumberIntroHtml:this.renderDayGridNumberIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:this.colWeekNumbersVisible,cellWeekNumbersVisible:this.cellWeekNumbersVisible})},t.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-dayGrid-view"),this.dayGrid.destroy(),this.scroller.destroy()},t.prototype.renderSkeletonHtml=function(){var e=this.context,t=e.theme,i=e.options;return'<table class="'+t.getClass("tableGrid")+'">'+(i.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},t.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},t.prototype.hasRigidRows=function(){var e=this.context.options.eventLimit;return e&&"number"!=typeof e},t.prototype.updateSize=function(t,i,n){e.prototype.updateSize.call(this,t,i,n),this.dayGrid.updateSize(t)},t.prototype.updateBaseSize=function(e,t,i){var o,r,s=this.dayGrid,l=this.context.options.eventLimit,a=this.header?this.header.el:null;s.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=Object(n.L)(Object(n.E)(this.el,".fc-week-number"))),this.scroller.clear(),a&&Object(n.S)(a),s.removeSegPopover(),l&&"number"==typeof l&&s.limitRows(l),o=this.computeScrollerHeight(t),this.setGridHeight(o,i),l&&"number"!=typeof l&&s.limitRows(l),i||(this.scroller.setHeight(o),((r=this.scroller.getScrollbarWidths()).left||r.right)&&(a&&Object(n.r)(a,r),o=this.computeScrollerHeight(t),this.scroller.setHeight(o)),this.scroller.lockOverflow(r))):i||(o=this.computeScrollerHeight(t),this.scroller.setHeight(o))},t.prototype.computeScrollerHeight=function(e){return e-Object(n.R)(this.el,this.scroller.el)},t.prototype.setGridHeight=function(e,t){this.context.options.monthMode?(t&&(e*=this.dayGrid.rowCnt/6),Object(n.C)(this.dayGrid.rowEls,e,!t)):t?Object(n.T)(this.dayGrid.rowEls):Object(n.C)(this.dayGrid.rowEls,e,!0)},t.prototype.computeDateScroll=function(e){return{top:0}},t.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},t.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},t}(n.l);C.prototype.dateProfileGeneratorClass=l;var w=function(e){function t(t){var i=e.call(this,t.el)||this;return i.slicer=new I,i.dayGrid=t,i}return r(t,e),t.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},t.prototype.render=function(e,t){var i=this.dayGrid,n=e.dateProfile,o=e.dayTable;i.receiveProps(s({},this.slicer.sliceProps(e,n,e.nextDayThreshold,t.calendar,i,o),{dateProfile:n,cells:o.cells,isRigid:e.isRigid}),t)},t.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},t.prototype.queryHit=function(e,t){var i=this.dayGrid.positionToHit(e,t);if(i)return{component:this.dayGrid,dateSpan:i.dateSpan,dayEl:i.dayEl,rect:{left:i.relativeRect.left,right:i.relativeRect.right,top:i.relativeRect.top,bottom:i.relativeRect.bottom},layer:0}},t}(n.b),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.sliceRange=function(e,t){return t.sliceRange(e)},t}(n.k),O=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buildDayTable=Object(n.M)(R),t}return r(t,e),t.prototype.render=function(t,i){e.prototype.render.call(this,t,i);var n=this.props.dateProfile,o=this.dayTable=this.buildDayTable(n,t.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:n,dates:o.headerDates,datesRepDistinctDays:1===o.rowCnt,renderIntroHtml:this.renderHeadIntroHtml},i),this.simpleDayGrid.receiveProps({dateProfile:n,dayTable:o,businessHours:t.businessHours,dateSelection:t.dateSelection,eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.context.nextDayThreshold},i)},t.prototype._renderSkeleton=function(t){e.prototype._renderSkeleton.call(this,t),t.options.columnHeader&&(this.header=new n.d(this.el.querySelector(".fc-head-container"))),this.simpleDayGrid=new w(this.dayGrid)},t.prototype._unrenderSkeleton=function(){e.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},t}(C);function R(e,t){var i=new n.e(e.renderRange,t);return new n.f(i,/year|month|week/.test(e.currentRangeUnit))}var E=Object(n.z)({defaultView:"dayGridMonth",views:{dayGrid:O,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});t.a=E}}]);