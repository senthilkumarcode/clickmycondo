(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{NhFE:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var i=a("fXoL"),c=a("ofXK");function n(t,e){if(1&t){const t=i.cc();i.bc(0,"a",14),i.nc("click",(function(){i.Pc(t);const a=e.$implicit;return i.rc(2).selectPageItem(a.name)})),i.Yc(1),i.ac()}if(2&t){const t=e.$implicit,a=i.rc(2);i.zc("ngClass",a.isSelected(t.name)),i.Hb(1),i.Zc(t.name)}}function s(t,e){if(1&t&&(i.bc(0,"div",12),i.Wc(1,n,2,2,"a",13),i.ac()),2&t){const t=i.rc();i.Hb(1),i.zc("ngForOf",t.pageRowsDataList)}}function r(t,e){if(1&t){const t=i.cc();i.bc(0,"li",15),i.bc(1,"a",16),i.nc("click",(function(){i.Pc(t);const e=i.rc();return e.gotoPageNum(e.itemPageIndex-1)})),i.Xb(2,"i",17),i.ac(),i.ac()}}function o(t,e){if(1&t){const t=i.cc();i.bc(0,"li",15),i.bc(1,"a",14),i.nc("click",(function(){i.Pc(t);const e=i.rc().$implicit;return i.rc().gotoPageNum(e)})),i.Yc(2),i.ac(),i.ac()}if(2&t){const t=i.rc().$implicit,e=i.rc();i.Hb(1),i.zc("ngClass",e.isPageNumActive(t)),i.Hb(1),i.Zc(t)}}function l(t,e){1&t&&(i.bc(0,"li",15),i.bc(1,"a",18),i.Yc(2,"..."),i.ac(),i.ac())}function d(t,e){if(1&t&&(i.Zb(0),i.Wc(1,o,3,2,"li",10),i.Wc(2,l,3,0,"li",10),i.Yb()),2&t){const t=e.$implicit;i.Hb(1),i.zc("ngIf",0!=t),i.Hb(1),i.zc("ngIf",0==t)}}function f(t,e){if(1&t){const t=i.cc();i.bc(0,"li",15),i.bc(1,"a",19),i.nc("click",(function(){i.Pc(t);const e=i.rc();return e.gotoPageNum(e.itemPageIndex+1)})),i.Xb(2,"i",20),i.ac(),i.ac()}}let u=(()=>{class t{constructor(t,e){this.element=t,this.renderer=e,this.itemPageIndex=1,this.visiblePageNum=7,this.isPageRowSelected=!1,this.outputParams=new i.o}isPageNumActive(t){return this.itemPageIndex==t?"active":""}getPageList(t,e,a){var i=a<9?1:2,c=a-2*i-3>>1,n=a-2*i-2>>1;return t<=a?this.range(1,t):e<=a-i-1-n?this.range(1,a-i-1).concat([0]).concat(this.range(t-i+1,t)):e>=t-i-1-n?this.range(1,i).concat([0]).concat(this.range(t-i-1-n-c,t)):this.range(1,i).concat([0]).concat(this.range(e-c,e+n)).concat([0]).concat(this.range(t-i+1,t))}range(t,e){return Array.from(Array(e-t+1),(e,a)=>a+t)}gotoPageNum(t){this.itemPageIndex=t,this.ItemStartIndex=t>1?this.itemLimit*t-this.itemLimit:0,this.ItemEndIndex=this.itemLimit*t,this.ItemEndIndex>this.totalItems&&(this.ItemEndIndex=this.totalItems),this.outputParams.emit({ItemStartIndex:this.ItemStartIndex,ItemEndIndex:this.ItemEndIndex,itemLimit:this.itemLimit})}showPageList(){this.isPageRowSelected=!0}selectPageItem(t){this.itemLimit=parseInt(t),this.isPageRowSelected=!1,this.gotoPageNum(1)}isSelected(t){return this.itemLimit==parseInt(t)?"selected":""}ngOnInit(){this.pageRowsDataList=[{id:1,name:"10"},{id:2,name:"20"},{id:3,name:"30"},{id:4,name:"50"}]}onDocumentClick(t){this.element.nativeElement.querySelector(".page-select-wrapper").contains(t.target)||(this.isPageRowSelected=!1)}ngOnChanges(t){this.ItemStartIndex=this.itemPageIndex>1?this.itemLimit*this.itemPageIndex-this.itemLimit:0,this.totalItems<this.itemLimit?(this.totalPages=1,this.ItemEndIndex=this.totalItems):(this.totalPages=Math.floor(this.totalItems/this.itemLimit),this.totalItems%this.itemLimit>0&&(this.totalPages=this.totalPages+1)),this.pageItemArray=this.getPageList(this.totalPages,this.itemPageIndex,this.visiblePageNum)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.m),i.Wb(i.I))},t.\u0275cmp=i.Qb({type:t,selectors:[["app-pagination"]],hostBindings:function(t,e){1&t&&i.nc("click",(function(t){return e.onDocumentClick(t)}),!1,i.Nc)},inputs:{ItemStartIndex:"ItemStartIndex",ItemEndIndex:"ItemEndIndex",itemLimit:"itemLimit",totalItems:"totalItems"},outputs:{outputParams:"outputParams"},features:[i.Fb],decls:16,vars:7,consts:[[1,"pagination-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"pagination","ov"],[1,"left","d-none","d-md-block"],[1,"page-select-wrapper"],[1,"page-item-select",3,"click"],["class","page-item-list",4,"ngIf"],[1,"right","page-numbers"],[1,"list-inline","float-right"],["class","list-inline-item",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"page-item-list"],["href","javascript:void(0)",3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"ngClass","click"],[1,"list-inline-item"],["href","javascript:void(0)",1,"prev",3,"click"],["aria-hidden","true",1,"fa","fa-angle-left"],["href","javascript:void(0)",1,"holder"],["href","javascript:void(0)",1,"next",3,"click"],["aria-hidden","true",1,"fa","fa-angle-right"]],template:function(t,e){1&t&&(i.bc(0,"div",0),i.bc(1,"div",1),i.bc(2,"div",2),i.bc(3,"div",3),i.bc(4,"div",4),i.Yc(5," Showing "),i.bc(6,"div",5),i.bc(7,"div",6),i.nc("click",(function(){return e.showPageList()})),i.Yc(8),i.ac(),i.Wc(9,s,2,1,"div",7),i.ac(),i.Yc(10),i.ac(),i.bc(11,"div",8),i.bc(12,"ul",9),i.Wc(13,r,3,0,"li",10),i.Wc(14,d,3,2,"ng-container",11),i.Wc(15,f,3,0,"li",10),i.ac(),i.ac(),i.ac(),i.ac(),i.ac(),i.ac()),2&t&&(i.Hb(8),i.bd("",e.ItemStartIndex+1," to ",e.ItemEndIndex,""),i.Hb(1),i.zc("ngIf",e.isPageRowSelected),i.Hb(1),i.ad(" ",e.totalItems," of results "),i.Hb(3),i.zc("ngIf",1!=e.itemPageIndex),i.Hb(1),i.zc("ngForOf",e.pageItemArray),i.Hb(1),i.zc("ngIf",e.itemPageIndex!=e.totalPages))},directives:[c.l,c.k,c.j],styles:[".pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:inline-block;width:100%!important;font-family:Montserrat,sans-serif;font-weight:500;letter-spacing:.2px;font-size:1.3rem;padding:20px!important;overflow:hidden;border-top:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#8391a1;float:left;padding:0 16px 0 0;position:relative;top:7px}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#8391a1}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:0 0 20px}}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:left}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{color:#8391a1;padding:6px 12px;margin:0 4px;cursor:pointer}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{border:1px solid #eaeaea;border-radius:3px!important;box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-moz-box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-webkit-box-shadow:0 1px 4px 0 rgba(25,28,30,.1)}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]{position:absolute;margin:3px 4px 0}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8391a1;border-bottom:1px solid #eaeaea;padding:4px 12px;display:block;text-decoration:none;width:150px;background-color:#fff}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f3f5f7}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:right}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:none;width:100%!important;display:flex;justify-content:center}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#373946}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 10px 0 0;font-size:1.4rem;float:left}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:0;padding:0;background:transparent;border:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;transition:all .15s ease;color:#8391a1;border:1px solid #eaeaea;border-radius:3px!important;text-decoration:none}@media (max-width:576px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 9px}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fdfdfd;color:#3f51b5;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f3f5f7;color:#373946;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.prev[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]{cursor:not-allowed}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder.active[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]:hover{background-color:#fff;color:#373946;border:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child)   a[_ngcontent-%COMP%]{margin:0 7px 0 0}"]}),t})()},YsBZ:function(t,e,a){"use strict";a.r(e);var i=a("ofXK"),c=a("tyNb"),n=a("NutR"),s=a("ThaB"),r=a("wbvY"),o=a("JK/P"),l=a("F/us"),d=a("fXoL"),f=a("0IaG"),u=a("b6Qw"),b=a("wlDI"),g=a("Buwz"),h=a("8mtn"),p=a("NhFE"),m=a("668k"),I=a("3Pt+");function y(t,e){1&t&&d.Xb(0,"app-loader")}function v(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"li",17),d.bc(2,"div",3),d.bc(3,"h5"),d.Yc(4),d.ac(),d.bc(5,"p"),d.Yc(6),d.ac(),d.ac(),d.bc(7,"div",6),d.bc(8,"a",18),d.nc("click",(function(){d.Pc(t);const a=e.$implicit;return d.rc(2).editGate(a.gateId)})),d.Xb(9,"i-feather",19),d.ac(),d.bc(10,"a",20),d.nc("click",(function(){d.Pc(t);const a=e.$implicit;return d.rc(2).showConfirmModal(a)})),d.Xb(11,"i-feather",21),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=e.$implicit;d.Hb(4),d.Zc(t.gateName),d.Hb(2),d.Zc(t.comments)}}function S(t,e){if(1&t&&(d.Zb(0),d.bc(1,"div",15),d.Wc(2,v,12,2,"ng-container",16),d.ac(),d.Yb()),2&t){const t=d.rc();d.Hb(2),d.zc("ngForOf",t.gateListData)}}function C(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Add Gate"),d.ac())}function M(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Edit Gate"),d.ac())}function P(t,e){1&t&&d.Xb(0,"app-loader")}function T(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"form",27,28),d.nc("ngSubmit",(function(){d.Pc(t);const e=d.Mc(2);return d.rc(2).submitGateForm(e)})),d.bc(3,"div",29),d.bc(4,"div",30),d.bc(5,"div",31),d.bc(6,"label"),d.Yc(7,"Gate Name*"),d.ac(),d.bc(8,"input",32),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).gate.gateName=e})),d.ac(),d.ac(),d.ac(),d.bc(9,"div",33),d.bc(10,"div",31),d.bc(11,"label"),d.Yc(12,"Comments"),d.ac(),d.bc(13,"textarea",34),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).gate.comments=e})),d.ac(),d.ac(),d.ac(),d.bc(14,"div",33),d.bc(15,"ul",35),d.bc(16,"li",8),d.bc(17,"button",36),d.Yc(18,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=d.Mc(2),e=d.rc(2);d.Hb(8),d.zc("ngModel",e.gate.gateName),d.Hb(5),d.zc("ngModel",e.gate.comments),d.Hb(4),d.zc("disabled",t.invalid)}}function k(t,e){if(1&t){const t=d.cc();d.bc(0,"div",22),d.bc(1,"div",1),d.bc(2,"div",23),d.bc(3,"div",3),d.bc(4,"h5"),d.Wc(5,C,2,0,"span",12),d.Wc(6,M,2,0,"span",12),d.ac(),d.ac(),d.bc(7,"div",24),d.nc("click",(function(){return d.Pc(t),d.rc().closeGate()})),d.Xb(8,"i-feather",25),d.ac(),d.ac(),d.bc(9,"div",26),d.Wc(10,P,1,0,"app-loader",12),d.Wc(11,T,19,3,"ng-container",12),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(5),d.zc("ngIf",!t.isEditGate),d.Hb(1),d.zc("ngIf",t.isEditGate),d.Hb(4),d.zc("ngIf",!t.isGateLoaded),d.Hb(1),d.zc("ngIf",t.isGateLoaded)}}let L=(()=>{class t{constructor(t,e,a,i,c,n){this.injector=t,this.dialog=e,this.staffService=a,this.lookupService=i,this.sharedService=c,this.cookieService=n,this.isGateLoaded=!0,this.isGateTableLoaded=!1,this.isAddGateLoaded=!1,this.isEditGate=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.modalService=this.injector.get(o.a)}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}submitGateForm(t){if(this.isGateLoaded=!1,this.isEditGate){let t={gateId:parseInt(this.gate.gateId),apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:this.gate.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateGate(t).subscribe(t=>{t.message&&(this.isGateLoaded=!0,this.sharedService.setAlertMessage("Gate updated Successfully!"),this.getAllGates())},t=>{})}else{let t={apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString()};this.staffService.addGate(t).subscribe(t=>{t.message&&(this.isGateLoaded=!0,this.sharedService.setAlertMessage("Gate added Successfully!"),this.getAllGates())},t=>{})}}getAllGates(){this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.isGateTableLoaded=!0,this.gateListData=t.filter(t=>t.isActive),this.totalItems=this.gateListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems},t=>{})}showConfirmModal(t){this.modalService.showConfirmModal(t)}addGate(){this.isEditGate=!1,this.isAddGateLoaded=!1,setTimeout(()=>{this.isAddGateLoaded=!0},10),setTimeout(()=>{var t=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:t,behavior:"smooth"})},100)}editGate(t){this.isEditGate=!0,this.isGateLoaded=!1,this.staffService.getGateByGateId(t).subscribe(t=>{this.isGateLoaded=!0,this.gate=t[0],this.isAddGateLoaded=!1,setTimeout(()=>{this.isAddGateLoaded=!0},10),setTimeout(()=>{var t=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:t,behavior:"smooth"})},100)},t=>{})}closeGate(){this.isAddGateLoaded=!1}ngOnInit(){this.gate={},this.getAllGates(),this.sharedService.unitlistdeleteindexcast.subscribe(t=>{if(null!=t){this.isGateTableLoaded=!1;var e={gateId:t.gateId,deleteBy:parseInt(this.cookieService.get("userId"))};this.staffService.deleteGate(e).subscribe(e=>{this.gateListData=this.gateListData.filter(e=>e.gateId!==t.gateId),this.sharedService.setUnitListDeleteIndex(null),this.isGateTableLoaded=!0})}})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(d.s),d.Wb(f.b),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-gates"]],decls:20,vars:8,consts:[[1,"staff-gates-wrapper"],[1,"card","mb-30"],[1,"card-header","no-border"],[1,"float-left"],[1,"lh-38"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item"],[1,"btn","lime-green","mt_5",3,"click"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],["class","add-gate-card",4,"ngIf"],[1,"simple-lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],["href","javascript:void(0)",1,"icon-link","mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",1,"icon-link",3,"click"],["name","trash",1,"icon","delete"],[1,"add-gate-card"],[1,"card-header"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addGateForm","novalidate","",3,"ngSubmit"],["addGateForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter text","name","gateName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","some text here","name","healthIssue","required","",3,"ngModel","ngModelChange"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5",4),d.Yc(5,"Gates List "),d.bc(6,"span",5),d.Yc(7),d.ac(),d.ac(),d.ac(),d.bc(8,"div",6),d.bc(9,"ul",7),d.bc(10,"li",8),d.bc(11,"a",9),d.nc("click",(function(){return e.addGate()})),d.Xb(12,"i-feather",10),d.bc(13,"span"),d.Yc(14,"Add Gate"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(15,"div",11),d.Wc(16,y,1,0,"app-loader",12),d.Wc(17,S,3,1,"ng-container",12),d.ac(),d.bc(18,"app-pagination",13),d.nc("outputParams",(function(t){return e.getIndexParams(t)})),d.ac(),d.ac(),d.Wc(19,k,12,4,"div",14),d.ac()),2&t&&(d.Hb(7),d.Zc(e.totalItems),d.Hb(9),d.zc("ngIf",!e.isGateTableLoaded),d.Hb(1),d.zc("ngIf",e.isGateTableLoaded),d.Hb(1),d.zc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit),d.Hb(1),d.zc("ngIf",e.isAddGateLoaded))},directives:[h.b,i.l,p.a,m.a,i.k,I.z,I.m,I.n,I.d,I.v,I.l,I.o],styles:[""]}),t})();var O=a("wd/R"),D=a("BR9Y"),w=a("BniF"),H=a("bvAq");function x(t,e){if(1&t){const t=d.cc();d.bc(0,"tr"),d.bc(1,"td",22),d.Yc(2),d.ac(),d.bc(3,"td",23),d.Yc(4),d.ac(),d.bc(5,"td",24),d.Yc(6),d.ac(),d.bc(7,"td"),d.bc(8,"a",25),d.nc("click",(function(){d.Pc(t);const a=e.$implicit;return d.rc(2).editShift(a)})),d.Xb(9,"i-feather",26),d.ac(),d.bc(10,"a",27),d.nc("click",(function(){d.Pc(t);const a=e.$implicit;return d.rc(2).showConfirmModal(a)})),d.Xb(11,"i-feather",28),d.ac(),d.ac(),d.ac()}if(2&t){const t=e.$implicit,a=d.rc(2);d.Hb(2),d.Zc(a.getShiftType(t.shiftTypeId)),d.Hb(2),d.Zc(t.startTime),d.Hb(2),d.Zc(t.totalHours)}}function z(t,e){if(1&t){const t=d.cc();d.bc(0,"div",15),d.bc(1,"table",16),d.bc(2,"thead"),d.bc(3,"tr"),d.bc(4,"th",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("shiftType")})),d.Yc(5,"Shift Type"),d.Xb(6,"span",18),d.ac(),d.bc(7,"th",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("startTime")})),d.Yc(8,"Shift Start Time"),d.Xb(9,"span",18),d.ac(),d.bc(10,"th",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("totalHours")})),d.Yc(11,"Total (Hrs)"),d.Xb(12,"span",18),d.ac(),d.bc(13,"th",19),d.Yc(14,"Action"),d.ac(),d.ac(),d.ac(),d.bc(15,"tbody"),d.Wc(16,x,12,3,"tr",20),d.sc(17,"simpleSearch"),d.sc(18,"slice"),d.sc(19,"sort"),d.ac(),d.ac(),d.bc(20,"app-pagination",21),d.nc("outputParams",(function(e){return d.Pc(t),d.rc().getIndexParams(e)})),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(1),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("shiftType")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("startTime")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("totalHours")),d.Hb(4),d.zc("ngForOf",d.uc(17,9,d.vc(18,12,d.vc(19,16,t.shiftsListData,t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex),t.shiftData)),d.Hb(4),d.zc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}function N(t,e){1&t&&(d.bc(0,"h5"),d.Yc(1,"Add Staff Shifts"),d.ac())}function E(t,e){1&t&&(d.bc(0,"h5"),d.Yc(1,"Edit Staff Shifts"),d.ac())}function F(t,e){1&t&&d.Xb(0,"app-loader")}function Y(t,e){if(1&t&&(d.bc(0,"option",53),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.lookupValueId),d.Hb(1),d.Zc(t.lookupValueName)}}function A(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"form",35,36),d.nc("ngSubmit",(function(){d.Pc(t);const e=d.Mc(2);return d.rc(2).submitShiftsForm(e)})),d.bc(3,"div",37),d.bc(4,"div",38),d.bc(5,"div",39),d.bc(6,"label"),d.Yc(7,"Shift Type*"),d.ac(),d.bc(8,"select",40),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).shiftTypeId=e})),d.bc(9,"option",41),d.Yc(10,"Select"),d.ac(),d.Wc(11,Y,2,2,"option",42),d.ac(),d.ac(),d.ac(),d.bc(12,"div",38),d.bc(13,"div",43),d.bc(14,"label"),d.Yc(15,"Shift Start Time"),d.ac(),d.bc(16,"input",44),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).shiftStartTime=e})),d.ac(),d.Xb(17,"owl-date-time",45,46),d.bc(19,"div",47),d.Xb(20,"i-feather",48),d.ac(),d.ac(),d.ac(),d.bc(21,"div",38),d.bc(22,"div",43),d.bc(23,"label"),d.Yc(24,"Total hrs"),d.ac(),d.bc(25,"input",49),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).shiftTotalHrs=e})),d.ac(),d.ac(),d.ac(),d.bc(26,"div",50),d.bc(27,"ul",51),d.bc(28,"li",10),d.bc(29,"button",52),d.Yc(30,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=d.Mc(2),e=d.Mc(18),a=d.rc(2);d.Hb(8),d.zc("ngModel",a.shiftTypeId),d.Hb(3),d.zc("ngForOf",a.shiftTypeList),d.Hb(5),d.zc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",a.shiftStartTime),d.Hb(1),d.zc("pickerType","timer"),d.Hb(2),d.zc("owlDateTimeTrigger",e),d.Hb(6),d.zc("ngModel",a.shiftTotalHrs),d.Hb(4),d.zc("disabled",t.invalid)}}function _(t,e){if(1&t){const t=d.cc();d.bc(0,"div",29),d.bc(1,"div",30),d.bc(2,"div",2),d.bc(3,"div",3),d.Wc(4,N,2,0,"h5",31),d.Wc(5,E,2,0,"h5",31),d.ac(),d.bc(6,"div",32),d.nc("click",(function(){return d.Pc(t),d.rc().closeShift()})),d.Xb(7,"i-feather",33),d.ac(),d.ac(),d.bc(8,"div",34),d.Wc(9,F,1,0,"app-loader",31),d.Wc(10,A,31,9,"ng-container",31),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(4),d.zc("ngIf",!t.isEditShift),d.Hb(1),d.zc("ngIf",t.isEditShift),d.Hb(4),d.zc("ngIf",!t.isShiftsLoaded),d.Hb(1),d.zc("ngIf",t.isShiftsLoaded)}}let B=(()=>{class t{constructor(t,e,a,i,c,n){this.injector=t,this.dialog=e,this.staffService=a,this.lookupService=i,this.sharedService=c,this.cookieService=n,this.isShiftsLoaded=!0,this.isShiftTableLoaded=!1,this.shiftTypeId="",this.shiftStartTime="",this.shiftTotalHrs=0,this.shiftData="",this.shiftType="",this.isEditShift=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.isAddShiftLoaded=!1,this.modalService=this.injector.get(o.a)}isMobileView(){return window.innerWidth<=767?"table-responsive":""}getShiftType(t){var e=l.filter(this.shiftTypeList,(function(e){if(e.lookupValueId===t)return e}));return void 0===e||0==e.length?"":(this.shiftType=e[0].lookupValueName,e[0].lookupValueName.toLowerCase())}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}submitShiftsForm(t){if(this.isShiftsLoaded=!1,this.isEditShift){let t={shiftId:this.shiftId,apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:O(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:0,insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateShift(t).subscribe(t=>{t.message&&(this.isShiftsLoaded=!0,this.sharedService.setAlertMessage("Shift updated Successfully!"),this.getAllShifts())},t=>{})}else{let t={apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:O(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:"2019-12-03T06:11:51.972Z"};this.staffService.addShift(t).subscribe(t=>{t.message&&(this.isShiftsLoaded=!0,this.sharedService.setAlertMessage("Shift added Successfully!"),this.getAllShifts())},t=>{})}}addShift(){this.isEditShift=!1,this.isAddShiftLoaded=!1,setTimeout(()=>{this.isAddShiftLoaded=!0},10),setTimeout(()=>{var t=document.querySelector(".add-shift-card").getBoundingClientRect().top;window.scroll({top:t,behavior:"smooth"})},10)}editShift(t){this.isAddShiftLoaded=!1,setTimeout(()=>{this.isAddShiftLoaded=!0},10),this.isEditShift=!0,this.shiftTypeId=t.shiftTypeId,this.shiftStartTime=O(t.startTime,"HH:mm").toDate(),this.shiftTotalHrs=t.totalHours,this.shiftId=t.shiftId,setTimeout(()=>{var t=document.querySelector(".add-shift-card").getBoundingClientRect().top-100;window.scroll({top:t,behavior:"smooth"})},100)}closeShift(){this.isAddShiftLoaded=!1}showConfirmModal(t){this.modalService.showConfirmModal(t)}getAllShifts(){this.isShiftTableLoaded=!1,this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.shiftsListData=t.filter(t=>t.isActive),this.totalItems=this.shiftsListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isShiftTableLoaded=!0},t=>{})}ngOnInit(){this.shift={},this.getAllShifts(),this.lookupService.getLookupValueByLookupTypeId(28).subscribe(t=>{this.shiftTypeList=t.filter(t=>t.isActive)},t=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(t=>{if(null!=t){var e={shiftId:t.shiftId,deleteBy:parseInt(this.cookieService.get("userId"))};this.isShiftTableLoaded=!1,this.staffService.deleteShift(e).subscribe(e=>{this.shiftsListData=this.shiftsListData.filter(e=>e.shiftId!==t.shiftId),this.sharedService.setUnitListDeleteIndex(null),this.isShiftTableLoaded=!0},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(d.s),d.Wb(f.b),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-shifts"]],decls:20,vars:4,consts:[[1,"staff-shifts-wrapper"],[1,"card","mb-30","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","lime-green",3,"click"],["name","plus",1,"icon","plus"],["class","card-body p-0",4,"ngIf"],["class","add-shift-card",4,"ngIf"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"name"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"add-shift-card"],[1,"card","mb-30"],[4,"ngIf"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addShiftForm","novalidate","",3,"ngSubmit"],["addShiftForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","shiftTypeId","id","shiftTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["name","startTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["startTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","number","OnlyNumber","true","placeholder","Enter value","name","shiftTotalHrs","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5"),d.Yc(5,"All Shifts "),d.bc(6,"span",4),d.Yc(7),d.ac(),d.ac(),d.ac(),d.bc(8,"div",5),d.bc(9,"ul",6),d.bc(10,"li",7),d.Xb(11,"i",8),d.bc(12,"input",9),d.nc("ngModelChange",(function(t){return e.shiftData=t})),d.ac(),d.ac(),d.bc(13,"li",10),d.bc(14,"a",11),d.nc("click",(function(){return e.addShift()})),d.Xb(15,"i-feather",12),d.bc(16,"span"),d.Yc(17,"Add Shift"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(18,z,21,20,"div",13),d.ac(),d.Wc(19,_,11,4,"div",14),d.ac()),2&t&&(d.Hb(7),d.Zc(e.totalItems),d.Hb(5),d.zc("ngModel",e.shiftData),d.Hb(6),d.zc("ngIf",e.isShiftTableLoaded),d.Hb(1),d.zc("ngIf",e.isAddShiftLoaded))},directives:[D.b,I.d,I.l,I.o,h.b,i.l,i.j,i.k,p.a,m.a,I.z,I.m,I.n,I.w,I.v,I.p,I.y,w.c,w.e,w.b,I.q,D.a],pipes:[H.e,i.t,H.a],styles:[""]}),t})();function W(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Add Staff Category"),d.ac())}function V(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Edit Staff Category"),d.ac())}function G(t,e){1&t&&d.Xb(0,"app-loader")}function X(t,e){if(1&t&&(d.bc(0,"option",20),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.lookupValueId),d.Hb(1),d.Zc(t.lookupValueName)}}function Z(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"form",7,8),d.nc("ngSubmit",(function(){d.Pc(t);const e=d.Mc(2);return d.rc().submitStaffForm(e)})),d.bc(3,"div",9),d.bc(4,"div",10),d.bc(5,"div",11),d.bc(6,"label"),d.Yc(7,"Category*"),d.ac(),d.bc(8,"select",12),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staffType=e})),d.bc(9,"option",13),d.Yc(10,"Select"),d.ac(),d.Wc(11,X,2,2,"option",14),d.ac(),d.ac(),d.ac(),d.bc(12,"div",10),d.bc(13,"div",15),d.bc(14,"label"),d.Yc(15,"Sub Category*"),d.ac(),d.bc(16,"input",16),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staffCategory=e})),d.ac(),d.ac(),d.ac(),d.bc(17,"div",10),d.bc(18,"ul",17),d.bc(19,"li",18),d.bc(20,"button",19),d.Yc(21,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=d.Mc(2),e=d.rc();d.Hb(8),d.zc("ngModel",e.staffType),d.Hb(3),d.zc("ngForOf",e.staffCategoryData),d.Hb(5),d.zc("ngModel",e.staffCategory),d.Hb(4),d.zc("disabled",t.invalid)}}function j(t,e){1&t&&d.Xb(0,"app-loader")}function U(t,e){if(1&t){const t=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.Yc(2),d.ac(),d.Xb(3,"td",30),d.Xb(4,"td",30),d.Xb(5,"td",30),d.bc(6,"td"),d.bc(7,"a",31),d.nc("click",(function(){d.Pc(t);const a=e.$implicit,i=d.rc(2);return i.staffType=115,i.editStaffCategory(a)})),d.Xb(8,"i-feather",32),d.ac(),d.bc(9,"a",33),d.nc("click",(function(){d.Pc(t);const a=e.index,i=d.rc(2);return i.staffDeleteTypeId=115,i.showConfirmModal(a)})),d.Xb(10,"i-feather",34),d.ac(),d.ac(),d.ac()}if(2&t){const t=e.$implicit;d.Hb(2),d.Zc(t.lookupValueName)}}function q(t,e){if(1&t){const t=d.cc();d.bc(0,"div",21),d.bc(1,"div",22),d.bc(2,"div",23),d.bc(3,"h5"),d.Yc(4,"Offical Staffs"),d.ac(),d.ac(),d.ac(),d.bc(5,"div",24),d.bc(6,"table",25),d.bc(7,"thead"),d.bc(8,"tr"),d.bc(9,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("status")})),d.Yc(10,"Category "),d.Xb(11,"span",27),d.ac(),d.bc(12,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("subcategory")})),d.Yc(13,"Supervisor "),d.Xb(14,"span",27),d.ac(),d.bc(15,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("level1")})),d.Yc(16,"Level-1 "),d.Xb(17,"span",27),d.ac(),d.bc(18,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("level2")})),d.Yc(19,"Level-2 "),d.Xb(20,"span",27),d.ac(),d.bc(21,"th",28),d.Yc(22,"Action"),d.ac(),d.ac(),d.ac(),d.bc(23,"tbody"),d.Wc(24,U,11,1,"tr",29),d.sc(25,"simpleSearch"),d.sc(26,"slice"),d.sc(27,"sort"),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(6),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("status")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("subcategory")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("level1")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("level2")),d.Hb(4),d.zc("ngForOf",d.uc(25,6,d.vc(26,9,d.vc(27,13,t.categoryOffcialListData,t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex),t.categoryOffcialData))}}function $(t,e){if(1&t){const t=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.Yc(2),d.ac(),d.Xb(3,"td",30),d.Xb(4,"td",30),d.Xb(5,"td",30),d.bc(6,"td"),d.bc(7,"a",31),d.nc("click",(function(){d.Pc(t);const a=e.$implicit,i=d.rc(2);return i.staffType=116,i.editStaffCategory(a)})),d.Xb(8,"i-feather",32),d.ac(),d.bc(9,"a",33),d.nc("click",(function(){d.Pc(t);const a=e.index,i=d.rc(2);return i.staffDeleteTypeId=116,i.showConfirmModal(a)})),d.Xb(10,"i-feather",34),d.ac(),d.ac(),d.ac()}if(2&t){const t=e.$implicit;d.Hb(2),d.Zc(t.lookupValueName)}}function R(t,e){if(1&t){const t=d.cc();d.bc(0,"div",21),d.bc(1,"div",22),d.bc(2,"div",23),d.bc(3,"h5"),d.Yc(4,"Personal Staffs"),d.ac(),d.ac(),d.ac(),d.bc(5,"div",24),d.bc(6,"table",25),d.bc(7,"thead"),d.bc(8,"tr"),d.bc(9,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("status")})),d.Yc(10,"Category "),d.Xb(11,"span",27),d.ac(),d.bc(12,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("subcategory")})),d.Yc(13,"Supervisor "),d.Xb(14,"span",27),d.ac(),d.bc(15,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("level1")})),d.Yc(16,"Level-1 "),d.Xb(17,"span",27),d.ac(),d.bc(18,"th",26),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("level2")})),d.Yc(19,"Level-2 "),d.Xb(20,"span",27),d.ac(),d.bc(21,"th",28),d.Yc(22,"Action"),d.ac(),d.ac(),d.ac(),d.bc(23,"tbody"),d.Wc(24,$,11,1,"tr",29),d.sc(25,"slice"),d.sc(26,"sort"),d.sc(27,"simpleSearch"),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(6),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("status")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("subcategory")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("level1")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("level2")),d.Hb(4),d.zc("ngForOf",d.vc(25,6,d.vc(26,10,d.uc(27,14,t.categoryPersonalListData,t.categoryPersonalData),t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex))}}let Q=(()=>{class t{constructor(t,e,a,i,c,n){this.injector=t,this.dialog=e,this.userService=a,this.lookupService=i,this.sharedService=c,this.cookieService=n,this.categoryOffcialData="",this.categoryPersonalData="",this.isCategoryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.isStaffLoaded=!1,this.staffType="",this.staffCategory="",this.staffDeleteTypeId="",this.errorMessage="",this.isError=!1,this.isEditStaffCategory=!1,this.modalService=this.injector.get(o.a)}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(t){this.modalService.showConfirmModal(t)}editStaffCategory(t){this.isEditStaffCategory=!0,this.staffCategory=t.lookupValueName,this.staffCategoryId=t.lookupValueId}submitStaffForm(t){if(this.isError=!1,"115"==this.staffType)if(this.staffTypeId=26,l.some(this.categoryOffcialData,t=>t.lookupValueName===this.staffCategory))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){let t={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(t).subscribe(t=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.isEditStaffCategory=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryOffcialListData=e,this.isCategoryDataLoaded=!0},t=>{})},t=>{})}else{let t={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(t).subscribe(t=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryOffcialListData=e,this.isCategoryDataLoaded=!0},t=>{})},t=>{})}else if(this.staffTypeId=27,l.some(this.categoryPersonalData,t=>t.lookupValueName===this.staffCategory))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){let t={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(t).subscribe(t=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.isEditStaffCategory=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryPersonalListData=e,this.isCategoryDataLoaded=!0},t=>{})},t=>{})}else{let t={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(t).subscribe(t=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryPersonalListData=e,this.isCategoryDataLoaded=!0},t=>{})},t=>{})}}ngOnInit(){this.lookupService.getLookupValueByLookupTypeId(25).subscribe(t=>{this.staffCategoryData=t,this.isStaffLoaded=!0},t=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryOffcialListData=e,this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{var e=t.filter(t=>t.isActive);this.categoryPersonalListData=e,this.isCategoryDataLoaded=!0},t=>{})},t=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(t=>{if(null!=t){if("115"==this.staffDeleteTypeId)var e={lookupValueId:this.categoryOffcialListData[t].lookupValueId,updateUserId:parseInt(this.cookieService.get("userId"))};else e={lookupValueId:this.categoryPersonalListData[t].lookupValueId,updateUserId:parseInt(this.cookieService.get("userId"))};this.isCategoryDataLoaded=!1,this.lookupService.deleteLookupvalue(e).subscribe(e=>{"115"==this.staffDeleteTypeId?this.categoryOffcialListData.splice(t,1):this.categoryPersonalListData.splice(t,1),this.isCategoryDataLoaded=!0,this.sharedService.setUnitListDeleteIndex(null)},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(d.s),d.Wb(f.b),d.Wb(n.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-setup"]],decls:14,vars:9,consts:[[1,"staff-setup-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","mb-30"],[1,"card-body"],[3,"message","isAlert"],["class","card table-card mb-30",4,"ngIf"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffType","id","staffType","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline","mt-25"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],[1,"card","table-card","mb-30"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"h5",1),d.Wc(2,W,2,0,"span",2),d.Wc(3,V,2,0,"span",2),d.ac(),d.bc(4,"div",3),d.bc(5,"div",4),d.Xb(6,"app-alert-message",5),d.Wc(7,G,1,0,"app-loader",2),d.Wc(8,Z,22,4,"ng-container",2),d.ac(),d.ac(),d.Wc(9,j,1,0,"app-loader",2),d.Wc(10,q,28,17,"div",6),d.Wc(11,R,28,17,"div",6),d.Xb(12,"app-staff-gates"),d.Xb(13,"app-staff-shifts"),d.ac()),2&t&&(d.Hb(2),d.zc("ngIf",!e.isEditStaffCategory),d.Hb(1),d.zc("ngIf",e.isEditStaffCategory),d.Hb(3),d.zc("message",e.errorMessage)("isAlert",e.isError),d.Hb(1),d.zc("ngIf",!e.isStaffLoaded),d.Hb(1),d.zc("ngIf",e.isStaffLoaded),d.Hb(1),d.zc("ngIf",!e.isCategoryDataLoaded),d.Hb(1),d.zc("ngIf",e.isCategoryDataLoaded),d.Hb(1),d.zc("ngIf",e.isCategoryDataLoaded))},directives:[i.l,b.a,L,B,m.a,I.z,I.m,I.n,I.w,I.v,I.l,I.o,I.p,I.y,i.k,I.d,i.j,h.b],pipes:[H.e,i.t,H.a],styles:[""]}),t})();var J=a("is7e"),K=a("1kSV");function tt(t,e){1&t&&d.Xb(0,"app-loader")}const et=function(){return{exact:!0}};function at(t,e){if(1&t){const t=d.cc();d.bc(0,"tr",29),d.bc(1,"td",30),d.Yc(2),d.ac(),d.bc(3,"td",30),d.Yc(4),d.ac(),d.bc(5,"td",31),d.Yc(6),d.ac(),d.bc(7,"td",31),d.Yc(8),d.ac(),d.bc(9,"td",32),d.Yc(10),d.ac(),d.bc(11,"td",33),d.bc(12,"a",34),d.Xb(13,"i-feather",35),d.ac(),d.bc(14,"a",36),d.nc("click",(function(){d.Pc(t);const a=e.$implicit;return d.rc(2).showConfirmModal(a.staffId)})),d.Xb(15,"i-feather",37),d.ac(),d.ac(),d.ac()}if(2&t){const t=e.$implicit,a=d.rc(2);d.zc("ngClass",t.isActive?"active":"notactive"),d.Hb(2),d.Zc(t.firstName),d.Hb(2),d.Zc(t.emailId),d.Hb(2),d.Zc(t.staffCategory_Label),d.Hb(2),d.Zc(t.staffSubcategory_Label),d.Hb(2),d.Zc(t.contactNumber),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-staff/",t.staffId,""),d.zc("ngbPopover",a.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(9,et))}}function it(t,e){if(1&t){const t=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Staffs "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staffData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.bc(16,"li",11),d.bc(17,"a",14),d.Xb(18,"i-feather",15),d.bc(19,"span"),d.Yc(20,"Add Staff"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(21,"div",16),d.bc(22,"table",17),d.bc(23,"thead"),d.bc(24,"tr"),d.bc(25,"th",18),d.Yc(26,"Staff Name "),d.bc(27,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(28,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(29,"th",18),d.Yc(30,"Email ID "),d.bc(31,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("emailId")})),d.ac(),d.bc(32,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.emailId=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("emailId")})),d.ac(),d.ac(),d.bc(33,"th",18),d.Yc(34,"Category "),d.bc(35,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("staffCategory_Label")})),d.ac(),d.bc(36,"app-simple-select-box",22),d.nc("inputChange",(function(e){return d.Pc(t),d.rc().onSelectChange(e,"staffCategory_Label","lookupValueName")})),d.ac(),d.ac(),d.bc(37,"th",18),d.Yc(38,"Sub Category "),d.bc(39,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("staffSubcategory_Label")})),d.ac(),d.bc(40,"app-simple-select-box",23),d.nc("inputChange",(function(e){return d.Pc(t),d.rc().onSelectChange(e,"staffSubcategory_Label","lookupValueName")})),d.ac(),d.ac(),d.bc(41,"th",18),d.Yc(42,"Phone Number "),d.bc(43,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("contactNumber")})),d.ac(),d.bc(44,"input",24),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.contactNumber=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("contactNumber")})),d.ac(),d.ac(),d.bc(45,"th",25),d.Yc(46," Actions "),d.bc(47,"input",26),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.action=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("action")})),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(48,"tbody"),d.Wc(49,at,16,10,"tr",27),d.sc(50,"slice"),d.sc(51,"sort"),d.sc(52,"columnSearch"),d.sc(53,"simpleSearch"),d.ac(),d.ac(),d.bc(54,"app-pagination",28),d.nc("outputParams",(function(e){return d.Pc(t),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(6),d.Zc(t.totalItems),d.Hb(4),d.zc("ngModel",t.staffData),d.Hb(7),d.zc("routerLinkActiveOptions",d.Fc(39,et)),d.Hb(5),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",t.columnField.firstName),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("emailId")),d.Hb(1),d.zc("ngModel",t.columnField.emailId),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("staffCategory_Label")),d.Hb(1),d.zc("fieldModel",t.staffCategoryId)("fieldRequired","required")("fieldList",t.staffTypeData),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("staffSubcategory_Label")),d.Hb(1),d.zc("fieldModel",t.staffSubCategoryId)("fieldRequired","required")("fieldList",t.staffOfficalCategoryData),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("contactNumber")),d.Hb(1),d.zc("ngModel",t.columnField.contactNumber),d.Hb(3),d.zc("ngModel",t.columnField.action),d.Hb(2),d.zc("ngForOf",d.vc(50,24,d.vc(51,28,d.vc(52,32,d.uc(53,36,t.staffListData,t.staffData),t.columnField,t.selectedInput),t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex)),d.Hb(5),d.zc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}let ct=(()=>{class t{constructor(t,e,a,i,c,n,s){this.router=t,this.route=e,this.injector=a,this.staffService=i,this.lookupService=c,this.sharedService=n,this.cookieService=s,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.staffData="",this.selectedInput="",this.columnField={},this.modalService=this.injector.get(o.a)}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}selectColInput(t){this.selectedInput=t}onSelectChange(t,e,a){l.isEmpty(t)?this.columnField={}:(this.selectedInput=e,this.columnField[e]=t[a])}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(t){this.modalService.showConfirmModal(t)}getTimeFormat(t){return O(t).format("YYYY-MM-DD HH:mm")}getStaffCategory(t,e){var a=l.filter(this.staffTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===a||0==a.length?"":(this.staffListData.map(e=>{e.staffId==t.staffId&&(e.staffCategory=a[0].lookupValueName)}),a[0].lookupValueName.toLowerCase())}getStaffSubCategory(t,e){var a;return 115==this.staffTypeId?void 0===(a=l.filter(this.staffOfficalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==a.length?"":(this.staffListData.map(e=>{e.staffId==t.staffId&&(e.staffSubCategory=a[0].lookupValueName)}),a[0].lookupValueName):void 0===(a=l.filter(this.staffPersonalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==a.length?"":(this.staffListData.map(e=>{e.staffId==t.staffId&&(e.staffSubCategory=a[0].lookupValueName)}),a[0].lookupValueName)}ngOnInit(){this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.staffListData=t.filter(t=>t.isActive),this.totalItems=this.staffListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isStaffDataLoaded=!0}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(t=>{this.staffTypeData=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.staffOfficalCategoryData=t.filter(t=>t.isActive),console.log(this.staffOfficalCategoryData)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{this.staffPersonalCategoryData=t.filter(t=>t.isActive)},t=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(t=>{if(null!=t){var e={staffId:t,deleteBy:parseInt(this.cookieService.get("userId"))};this.staffService.deleteStaff(e).subscribe(e=>{l.each(this.staffListData,e=>{e.staffId==t&&(e.isActive=!1)}),setTimeout(()=>{this.staffListData=this.staffListData.filter(e=>e.staffId!==t),this.totalItems=this.staffListData.length,this.sharedService.setAlertMessage("Staff deleted"),this.sharedService.setUnitListDeleteIndex(null)},500)},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(c.c),d.Wb(c.a),d.Wb(d.s),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-maintain-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-maintain-staff-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-staff","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","staffCategory_Label","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","staffSubcategory_Label","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Wc(1,tt,1,0,"app-loader",1),d.Wc(2,it,55,40,"div",2),d.ac()),2&t&&(d.Hb(1),d.zc("ngIf",!e.isStaffDataLoaded),d.Hb(1),d.zc("ngIf",e.isStaffDataLoaded))},directives:[i.l,m.a,D.b,I.d,I.l,I.o,h.b,c.e,c.d,D.d,i.j,J.a,i.k,p.a,K.c],pipes:[i.t,H.a,H.b,H.e],styles:[""]}),t})();function nt(t,e){1&t&&d.Xb(0,"app-loader")}const st=function(){return{exact:!0}};function rt(t,e){if(1&t&&(d.bc(0,"tr"),d.bc(1,"td",27),d.Yc(2),d.ac(),d.bc(3,"td",27),d.Yc(4),d.ac(),d.bc(5,"td",28),d.Yc(6),d.ac(),d.bc(7,"td",28),d.Yc(8),d.ac(),d.bc(9,"td",29),d.Yc(10),d.ac(),d.bc(11,"td",30),d.bc(12,"a",31),d.Xb(13,"i-feather",32),d.ac(),d.ac(),d.ac()),2&t){const t=e.$implicit,a=d.rc(2);d.Hb(2),d.Zc(t.firstName),d.Hb(2),d.Zc(t.emailId),d.Hb(2),d.Zc(a.getStaffCategory(t,t.staffCategoryId)),d.Hb(2),d.Zc(a.getStaffSubCategory(t,t.staffSubCategoryId)),d.Hb(2),d.Zc(t.contactNumber),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-staff/",t.staffId,""),d.zc("ngbPopover",a.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(8,st))}}function ot(t,e){if(1&t){const t=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Inactive Staffs "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staffData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(16,"div",14),d.bc(17,"table",15),d.bc(18,"thead"),d.bc(19,"tr"),d.bc(20,"th",16),d.Yc(21,"Staff Name "),d.bc(22,"span",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(23,"input",18),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(24,"th",16),d.Yc(25,"Email ID "),d.bc(26,"span",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("emailId")})),d.ac(),d.bc(27,"input",19),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.emailId=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("emailId")})),d.ac(),d.ac(),d.bc(28,"th",16),d.Yc(29,"Category "),d.bc(30,"span",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("staffCategory")})),d.ac(),d.bc(31,"app-simple-select-box",20),d.nc("inputChange",(function(e){return d.Pc(t),d.rc().onSelectChange(e,"staffCategory","lookupValueName")})),d.ac(),d.ac(),d.bc(32,"th",16),d.Yc(33,"Sub Category "),d.bc(34,"span",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("staffSubCategory")})),d.ac(),d.bc(35,"app-simple-select-box",21),d.nc("inputChange",(function(e){return d.Pc(t),d.rc().onSelectChange(e,"staffSubCategory","lookupValueName")})),d.ac(),d.ac(),d.bc(36,"th",16),d.Yc(37,"Phone Number "),d.bc(38,"span",17),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("contactNumber")})),d.ac(),d.bc(39,"input",22),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.contactNumber=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("contactNumber")})),d.ac(),d.ac(),d.bc(40,"th",23),d.Yc(41," Actions "),d.bc(42,"input",24),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.action=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("action")})),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(43,"tbody"),d.Wc(44,rt,14,9,"tr",25),d.sc(45,"slice"),d.sc(46,"sort"),d.sc(47,"columnSearch"),d.sc(48,"simpleSearch"),d.ac(),d.ac(),d.bc(49,"app-pagination",26),d.nc("outputParams",(function(e){return d.Pc(t),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(6),d.Zc(t.totalItems),d.Hb(4),d.zc("ngModel",t.staffData),d.Hb(7),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",t.columnField.firstName),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("emailId")),d.Hb(1),d.zc("ngModel",t.columnField.emailId),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("staffCategory")),d.Hb(1),d.zc("fieldModel",t.staffCategoryId)("fieldRequired","required")("fieldList",t.staffTypeData),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("staffSubCategory")),d.Hb(1),d.zc("fieldModel",t.staffSubCategoryId)("fieldRequired","required")("fieldList",t.staffOfficalCategoryData),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("contactNumber")),d.Hb(1),d.zc("ngModel",t.columnField.contactNumber),d.Hb(3),d.zc("ngModel",t.columnField.action),d.Hb(2),d.zc("ngForOf",d.vc(45,23,d.vc(46,27,d.vc(47,31,d.uc(48,35,t.staffListData,t.staffData),t.columnField,t.selectedInput),t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex)),d.Hb(5),d.zc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}let lt=(()=>{class t{constructor(t,e,a,i){this.staffService=t,this.lookupService=e,this.sharedService=a,this.cookieService=i,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.staffData="",this.selectedInput="",this.columnField={}}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}selectColInput(t){this.selectedInput=t}onSelectChange(t,e,a){l.isEmpty(t)?this.columnField={}:(this.selectedInput=e,this.columnField[e]=t[a])}isMobileView(){return window.innerWidth<=767?"table-responsive":""}getStaffCategory(t){var e=l.filter(this.staffTypeData,(function(e){if(e.lookupValueId===t)return e}));return void 0===e||0==e.length?"":(this.staffTypeId=e[0].lookupValueId,e[0].lookupValueName.toLowerCase())}getStaffSubCategory(t){var e;return 115==this.staffTypeId?void 0===(e=l.filter(this.staffOfficalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==e.length?"":e[0].lookupValueName:void 0===(e=l.filter(this.staffPersonalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==e.length?"":e[0].lookupValueName}ngOnInit(){this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.staffListData=t.filter(t=>!t.isActive),this.totalItems=this.staffListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isStaffDataLoaded=!0}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(t=>{this.staffTypeData=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.staffOfficalCategoryData=t.filter(t=>t.isActive),console.log(this.staffOfficalCategoryData)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{this.staffPersonalCategoryData=t.filter(t=>t.isActive)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-inactive-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-inactive-staff-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","staffCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","staffSubCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Wc(1,nt,1,0,"app-loader",1),d.Wc(2,ot,50,38,"div",2),d.ac()),2&t&&(d.Hb(1),d.zc("ngIf",!e.isStaffDataLoaded),d.Hb(1),d.zc("ngIf",e.isStaffDataLoaded))},directives:[i.l,m.a,D.b,I.d,I.l,I.o,h.b,D.d,i.j,J.a,i.k,p.a,c.e,c.d,K.c],pipes:[i.t,H.a,H.b,H.e],styles:[""]}),t})();function dt(t,e){1&t&&d.Xb(0,"app-loader")}const ft=function(){return{exact:!0}};function ut(t,e){if(1&t&&(d.bc(0,"tr"),d.bc(1,"td",25),d.Yc(2),d.ac(),d.bc(3,"td",25),d.Yc(4),d.ac(),d.bc(5,"td",26),d.Yc(6),d.ac(),d.bc(7,"td",26),d.Yc(8),d.ac(),d.bc(9,"td",26),d.Yc(10),d.ac(),d.bc(11,"td",26),d.Yc(12),d.ac(),d.bc(13,"td",27),d.Yc(14),d.ac(),d.bc(15,"td",28),d.bc(16,"a",29),d.Xb(17,"i-feather",30),d.ac(),d.ac(),d.ac()),2&t){const t=e.$implicit,a=d.rc(2);d.Hb(2),d.Zc(a.getStaffName(t.staffId)),d.Hb(2),d.Zc(a.getJobTitle(t.staffId)),d.Hb(2),d.Zc(t.inTime),d.Hb(2),d.Zc(t.outTime),d.Hb(2),d.Zc(a.getInGateName(t.inGateId)),d.Hb(2),d.Zc(a.getOutGateName(t.outGateId)),d.Hb(2),d.Zc(t.notes),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-entry/",t.attendanceId,""),d.zc("ngbPopover",a.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(10,ft))}}function bt(t,e){if(1&t){const t=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Entries "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entryData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.bc(16,"li",11),d.bc(17,"a",14),d.Xb(18,"i-feather",15),d.bc(19,"span"),d.Yc(20,"Add Attendance"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(21,"div",16),d.bc(22,"table",17),d.bc(23,"thead"),d.bc(24,"tr"),d.bc(25,"th",18),d.Yc(26," Name "),d.bc(27,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(28,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(29,"th",18),d.Yc(30," Job Title "),d.bc(31,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("jobTitle")})),d.ac(),d.bc(32,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().columnField.jobTitle=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().selectColInput("jobTitle")})),d.ac(),d.ac(),d.bc(33,"th",18),d.Yc(34,"In Time "),d.bc(35,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("inTime")})),d.ac(),d.ac(),d.bc(36,"th",18),d.Yc(37,"Out Time"),d.bc(38,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("outTime")})),d.ac(),d.ac(),d.bc(39,"th",18),d.Yc(40,"In Gate "),d.bc(41,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("inGateId")})),d.ac(),d.ac(),d.bc(42,"th",18),d.Yc(43,"Out Gate "),d.bc(44,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("outGateId")})),d.ac(),d.ac(),d.bc(45,"th",18),d.Yc(46,"comments "),d.bc(47,"span",19),d.nc("click",(function(){return d.Pc(t),d.rc().sortUnitData("notes")})),d.ac(),d.ac(),d.bc(48,"th",22),d.Yc(49,"Action"),d.ac(),d.ac(),d.ac(),d.bc(50,"tbody"),d.Wc(51,ut,18,11,"tr",23),d.sc(52,"slice"),d.sc(53,"sort"),d.sc(54,"simpleSearch"),d.ac(),d.ac(),d.bc(55,"app-pagination",24),d.nc("outputParams",(function(e){return d.Pc(t),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc();d.Hb(6),d.Zc(t.totalItems),d.Hb(4),d.zc("ngModel",t.entryData),d.Hb(7),d.zc("routerLinkActiveOptions",d.Fc(29,ft)),d.Hb(5),d.zc("ngClass",t.isMobileView()),d.Hb(5),d.zc("ngClass",t.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",t.columnField.firstName),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("jobTitle")),d.Hb(1),d.zc("ngModel",t.columnField.jobTitle),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("inTime")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("outTime")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("inGateId")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("outGateId")),d.Hb(3),d.zc("ngClass",t.getFieldOrderBy("notes")),d.Hb(4),d.zc("ngForOf",d.vc(52,18,d.vc(53,22,d.uc(54,26,t.entryListData,t.staffData),t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex)),d.Hb(4),d.zc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}let gt=(()=>{class t{constructor(t,e,a,i,c,n){this.router=t,this.route=e,this.staffService=a,this.lookupService=i,this.sharedService=c,this.cookieService=n,this.isEntryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.entryData="",this.selectedInput="",this.columnField={}}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"asc":"desc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}selectColInput(t){this.selectedInput=t}onSelectChange(t,e,a){l.isEmpty(t)?this.columnField={}:(this.selectedInput=e,this.columnField[e]=t[a])}getInGateName(t){var e=this.gateDataList.filter(e=>e.gateId==t);return void 0===e||0===e.length?(this.entry.inGateId="",""):(this.entry.inGateId=e[0].gateName,e[0].gateName)}getOutGateName(t){var e=this.gateDataList.filter(e=>e.gateId==t);return void 0===e||0===e.length?(this.entry.outGateId="",""):(this.entry.outGateId=e[0].gateName,e[0].gateName)}getStaffName(t){var e=this.staffDetails.filter(e=>e.staffId==t);return void 0===e||0===e.length?(this.entry.firstName="",""):(this.entry.firstName=e[0].firstName,e[0].firstName)}getJobTitle(t){var e=this.staffDetails.filter(e=>e.staffId==t);if(void 0===e||0===e.length)return this.entry.jobTitle="","";var a=e[0].staffSubCategoryId;if(115==e[0].staffCategoryId){let t=this.officalStaffsDataList.filter(t=>{if(t.lookupValueId==a)return t.lookupValueName});return void 0===t||0==t.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=t[0].lookupValueName,t[0].lookupValueName)}{let t=this.personalStaffsDataList.filter(t=>{if(t.lookupValueId==a)return t.lookupValueName});return void 0===t||0==t.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=t[0].lookupValueName,t[0].lookupValueName)}}ngOnInit(){this.entry={},this.staffDetails=[],this.gateDataList=[],this.officalStaffsDataList=[],this.personalStaffsDataList=[],this.staffService.getAllAttendancesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.entryListData=t.filter(t=>t.isActive),l.each(this.entryListData,t=>{this.staffService.getStaffByStaffId(t.staffId).subscribe(t=>{this.staffDetails.push(t[0])})}),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.gateDataList=t}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.officalStaffsDataList=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{this.personalStaffsDataList=t.filter(t=>t.isActive)},t=>{}),this.totalItems=this.entryListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isEntryDataLoaded=!0})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(c.c),d.Wb(c.a),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-attendance"]],decls:3,vars:2,consts:[[1,"staff-attendance-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-entry","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Job Title",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Wc(1,dt,1,0,"app-loader",1),d.Wc(2,bt,56,30,"div",2),d.ac()),2&t&&(d.Hb(1),d.zc("ngIf",!e.isEntryDataLoaded),d.Hb(1),d.zc("ngIf",e.isEntryDataLoaded))},directives:[i.l,m.a,D.b,I.d,I.l,I.o,h.b,c.e,c.d,D.d,i.j,i.k,p.a,K.c],pipes:[i.t,H.a,H.e],styles:[""]}),t})(),ht=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-payroll"]],decls:2,vars:0,template:function(t,e){1&t&&(d.bc(0,"p"),d.Yc(1," staff-payroll works!\n"),d.ac())},styles:[""]}),t})(),pt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-overtime"]],decls:2,vars:0,template:function(t,e){1&t&&(d.bc(0,"p"),d.Yc(1," staff-overtime works!\n"),d.ac())},styles:[""]}),t})(),mt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-reports"]],decls:2,vars:0,template:function(t,e){1&t&&(d.bc(0,"p"),d.Yc(1," staff-reports works!\n"),d.ac())},styles:[""]}),t})();function It(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Add Staff"),d.ac())}function yt(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Edit Staff"),d.ac())}function vt(t,e){1&t&&d.Xb(0,"app-loader")}function St(t,e){if(1&t){const t=d.cc();d.bc(0,"div",18),d.bc(1,"div",19),d.bc(2,"label"),d.Yc(3,"Password*"),d.ac(),d.bc(4,"input",84),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).staff.password=e})),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc(2);d.Hb(4),d.zc("ngModel",t.staff.password)}}function Ct(t,e){if(1&t&&(d.bc(0,"option"),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.Hb(1),d.Zc(t.lookupValueName)}}function Mt(t,e){if(1&t&&(d.bc(0,"option"),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.Hb(1),d.Zc(t.lookupValueName)}}function Pt(t,e){if(1&t){const t=d.cc();d.bc(0,"div",18),d.bc(1,"div",32),d.bc(2,"label"),d.Yc(3,"Vendor Name*"),d.ac(),d.bc(4,"select",85),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).staff.vendorId=e})),d.bc(5,"option",34),d.Yc(6,"Select"),d.ac(),d.Wc(7,Mt,2,1,"option",35),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc(2);d.Hb(4),d.zc("ngModel",t.staff.vendorId),d.Hb(3),d.zc("ngForOf",t.vendorNameList)}}function Tt(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"span",87),d.Yc(2),d.ac(),d.bc(3,"span",88),d.Yc(4),d.ac(),d.bc(5,"i-feather",89),d.nc("click",(function(){d.Pc(t);const a=e.index;return d.rc(3).deletePhoto(a)})),d.ac(),d.ac()}if(2&t){const t=e.$implicit,a=d.rc(3);d.Hb(2),d.Zc(t.name),d.Hb(2),d.Zc(a.bytesToSize(t.size))}}function kt(t,e){if(1&t&&(d.bc(0,"div",86),d.Wc(1,Tt,6,2,"div",35),d.ac()),2&t){const t=d.rc(2);d.Hb(1),d.zc("ngForOf",t.listOfPhotos)}}function Lt(t,e){if(1&t){const t=d.cc();d.bc(0,"div"),d.bc(1,"span",87),d.Yc(2),d.ac(),d.bc(3,"span",88),d.Yc(4),d.ac(),d.bc(5,"i-feather",89),d.nc("click",(function(){d.Pc(t);const a=e.index;return d.rc(3).deleteFile(a)})),d.ac(),d.ac()}if(2&t){const t=e.$implicit,a=d.rc(3);d.Hb(2),d.Zc(t.name),d.Hb(2),d.Zc(a.bytesToSize(t.size))}}function Ot(t,e){if(1&t&&(d.bc(0,"div",86),d.Wc(1,Lt,6,2,"div",35),d.ac()),2&t){const t=d.rc(2);d.Hb(1),d.zc("ngForOf",t.listOfFiles)}}function Dt(t,e){if(1&t&&(d.bc(0,"option",90),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.lookupValueId),d.Hb(1),d.Zc(t.lookupValueName)}}function wt(t,e){if(1&t&&(d.bc(0,"option",90),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.lookupValueId),d.Hb(1),d.Zc(t.lookupValueName)}}function Ht(t,e){if(1&t){const t=d.cc();d.bc(0,"div",18),d.bc(1,"div",32),d.bc(2,"label"),d.Yc(3,"Sub Category*"),d.ac(),d.bc(4,"select",91),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).staff.staffSubCategoryId=e})),d.bc(5,"option",34),d.Yc(6,"Select"),d.ac(),d.Wc(7,wt,2,2,"option",75),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc(2);d.Hb(4),d.zc("ngModel",t.staff.staffSubCategoryId),d.Hb(3),d.zc("ngForOf",t.staffCategoryData)}}function xt(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"ul",13),d.bc(2,"li",14),d.Yc(3,"Personal Info"),d.ac(),d.bc(4,"div",15),d.bc(5,"div",16),d.bc(6,"div",17),d.bc(7,"div",18),d.bc(8,"div",19),d.bc(9,"label"),d.Yc(10,"First Name*"),d.ac(),d.bc(11,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.firstName=e})),d.ac(),d.ac(),d.ac(),d.bc(12,"div",18),d.bc(13,"div",19),d.bc(14,"label"),d.Yc(15,"Last Name*"),d.ac(),d.bc(16,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.lastName=e})),d.ac(),d.ac(),d.ac(),d.Wc(17,St,5,1,"div",22),d.bc(18,"div",18),d.bc(19,"div",19),d.bc(20,"label"),d.Yc(21,"Date Of Birth"),d.ac(),d.bc(22,"input",23),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.dob=e})),d.ac(),d.Xb(23,"owl-date-time",24,25),d.bc(25,"div",26),d.Xb(26,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(27,"div",18),d.bc(28,"div",19),d.bc(29,"label"),d.Yc(30,"Address"),d.ac(),d.bc(31,"input",28),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.address=e})),d.ac(),d.ac(),d.ac(),d.bc(32,"div",18),d.bc(33,"div",19),d.bc(34,"label"),d.Yc(35,"Email*"),d.ac(),d.bc(36,"input",29),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.emailId=e})),d.ac(),d.ac(),d.ac(),d.bc(37,"div",18),d.bc(38,"div",19),d.bc(39,"label"),d.Yc(40,"Contact Number"),d.ac(),d.bc(41,"input",30),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.contactNumber=e})),d.ac(),d.ac(),d.ac(),d.bc(42,"div",18),d.bc(43,"div",19),d.bc(44,"label"),d.Yc(45,"Alternate Contact Number"),d.ac(),d.bc(46,"input",31),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.alternateContact=e})),d.ac(),d.ac(),d.ac(),d.bc(47,"div",18),d.bc(48,"div",32),d.bc(49,"label"),d.Yc(50,"Blood Group"),d.ac(),d.bc(51,"select",33),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.bloodGroup=e})),d.bc(52,"option",34),d.Yc(53,"Select"),d.ac(),d.Wc(54,Ct,2,1,"option",35),d.ac(),d.ac(),d.ac(),d.bc(55,"div",18),d.bc(56,"div",19),d.bc(57,"label"),d.Yc(58,"Vehicle ID"),d.ac(),d.bc(59,"input",36),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.vehicleId=e})),d.ac(),d.ac(),d.ac(),d.bc(60,"div",18),d.bc(61,"div",37),d.bc(62,"label"),d.Yc(63,"Gender*"),d.ac(),d.bc(64,"div",38),d.bc(65,"input",39),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().genderType=e})),d.ac(),d.bc(66,"label",40),d.Yc(67,"Male"),d.ac(),d.ac(),d.bc(68,"div",38),d.bc(69,"input",41),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().genderType=e})),d.ac(),d.bc(70,"label",42),d.Yc(71,"Female"),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(72,"div",18),d.bc(73,"div",37),d.bc(74,"label"),d.Yc(75,"Is Vendor*"),d.ac(),d.bc(76,"div",38),d.bc(77,"input",43),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().vendorType=e})),d.ac(),d.bc(78,"label",44),d.Yc(79,"Yes"),d.ac(),d.ac(),d.bc(80,"div",38),d.bc(81,"input",45),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().vendorType=e})),d.ac(),d.bc(82,"label",46),d.Yc(83,"No"),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(84,Pt,8,2,"div",22),d.bc(85,"div",47),d.bc(86,"div",19),d.bc(87,"label"),d.Yc(88,"Health Issue Notes ( 35 characters)"),d.ac(),d.bc(89,"textarea",48),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.healthIssue=e})),d.ac(),d.ac(),d.ac(),d.bc(90,"div",47),d.bc(91,"div",19),d.bc(92,"label"),d.Yc(93,"Comments"),d.ac(),d.bc(94,"textarea",49),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.comments=e})),d.ac(),d.ac(),d.ac(),d.bc(95,"div",50),d.bc(96,"div",19),d.bc(97,"label",51),d.nc("click",(function(){return d.Pc(t),d.Mc(99).click()})),d.bc(98,"input",52,53),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.file=e}))("change",(function(e){return d.Pc(t),d.rc().uploadPhoto(e)})),d.ac(),d.Xb(100,"i",54),d.Yc(101," Upload Photo"),d.ac(),d.Wc(102,kt,2,1,"div",55),d.ac(),d.ac(),d.bc(103,"div",50),d.bc(104,"div",19),d.bc(105,"label",56),d.nc("click",(function(){return d.Pc(t),d.Mc(107).click()})),d.bc(106,"input",57,58),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.multifile=e}))("change",(function(e){return d.Pc(t),d.rc().uploadFile(e)})),d.ac(),d.Xb(108,"i",54),d.Yc(109," Upload ID Card Docs"),d.ac(),d.Wc(110,Ot,2,1,"div",55),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(111,"li",59),d.Yc(112,"Salary & Leave"),d.ac(),d.bc(113,"div",60),d.bc(114,"div",16),d.bc(115,"div",17),d.bc(116,"div",18),d.bc(117,"div",19),d.bc(118,"label"),d.Yc(119,"Base Pay*"),d.ac(),d.bc(120,"input",61),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.basePay=e})),d.ac(),d.ac(),d.ac(),d.bc(121,"div",18),d.bc(122,"div",19),d.bc(123,"label"),d.Yc(124,"Allowance 1"),d.ac(),d.bc(125,"input",62),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.allowance1=e})),d.ac(),d.ac(),d.ac(),d.bc(126,"div",18),d.bc(127,"div",19),d.bc(128,"label"),d.Yc(129,"Allowance 2"),d.ac(),d.bc(130,"input",63),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.allowance2=e})),d.ac(),d.ac(),d.ac(),d.bc(131,"div",18),d.bc(132,"div",19),d.bc(133,"label"),d.Yc(134,"Allowance 3"),d.ac(),d.bc(135,"input",64),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.allowance3=e})),d.ac(),d.ac(),d.ac(),d.bc(136,"div",18),d.bc(137,"div",19),d.bc(138,"label"),d.Yc(139,"Overtime Pay Per Hour"),d.ac(),d.bc(140,"input",65),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.overtimePayperhour=e})),d.ac(),d.ac(),d.ac(),d.bc(141,"div",18),d.bc(142,"div",19),d.bc(143,"label"),d.Yc(144,"Deduction 1"),d.ac(),d.bc(145,"input",66),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.deduction1=e})),d.ac(),d.ac(),d.ac(),d.bc(146,"div",18),d.bc(147,"div",19),d.bc(148,"label"),d.Yc(149,"Deduction 2"),d.ac(),d.bc(150,"input",67),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.deduction2=e})),d.ac(),d.ac(),d.ac(),d.bc(151,"div",18),d.bc(152,"div",19),d.bc(153,"label"),d.Yc(154,"Deduction 3"),d.ac(),d.bc(155,"input",68),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.deduction3=e})),d.ac(),d.ac(),d.ac(),d.bc(156,"div",18),d.bc(157,"div",19),d.bc(158,"label"),d.Yc(159,"Salary Per Day"),d.ac(),d.bc(160,"input",69),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.perDaySalary=e})),d.ac(),d.ac(),d.ac(),d.bc(161,"div",18),d.bc(162,"div",19),d.bc(163,"label"),d.Yc(164,"Vacation Leave Days"),d.ac(),d.bc(165,"input",70),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.vacationLeaveDays=e})),d.ac(),d.ac(),d.ac(),d.bc(166,"div",18),d.bc(167,"div",19),d.bc(168,"label"),d.Yc(169,"Sick Leave Days"),d.ac(),d.bc(170,"input",71),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.sickLeaveDays=e})),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(171,"li",72),d.Yc(172,"Work Information"),d.ac(),d.bc(173,"div",73),d.bc(174,"div",16),d.bc(175,"div",17),d.bc(176,"div",18),d.bc(177,"div",32),d.bc(178,"label"),d.Yc(179,"Category*"),d.ac(),d.bc(180,"select",74),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.staffCategoryId=e}))("ngModelChange",(function(){d.Pc(t);const e=d.rc();return e.getStaffType(e.staff.staffCategoryId)})),d.bc(181,"option",34),d.Yc(182,"Select"),d.ac(),d.Wc(183,Dt,2,2,"option",75),d.ac(),d.ac(),d.ac(),d.Wc(184,Ht,8,2,"div",22),d.bc(185,"div",18),d.bc(186,"div",19),d.bc(187,"label"),d.Yc(188,"Job Start Date"),d.ac(),d.bc(189,"input",76),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.jobStartDate=e})),d.ac(),d.Xb(190,"owl-date-time",24,77),d.bc(192,"div",26),d.Xb(193,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(194,"div",18),d.bc(195,"div",19),d.bc(196,"label"),d.Yc(197,"Job End Date"),d.ac(),d.bc(198,"input",78),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.jobEndDate=e})),d.ac(),d.Xb(199,"owl-date-time",24,79),d.bc(201,"div",26),d.Xb(202,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(203,"div",18),d.bc(204,"div",19),d.bc(205,"label"),d.Yc(206,"Planned Entry Time"),d.ac(),d.bc(207,"input",80),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.plannedEntryTime=e})),d.ac(),d.Xb(208,"owl-date-time",null,81),d.bc(210,"div",26),d.Xb(211,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(212,"div",18),d.bc(213,"div",19),d.bc(214,"label"),d.Yc(215,"Planned Exit Time"),d.ac(),d.bc(216,"input",82),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().staff.plannedExitTime=e})),d.ac(),d.Xb(217,"owl-date-time",null,83),d.bc(219,"div",26),d.Xb(220,"i-feather",27),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=d.Mc(24),e=d.Mc(191),a=d.Mc(200),i=d.Mc(209),c=d.Mc(218),n=d.rc();d.Hb(11),d.zc("ngModel",n.staff.firstName),d.Hb(5),d.zc("ngModel",n.staff.lastName),d.Hb(1),d.zc("ngIf",!n.isEditStaff),d.Hb(5),d.zc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",n.staff.dob),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",t),d.Hb(6),d.zc("ngModel",n.staff.address),d.Hb(5),d.zc("ngModel",n.staff.emailId),d.Hb(5),d.zc("ngModel",n.staff.contactNumber),d.Hb(5),d.zc("ngModel",n.staff.alternateContact),d.Hb(5),d.zc("ngModel",n.staff.bloodGroup),d.Hb(3),d.zc("ngForOf",n.bloodGroupData),d.Hb(5),d.zc("ngModel",n.staff.vehicleId),d.Hb(6),d.zc("ngModel",n.genderType),d.Hb(4),d.zc("ngModel",n.genderType),d.Hb(8),d.zc("ngModel",n.vendorType),d.Hb(4),d.zc("ngModel",n.vendorType),d.Hb(3),d.zc("ngIf",n.isVendor()),d.Hb(5),d.zc("ngModel",n.staff.healthIssue),d.Hb(5),d.zc("ngModel",n.staff.comments),d.Hb(4),d.zc("ngModel",n.staff.file),d.Hb(4),d.zc("ngIf",n.isPhotoAdded),d.Hb(4),d.zc("ngModel",n.staff.multifile),d.Hb(4),d.zc("ngIf",n.isFileAdded),d.Hb(10),d.zc("ngModel",n.staff.basePay),d.Hb(5),d.zc("ngModel",n.staff.allowance1),d.Hb(5),d.zc("ngModel",n.staff.allowance2),d.Hb(5),d.zc("ngModel",n.staff.allowance3),d.Hb(5),d.zc("ngModel",n.staff.overtimePayperhour),d.Hb(5),d.zc("ngModel",n.staff.deduction1),d.Hb(5),d.zc("ngModel",n.staff.deduction2),d.Hb(5),d.zc("ngModel",n.staff.deduction3),d.Hb(5),d.zc("ngModel",n.staff.perDaySalary),d.Hb(5),d.zc("ngModel",n.staff.vacationLeaveDays),d.Hb(5),d.zc("ngModel",n.staff.sickLeaveDays),d.Hb(10),d.zc("ngModel",n.staff.staffCategoryId),d.Hb(3),d.zc("ngForOf",n.staffTypeData),d.Hb(1),d.zc("ngIf",n.isCategoryEnabled()),d.Hb(5),d.zc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",n.staff.jobStartDate),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",e),d.Hb(6),d.zc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",n.staff.jobEndDate),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",a),d.Hb(6),d.zc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",n.staff.plannedEntryTime),d.Hb(3),d.zc("owlDateTimeTrigger",i),d.Hb(6),d.zc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",n.staff.plannedExitTime),d.Hb(3),d.zc("owlDateTimeTrigger",c)}}function zt(t,e){if(1&t&&(d.bc(0,"div",17),d.bc(1,"div",92),d.bc(2,"ul",93),d.bc(3,"li",94),d.bc(4,"button",95),d.Yc(5,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){d.rc();const t=d.Mc(2);d.Hb(4),d.zc("disabled",t.invalid)}}const Nt=function(){return{exact:!0}};let Et=(()=>{class t{constructor(t,e,a,i,c,n,s){this.router=t,this.route=e,this.userService=a,this.staffService=i,this.lookupService=c,this.sharedService=n,this.cookieService=s,this.isEditStaff=!1,this.isStaffSubmitted=!1,this.isStaffAdded=!1,this.isStaffError=!1,this.isStaffSuccess=!1,this.alertStaffMessage="",this.vendorType="",this.isTypeSelected=!1,this.isFileAdded=!1,this.fileList=[],this.listOfFiles=[],this.isPhotoAdded=!1,this.photoList=[],this.listOfPhotos=[],this.userId=null,this.staffId=null,this.genderType=null,this.outputParams=new d.o}isArrayOne(){return this.staffArray.length>1}deleteStaff(){this.staffArray.splice(this.index,1),this.outputParams.emit(this.staffArray)}uploadFile(t){this.isFileAdded=!0;for(var e=0;e<=t.target.files.length-1;e++){var a=t.target.files[e];this.fileList.push(a),this.listOfFiles.push({name:a.name,size:a.size})}}deleteFile(t){this.listOfFiles.splice(t,1),this.fileList.splice(t,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}uploadPhoto(t){this.isPhotoAdded=!0;for(var e=0;e<=t.target.files.length-1;e++){var a=t.target.files[e];this.photoList.push(a),this.listOfPhotos.push({name:a.name,size:a.size})}}deletePhoto(t){this.listOfPhotos.splice(t,1),this.photoList.splice(t,1),this.selectedPhoto=null,0==this.photoList.length&&0==this.listOfPhotos.length&&(this.isPhotoAdded=!1)}bytesToSize(t){return t<1024?t+" Bytes":t<1048576?(t/1024).toFixed(3)+" KB":t<1073741824?(t/1048576).toFixed(3)+" MB":(t/1073741824).toFixed(3)+" GB"}isCategoryEnabled(){return!!this.isEditStaff||!!this.isTypeSelected}getStaffType(t){this.isTypeSelected=!0,"115"==t?this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.staffCategoryData=t.filter(t=>t.isActive)},t=>{}):this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{this.staffCategoryData=t.filter(t=>t.isActive)},t=>{})}isVendor(){return"Yes"==this.vendorType}submitAddStaffForm(t){if(this.isStaffSubmitted=!0,this.isStaffError=!1,this.isEditStaff){this.isStaffSubmitted=!0,this.isStaffError=!1;let t={userId:this.userId,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(t).subscribe(t=>{if(t.message){let e={staffId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),userId:this.userId,firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,contactNumber:this.staff.contactNumber.toString(),alternateContact:this.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(this.staff.staffCategoryId),staffSubCategoryId:parseInt(this.staff.staffSubCategoryId),dob:this.staff.dob,genderId:parseInt(this.genderType),bloodGroup:this.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:this.staff.healthIssue,comments:this.staff.comments,plannedEntryTime:this.staff.plannedEntryTime,plannedExitTime:this.staff.plannedExitTime,jobStartDate:this.staff.jobStartDate,jobEndDate:this.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(this.staff.vacationLeaveDays),sickLeaveDays:parseInt(this.staff.sickLeaveDays),basePay:this.staff.basePay,overtimePayperhour:this.staff.overtimePayperhour,allowance1:this.staff.allowance1,allowance2:this.staff.allowance2,allowance3:this.staff.allowance3,deduction1:this.staff.deduction1,deduction2:this.staff.deduction2,deduction3:this.staff.deduction3,perDaySalary:this.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(this.staff.staffSubCategoryId),isActive:!0,insertedBy:0,insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};this.staffService.updateStaff(e).subscribe(t=>{this.isStaffSubmitted=!1,t.message?(this.sharedService.setAlertMessage("Staff updated successfully"),this.router.navigate(["ams/staff/maintain-staff"])):(this.isStaffError=!0,this.alertStaffMessage=t.alertTicketMessage)},e=>{this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=t.errorMessage})}else this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=t.errorMessage})}else{let t={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0};this.userService.addUser(t).subscribe(t=>{if(t.message){this.userId=t.message;let e={userId:this.userId,roleId:5,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};this.userService.addUserRole(e).subscribe(t=>{if(t.message){let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),userId:this.userId,firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,contactNumber:this.staff.contactNumber.toString(),alternateContact:this.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(this.staff.staffCategoryId),staffSubCategoryId:parseInt(this.staff.staffSubCategoryId),dob:this.staff.dob,genderId:parseInt(this.genderType),bloodGroup:this.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:this.staff.healthIssue,comments:this.staff.comments,plannedEntryTime:this.staff.plannedEntryTime,plannedExitTime:this.staff.plannedExitTime,jobStartDate:this.staff.jobStartDate,jobEndDate:this.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(this.staff.vacationLeaveDays),sickLeaveDays:parseInt(this.staff.sickLeaveDays),basePay:this.staff.basePay,overtimePayperhour:this.staff.overtimePayperhour,allowance1:this.staff.allowance1,allowance2:this.staff.allowance2,allowance3:this.staff.allowance3,deduction1:this.staff.deduction1,deduction2:this.staff.deduction2,deduction3:this.staff.deduction3,perDaySalary:this.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(this.staff.staffSubCategoryId),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};this.staffService.addStaff(e).subscribe(t=>{this.isStaffSubmitted=!1,t.message?(this.sharedService.setAlertMessage("Staff added successfully"),this.router.navigate(["ams/staff/maintain-staff"])):(this.isStaffError=!0,this.alertStaffMessage=t.alertTicketMessage)},e=>{this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=t.errorMessage})}},t=>{console.log(t)})}else this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=t.errorMessage},t=>{})}}ngOnInit(){this.staff={},this.staff.bloodGroup="",this.staff.staffCategoryId="",this.staff.staffSubCategoryId="",this.staff.contactNumber="",this.staff.alternateContact="",null!=this.route.params.value.id&&(this.isEditStaff=!0,this.isStaffAdded=!0,this.staffId=this.route.params.value.id,this.staffService.getStaffByStaffId(this.route.params.value.id).subscribe(t=>{this.staff=t[0],this.userId=this.staff.userId,this.genderType=this.staff.genderId.toString(),this.getStaffType(this.staff.staffCategoryId)},t=>{})),this.lookupService.getLookupValueByLookupTypeId(24).subscribe(t=>{this.bloodGroupData=t}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(t=>{this.staffTypeData=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.staffCategoryData=t.filter(t=>t.isActive)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(c.c),d.Wb(c.a),d.Wb(n.a),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-add-staff"]],inputs:{index:"index",staffArray:["array","staffArray"]},outputs:{outputParams:"outputParams"},decls:17,vars:10,consts:[[1,"staff-add-staff-wrapper"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/maintain-staff","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["id","accordion",1,"card-body","p-0"],[3,"message","isError","isSuccess"],["class","row",4,"ngIf"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#staffCollapseOne","aria-expanded","true","aria-controls","CollapseOne",1,"list-group-item"],["id","staffCollapseOne","aria-labelledby","CollapseOne","data-parent","#accordion",1,"collapse","show"],[1,"details"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],["name","staffDOB","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["staffDOB",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","text","placeholder","Enter value","name","address",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","staffEmail","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","contactNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","alternateContact",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","bloodGroup","id","bloodGroup",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[4,"ngFor","ngForOf"],["type","text","placeholder","Enter value","name","staffVehicleId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],["name","vendorType","id","Yes","value","Yes","type","radio",3,"ngModel","ngModelChange"],["for","Yes",1,"radio-inline"],["name","vendorType","id","No","value","No","type","radio",3,"ngModel","ngModelChange"],["for","No",1,"radio-inline"],[1,"col-sm-6"],["placeholder","some text here","name","healthIssue",3,"ngModel","ngModelChange"],["placeholder","some text here","name","staffComments",3,"ngModel","ngModelChange"],[1,"col-sm-3"],["for","my-photo-selector",1,"btn","sf","lime-green",3,"click"],["type","file",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderPhoto",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["type","file","multiple","",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderFile",""],["data-toggle","collapse","data-target","#staffCollapseTwo","aria-expanded","true","aria-controls","CollapseTwo",1,"list-group-item","collapsed"],["id","staffCollapseTwo","aria-labelledby","CollapseTwo","data-parent","#accordion",1,"collapse"],["type","number","OnlyNumber","true","placeholder","Enter value","name","basePay","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","overtimePayperhour",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","perDaySalary",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","vacationLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","sickLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["data-toggle","collapse","data-target","#staffCollapseThree","aria-expanded","true","aria-controls","CollapseThree",1,"list-group-item","collapsed"],["id","staffCollapseThree","aria-labelledby","CollapseThree","data-parent","#accordion",1,"collapse"],["name","staffCategory","id","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","jobStartDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobStartDate",""],["name","jobEndDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobEndDate",""],["name","plannedEntryTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedEntryTime",""],["name","plannedExitTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedExitTime",""],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","vendorName","id","vendorName",1,"form-control",3,"ngModel","ngModelChange"],[1,"file-desp"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"],[3,"value"],["name","staffSubCategory","id","staffSubCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(t,e){if(1&t){const t=d.cc();d.bc(0,"div",0),d.bc(1,"form",1,2),d.nc("ngSubmit",(function(){d.Pc(t);const a=d.Mc(2);return e.submitAddStaffForm(a)})),d.bc(3,"div",3),d.bc(4,"div",4),d.bc(5,"div",5),d.bc(6,"h5"),d.Wc(7,It,2,0,"span",6),d.Wc(8,yt,2,0,"span",6),d.ac(),d.ac(),d.bc(9,"div",7),d.bc(10,"a",8),d.Xb(11,"i-feather",9),d.ac(),d.ac(),d.ac(),d.bc(12,"div",10),d.Xb(13,"app-alert-message",11),d.Wc(14,vt,1,0,"app-loader",6),d.Wc(15,xt,221,58,"ng-container",6),d.ac(),d.ac(),d.Wc(16,zt,6,1,"div",12),d.ac(),d.ac()}2&t&&(d.Hb(7),d.zc("ngIf",!e.isEditStaff),d.Hb(1),d.zc("ngIf",e.isEditStaff),d.Hb(2),d.zc("routerLinkActiveOptions",d.Fc(9,Nt)),d.Hb(3),d.zc("message",e.alertStaffMessage)("isError",e.isStaffError)("isSuccess",e.isStaffSuccess),d.Hb(1),d.zc("ngIf",e.isStaffSubmitted),d.Hb(1),d.zc("ngIf",!e.isStaffSubmitted),d.Hb(1),d.zc("ngIf",!e.isStaffSubmitted))},directives:[I.z,I.m,I.n,i.l,c.e,c.d,h.b,b.a,m.a,I.d,I.v,I.l,I.o,w.c,w.e,w.b,I.q,D.a,I.w,I.p,I.y,i.k,I.s],styles:[""]}),t})();function Ft(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Add Entry"),d.ac())}function Yt(t,e){1&t&&(d.bc(0,"span"),d.Yc(1,"Edit Entry"),d.ac())}function At(t,e){1&t&&d.Xb(0,"app-loader")}function _t(t,e){if(1&t&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.staffId),d.Hb(1),d.Zc(t.firstName)}}function Bt(t,e){if(1&t){const t=d.cc();d.bc(0,"i-feather",43),d.nc("click",(function(){return d.Pc(t),d.rc(2).entry.inTime=""})),d.ac()}}function Wt(t,e){if(1&t){const t=d.cc();d.bc(0,"i-feather",43),d.nc("click",(function(){return d.Pc(t),d.rc(2).entry.outTime=""})),d.ac()}}function Vt(t,e){if(1&t&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.gateId),d.Hb(1),d.Zc(t.gateName)}}function Gt(t,e){if(1&t&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.gateId),d.Hb(1),d.Zc(t.gateName)}}function Xt(t,e){if(1&t&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&t){const t=e.$implicit;d.zc("value",t.shiftId),d.Hb(1),d.Zc(t.startTime)}}function Zt(t,e){if(1&t){const t=d.cc();d.bc(0,"div",13),d.bc(1,"div",14),d.bc(2,"label"),d.Yc(3,"Start Time*"),d.ac(),d.bc(4,"select",44),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc(2).entry.shiftId=e})),d.bc(5,"option",16),d.Yc(6,"Select"),d.ac(),d.Wc(7,Xt,2,2,"option",17),d.ac(),d.ac(),d.ac()}if(2&t){const t=d.rc(2);d.Hb(4),d.zc("ngModel",t.entry.shiftId),d.Hb(3),d.zc("ngForOf",t.shiftsFilteredDataList)}}function jt(t,e){if(1&t){const t=d.cc();d.Zb(0),d.bc(1,"div",12),d.bc(2,"div",13),d.bc(3,"div",14),d.bc(4,"label"),d.Yc(5,"Name*"),d.ac(),d.bc(6,"select",15),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.staffId=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().getStaffJobTitle()})),d.bc(7,"option",16),d.Yc(8,"Select"),d.ac(),d.Wc(9,_t,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(10,"div",13),d.bc(11,"div",18),d.bc(12,"label"),d.Yc(13,"Job title*"),d.ac(),d.bc(14,"input",19),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.jobTitle=e})),d.ac(),d.ac(),d.ac(),d.bc(15,"div",13),d.bc(16,"div",18),d.bc(17,"label"),d.Yc(18,"In-time*"),d.ac(),d.bc(19,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.inTime=e})),d.ac(),d.Xb(20,"owl-date-time",null,21),d.bc(22,"div",22),d.Wc(23,Bt,1,0,"i-feather",23),d.Xb(24,"i-feather",24),d.ac(),d.ac(),d.ac(),d.bc(25,"div",13),d.bc(26,"div",18),d.bc(27,"label"),d.Yc(28,"Out-time"),d.ac(),d.bc(29,"input",25),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.outTime=e})),d.ac(),d.Xb(30,"owl-date-time",null,26),d.bc(32,"div",22),d.Wc(33,Wt,1,0,"i-feather",23),d.Xb(34,"i-feather",24),d.ac(),d.ac(),d.ac(),d.bc(35,"div",13),d.bc(36,"div",14),d.bc(37,"label"),d.Yc(38,"In Gate*"),d.ac(),d.bc(39,"select",27),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.inGateId=e})),d.bc(40,"option",16),d.Yc(41,"Select"),d.ac(),d.Wc(42,Vt,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(43,"div",13),d.bc(44,"div",14),d.bc(45,"label"),d.Yc(46,"Out Gate*"),d.ac(),d.bc(47,"select",28),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entry.outGateId=e})),d.bc(48,"option",16),d.Yc(49,"Select"),d.ac(),d.Wc(50,Gt,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(51,"div",13),d.bc(52,"div",29),d.bc(53,"label"),d.Yc(54,"shift Type*"),d.ac(),d.bc(55,"div",30),d.bc(56,"input",31),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().shiftType=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().getShifts()})),d.ac(),d.bc(57,"label",32),d.Yc(58,"Morning"),d.ac(),d.ac(),d.bc(59,"div",30),d.bc(60,"input",33),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().shiftType=e}))("ngModelChange",(function(){return d.Pc(t),d.rc().getShifts()})),d.ac(),d.bc(61,"label",34),d.Yc(62,"Night"),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(63,Zt,8,2,"div",35),d.bc(64,"div",36),d.bc(65,"div",18),d.bc(66,"label"),d.Yc(67,"Comments"),d.ac(),d.bc(68,"textarea",37),d.nc("ngModelChange",(function(e){return d.Pc(t),d.rc().entryComments=e})),d.ac(),d.ac(),d.ac(),d.bc(69,"div",38),d.bc(70,"ul",39),d.bc(71,"li",40),d.bc(72,"button",41),d.Yc(73,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&t){const t=d.Mc(21),e=d.Mc(31),a=d.rc(),i=d.Mc(11);d.Hb(6),d.zc("ngModel",a.entry.staffId),d.Hb(3),d.zc("ngForOf",a.staffDataList),d.Hb(5),d.zc("ngModel",a.entry.jobTitle),d.Hb(5),d.zc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",a.entry.inTime),d.Hb(3),d.zc("owlDateTimeTrigger",t),d.Hb(1),d.zc("ngIf",""!=a.entry.inTime&&null!=a.entry.inTime),d.Hb(6),d.zc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",a.entry.outTime),d.Hb(3),d.zc("owlDateTimeTrigger",e),d.Hb(1),d.zc("ngIf",""!=a.entry.outTime&&null!=a.entry.outTime),d.Hb(6),d.zc("ngModel",a.entry.inGateId),d.Hb(3),d.zc("ngForOf",a.gatesDataList),d.Hb(5),d.zc("ngModel",a.entry.outGateId),d.Hb(3),d.zc("ngForOf",a.gatesDataList),d.Hb(6),d.zc("ngModel",a.shiftType),d.Hb(4),d.zc("ngModel",a.shiftType),d.Hb(3),d.zc("ngIf",a.isShiftSelected()),d.Hb(5),d.zc("ngModel",a.entryComments),d.Hb(4),d.zc("disabled",i.invalid)}}const Ut=function(){return{exact:!0}};let qt=(()=>{class t{constructor(t,e,a,i,c,n){this.router=t,this.route=e,this.staffService=a,this.lookupService=i,this.sharedService=c,this.cookieService=n,this.isEditEntry=!1,this.isEntrySubmitted=!0,this.isEntryError=!1,this.isEntrySuccess=!1,this.alertEntryMessage="",this.shiftType="",this.jobTitle="",this.entryComments=""}isAdmin(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}isShiftSelected(){return""!=this.shiftType}getShifts(){this.shiftsFilteredDataList=this.shiftsDataList.filter(t=>t.shiftTypeId==this.shiftType)}getStaffJobTitle(){this.staffService.getStaffByStaffId(this.entry.staffId).subscribe(t=>{if(this.selectedStaffCateogryId=t[0].staffCategoryId||null,this.selectedSubStaffCateogryId=t[0].staffSubCategoryId||null,null!=this.selectedStaffCateogryId)if(115==this.selectedStaffCateogryId){let t=this.officalStaffsDataList.filter(t=>{if(t.lookupValueId==this.selectedSubStaffCateogryId)return t.lookupValueName});this.entry.jobTitle=void 0===t||0==t.length?"":t[0].lookupValueName}else{let t=this.personalStaffsDataList.filter(t=>{if(t.lookupValueId==this.selectedSubStaffCateogryId)return t.lookupValueName});this.entry.jobTitle=void 0===t||0==t.length?"":t[0].lookupValueName}else this.entry.jobTitle=""})}submitEntryForm(t){if(this.isEntrySubmitted=!1,this.isEditEntry){let t={attendanceId:parseInt(this.route.params.value.id),apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:0,insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.updateAttendance(t).subscribe(t=>{t.message?(this.isEntrySubmitted=!0,this.sharedService.setAlertMessage("Entry updated successfully"),this.router.navigate(["ams/staff/attendance"])):(this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage=t.errorMessage)},t=>{this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage="Some error occured"})}else{let t={apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:0,updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.addAttendance(t).subscribe(t=>{t.message?(this.isEntrySubmitted=!0,this.sharedService.setAlertMessage("Entry added successfully"),this.router.navigate(["ams/staff/attendance"])):(this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage=t.errorMessage)},t=>{this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage="Some error occured"})}}ngOnInit(){this.entry={},this.entry.staffId="",this.entry.inGateId="",this.entry.outGateId="",this.entry.shiftId="",null!=this.route.params.value.id&&(this.isEditEntry=!0,this.attendanceId=this.route.params.value.id,this.staffService.getAttendanceByAttendanceId(this.route.params.value.id).subscribe(t=>{this.entry=t[0],this.getStaffJobTitle(),this.staffService.getShiftByShiftId(this.entry.shiftId).subscribe(t=>{this.shiftType=t[0].shiftTypeId.toString(),this.getShifts()},t=>{})},t=>{})),this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.staffDataList=t.filter(t=>t.isActive)},t=>{}),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.gatesDataList=t.filter(t=>t.isActive)},t=>{}),this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.shiftsDataList=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(28).subscribe(t=>{this.shiftTypeList=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(t=>{this.officalStaffsDataList=t.filter(t=>t.isActive)},t=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(t=>{this.personalStaffsDataList=t.filter(t=>t.isActive)},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(d.Wb(c.c),d.Wb(c.a),d.Wb(g.a),d.Wb(s.a),d.Wb(r.a),d.Wb(u.a))},t.\u0275cmp=d.Qb({type:t,selectors:[["app-add-entry"]],decls:16,vars:8,consts:[[1,"staff-add-entry-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/attendance","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["name","addEntryForm","novalidate","",3,"ngSubmit"],["addEntryForm","ngForm"],[1,"card-body"],[3,"message","isError"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffId","id","staffId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","ticketSubject","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","staffInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["class","icon del-c float-left mr-1","name","x-circle","width","18",3,"click",4,"ngIf"],["name","calendar","width","18",1,"icon","date","float-left"],["name","staffOutTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffOutTime",""],["name","inGateId","id","inGateId","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","outGateId","id","outGateId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","shiftType","id","Morning","value","127","type","radio","required","",3,"ngModel","ngModelChange"],["for","Morning",1,"radio-inline"],["name","shiftType","id","Night","value","128","type","radio","required","",3,"ngModel","ngModelChange"],["for","Night",1,"radio-inline"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-6"],["placeholder","some text here","name","comments",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],["name","x-circle","width","18",1,"icon","del-c","float-left","mr-1",3,"click"],["name","startTime","id","startTime","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t){const t=d.cc();d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5"),d.Wc(5,Ft,2,0,"span",4),d.Wc(6,Yt,2,0,"span",4),d.ac(),d.ac(),d.bc(7,"div",5),d.bc(8,"a",6),d.Xb(9,"i-feather",7),d.ac(),d.ac(),d.ac(),d.bc(10,"form",8,9),d.nc("ngSubmit",(function(){d.Pc(t);const a=d.Mc(11);return e.submitEntryForm(a)})),d.bc(12,"div",10),d.Xb(13,"app-alert-message",11),d.Wc(14,At,1,0,"app-loader",4),d.Wc(15,jt,74,22,"ng-container",4),d.ac(),d.ac(),d.ac(),d.ac()}2&t&&(d.Hb(5),d.zc("ngIf",!e.isEditEntry),d.Hb(1),d.zc("ngIf",e.isEditEntry),d.Hb(2),d.zc("routerLinkActiveOptions",d.Fc(7,Ut)),d.Hb(5),d.zc("message",e.alertEntryMessage)("isError",e.isEntryError),d.Hb(1),d.zc("ngIf",!e.isEntrySubmitted),d.Hb(1),d.zc("ngIf",e.isEntrySubmitted))},directives:[i.l,c.e,c.d,h.b,I.z,I.m,I.n,b.a,m.a,I.w,I.v,I.l,I.o,I.p,I.y,i.k,I.d,w.c,w.e,w.b,I.s],styles:[""]}),t})();const $t=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:Q},{path:"maintain-staff",component:ct},{path:"add-staff",component:Et},{path:"edit-staff/:id",component:Et},{path:"inactive-staff",component:lt},{path:"overtime",component:pt},{path:"attendance",component:gt},{path:"add-entry",component:qt},{path:"edit-entry/:id",component:qt},{path:"payroll",component:ht},{path:"reports",component:mt},{path:"**",redirectTo:"settings",pathMatch:"full"}];let Rt=(()=>{class t{}return t.\u0275mod=d.Ub({type:t}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[c.f.forChild($t)],c.f]}),t})();var Qt=a("PCNd");let Jt=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Qb({type:t,selectors:[["app-staff-manager"]],decls:1,vars:0,template:function(t,e){1&t&&d.Xb(0,"router-outlet")},directives:[c.g],styles:[""]}),t})();a.d(e,"StaffManagerModule",(function(){return Kt}));let Kt=(()=>{class t{}return t.\u0275mod=d.Ub({type:t,bootstrap:[Jt]}),t.\u0275inj=d.Tb({factory:function(e){return new(e||t)},imports:[[i.b,Qt.a,Rt]]}),t})()},bvAq:function(t,e,a){"use strict";a.d(e,"e",(function(){return n})),a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return l})),a.d(e,"h",(function(){return d})),a.d(e,"f",(function(){return f})),a.d(e,"g",(function(){return u}));var i=a("F/us"),c=a("fXoL");let n=(()=>{class t{transform(t,e){return e?t.filter(t=>{for(let a in t)if(null!=t[a]&&-1!==t[a].toString().toLowerCase().indexOf(e.toLowerCase()))return!0;return!1}):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"simpleSearch",type:t,pure:!0}),t})(),s=(()=>{class t{transform(t,e,a){if(t)return t.filter(t=>null===t[a]||!t[a]||!e[a]||t[a].toString().toLowerCase().includes(e[a].toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"columnSearch",type:t,pure:!1}),t})(),r=(()=>{class t{transform(t,e,a=!0){return e&&""!=e.trim()?a?Array.from(t).sort((t,a)=>this.orderByComparator(t[e],a[e])):Array.from(t).sort((t,a)=>this.orderByComparator(a[e],t[e])):t}orderByComparator(t,e){if(void 0===t||void 0===e||null==t||null==e)return 0;if(isNaN(parseFloat(t))||!isFinite(t)||isNaN(parseFloat(e))||!isFinite(e)){if(t.toLowerCase()<e.toLowerCase())return-1;if(t.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(t)<parseFloat(e))return-1;if(parseFloat(t)>parseFloat(e))return 1}return 0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"orderBy",type:t,pure:!0}),t})(),o=(()=>{class t{transform(t,e,a){var c=i.sortBy(t,(function(t){return t[e]}));return a||c.reverse(),c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"sort",type:t,pure:!0}),t})(),l=(()=>{class t{transform(t,e,a){return t.slice(e,a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"pager",type:t,pure:!0}),t})(),d=(()=>{class t{transform(t){return null!=t&&""!=t||null!=t?t:"NA"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"notAvail",type:t,pure:!0}),t})(),f=(()=>{class t{transform(t,e){return void 0===t||0==t.length?"NA":t[0][e]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"isdefined",type:t,pure:!0}),t})(),u=(()=>{class t{transform(t){return null==t?"NA":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Vb({name:"notAvailNum",type:t,pure:!0}),t})()}}]);