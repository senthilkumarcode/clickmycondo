function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"G65/":function(e,t,i){"use strict";i.d(t,"a",(function(){return B}));var c=i("NutR"),n=i("Buwz"),a=i("dc4U"),o=i("ThaB"),s=i("wbvY"),r=i("JK/P"),l=i("F/us"),d=i("fXoL"),u=i("b6Qw"),b=i("ofXK"),m=i("668k"),k=i("BR9Y"),f=i("3Pt+"),p=i("8mtn"),g=i("tyNb"),h=i("is7e"),v=i("NhFE"),C=i("bvAq");function y(e,t){1&e&&d.Sb(0,"app-loader")}function I(e,t){1&e&&(d.Wb(0,"ul",4),d.Wb(1,"li",5),d.Sb(2,"span",6),d.Wb(3,"span"),d.Tc(4,"High"),d.Vb(),d.Vb(),d.Wb(5,"li",5),d.Sb(6,"span",7),d.Tc(7,"Medium"),d.Vb(),d.Wb(8,"li",8),d.Sb(9,"span",9),d.Tc(10,"Low"),d.Vb(),d.Vb())}function T(e,t){if(1&e){var i=d.Xb();d.Wb(0,"th",24),d.Tc(1,"Category "),d.Wb(2,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc(2).sortUnitData("category")})),d.Vb(),d.Wb(3,"app-simple-select-box",37),d.ic("inputChange",(function(e){return d.Kc(i),d.mc(2).onSelectChange(e,"ticketCategory","lookupValueName")})),d.Vb(),d.Vb()}if(2&e){var c=d.mc(2);d.Cb(2),d.uc("ngClass",c.getFieldOrderBy("category")),d.Cb(1),d.uc("fieldModel",c.ticketCategoryId)("fieldRequired","required")("fieldList",c.ticketPrivateCategoryData)}}function V(e,t){if(1&e){var i=d.Xb();d.Wb(0,"th",24),d.Tc(1,"Assigned to "),d.Wb(2,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc(2).sortUnitData("assignedToUser")})),d.Vb(),d.Wb(3,"app-simple-select-box",38),d.ic("inputChange",(function(e){return d.Kc(i),d.mc(2).onSelectChange(e,"assignedToUser","firstName")})),d.Vb(),d.Vb()}if(2&e){var c=d.mc(2);d.Cb(2),d.uc("ngClass",c.getFieldOrderBy("assignedToUser")),d.Cb(1),d.uc("fieldModel",c.assignedTo)("fieldRequired","required")("fieldList",c.assignedToData)}}function S(e,t){if(1&e){var i=d.Xb();d.Wb(0,"th",24),d.Tc(1,"Requested By "),d.Wb(2,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc(2).sortUnitData("raisedByUser")})),d.Vb(),d.Wb(3,"app-simple-select-box",39),d.ic("inputChange",(function(e){return d.Kc(i),d.mc(2).onSelectChange(e,"raisedByUser","firstName")})),d.Vb(),d.Vb()}if(2&e){var c=d.mc(2);d.Cb(2),d.uc("ngClass",c.getFieldOrderBy("raisedByUser")),d.Cb(1),d.uc("fieldModel",c.raisedBy)("fieldRequired","required")("fieldList",c.raisedByData)}}function W(e,t){if(1&e&&(d.Wb(0,"td",42),d.Tc(1),d.Vb()),2&e){var i=d.mc().$implicit,c=d.mc(2);d.Cb(1),d.Uc(c.getTicketCategory(i.ticketCategoryId))}}function M(e,t){if(1&e&&(d.Wb(0,"td",42),d.Tc(1),d.Vb()),2&e){var i=d.mc().$implicit,c=d.mc(2);d.Cb(1),d.Uc(c.getTicketAssigned(i,i.assignedTo))}}function D(e,t){if(1&e&&(d.Wb(0,"td",42),d.Tc(1),d.Vb()),2&e){var i=d.mc().$implicit,c=d.mc(2);d.Cb(1),d.Uc(c.getTicketRequested(i,i.raisedBy))}}var L=function(){return{exact:!0}};function O(e,t){if(1&e){var i=d.Xb();d.Wb(0,"tr",40),d.Wb(1,"td"),d.Tc(2),d.Vb(),d.Wb(3,"td"),d.Wb(4,"span",41),d.Tc(5),d.Vb(),d.Vb(),d.Wb(6,"td",42),d.Tc(7),d.Vb(),d.Rc(8,W,2,1,"td",43),d.Wb(9,"td"),d.Tc(10),d.Vb(),d.Rc(11,M,2,1,"td",43),d.Rc(12,D,2,1,"td",43),d.Wb(13,"td",44),d.Sb(14,"span",45),d.Vb(),d.Wb(15,"td",46),d.Wb(16,"a",47),d.Sb(17,"i-feather",48),d.Vb(),d.Wb(18,"a",49),d.ic("click",(function(){d.Kc(i);var e=t.$implicit;return d.mc(2).showConfirmModal(e.ticketId)})),d.Sb(19,"i-feather",50),d.Vb(),d.Vb(),d.Vb()}if(2&e){var c=t.$implicit,n=d.mc(2);d.uc("ngClass",c.isActive?"active":"notactive"),d.Cb(2),d.Uc(c.ticketId),d.Cb(2),d.uc("ngClass",n.getTicketStatus(c,c.ticketStatusId)),d.Cb(1),d.Uc(n.getTicketStatus(c,c.ticketStatusId)),d.Cb(2),d.Uc(n.getTicketType(c,c.ticketTypeId)),d.Cb(1),d.uc("ngIf",!n.isAdmin()),d.Cb(2),d.Uc(c.title),d.Cb(1),d.uc("ngIf",n.isAdmin()),d.Cb(1),d.uc("ngIf",n.isAdmin()),d.Cb(2),d.uc("ngClass",n.getTicketPriority(c,c.ticketPriorityId)),d.Cb(2),d.wc("routerLink","/ams/helpdesk/edit-ticket/",c.ticketId,""),d.uc("routerLinkActiveOptions",d.Ac(12,L))}}function P(e,t){1&e&&(d.Wb(0,"div",51),d.Wb(1,"p",52),d.Tc(2,"No Data Available"),d.Vb(),d.Vb())}function A(e,t){if(1&e){var i=d.Xb();d.Wb(0,"div",10),d.Wb(1,"div",11),d.Wb(2,"div",12),d.Wb(3,"h5"),d.Tc(4,"All Tickets "),d.Wb(5,"span",13),d.Tc(6),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"ul",14),d.Wb(8,"li",15),d.Sb(9,"i",16),d.Wb(10,"input",17),d.ic("ngModelChange",(function(e){return d.Kc(i),d.mc().ticketData=e})),d.Vb(),d.Vb(),d.Wb(11,"li",5),d.Wb(12,"a",18),d.Sb(13,"i-feather",19),d.Wb(14,"span"),d.Tc(15,"Print"),d.Vb(),d.Vb(),d.Vb(),d.Wb(16,"li",5),d.Wb(17,"a",20),d.Sb(18,"i-feather",21),d.Wb(19,"span"),d.Tc(20,"Add Ticket"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(21,"div",22),d.Wb(22,"table",23),d.Wb(23,"thead"),d.Wb(24,"tr"),d.Wb(25,"th",24),d.Tc(26," Ticket ID "),d.Wb(27,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc().sortUnitData("ticketId")})),d.Vb(),d.Wb(28,"input",26),d.ic("ngModelChange",(function(e){return d.Kc(i),d.mc().columnField.ticketId=e}))("ngModelChange",(function(){return d.Kc(i),d.mc().selectColInput("ticketId")})),d.Vb(),d.Vb(),d.Wb(29,"th",24),d.Tc(30,"Status "),d.Wb(31,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc().sortUnitData("ticketStatus")})),d.Vb(),d.Wb(32,"app-simple-select-box",27),d.ic("inputChange",(function(e){return d.Kc(i),d.mc().onSelectChange(e,"ticketStatus","lookupValueName")})),d.Vb(),d.Vb(),d.Wb(33,"th",24),d.Tc(34,"Type "),d.Wb(35,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc().sortUnitData("type")})),d.Vb(),d.Wb(36,"app-simple-select-box",28),d.ic("inputChange",(function(e){return d.Kc(i),d.mc().onSelectChange(e,"ticketType","lookupValueName")})),d.Vb(),d.Vb(),d.Rc(37,T,4,4,"th",29),d.Wb(38,"th",24),d.Tc(39,"Subject "),d.Wb(40,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc().sortUnitData("title")})),d.Vb(),d.Wb(41,"input",30),d.ic("ngModelChange",(function(e){return d.Kc(i),d.mc().columnField.title=e}))("ngModelChange",(function(){return d.Kc(i),d.mc().selectColInput("title")})),d.Vb(),d.Vb(),d.Rc(42,V,4,4,"th",29),d.Rc(43,S,4,4,"th",29),d.Wb(44,"th",24),d.Tc(45,"Priority "),d.Wb(46,"span",25),d.ic("click",(function(){return d.Kc(i),d.mc().sortUnitData("ticketPriority")})),d.Vb(),d.Wb(47,"app-simple-select-box",31),d.ic("inputChange",(function(e){return d.Kc(i),d.mc().onSelectChange(e,"ticketPriority","lookupValueName")})),d.Vb(),d.Vb(),d.Wb(48,"th",32),d.Tc(49," Actions "),d.Wb(50,"input",33),d.ic("ngModelChange",(function(e){return d.Kc(i),d.mc().columnField.action=e}))("ngModelChange",(function(){return d.Kc(i),d.mc().selectColInput("action")})),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(51,"tbody"),d.Rc(52,O,20,13,"tr",34),d.nc(53,"columnSearch"),d.nc(54,"simpleSearch"),d.nc(55,"slice"),d.nc(56,"orderBy"),d.Vb(),d.Vb(),d.Rc(57,P,3,0,"div",35),d.Wb(58,"app-pagination",36),d.ic("outputParams",(function(e){return d.Kc(i),d.mc().getIndexParams(e)})),d.Vb(),d.Vb(),d.Vb()}if(2&e){var c=d.mc();d.Cb(6),d.Uc(c.totalItems),d.Cb(4),d.uc("ngModel",c.ticketData),d.Cb(7),d.uc("routerLinkActiveOptions",d.Ac(45,L)),d.Cb(5),d.uc("ngClass",c.isMobileView()),d.Cb(5),d.uc("ngClass",c.getFieldOrderBy("ticketId")),d.Cb(1),d.uc("ngModel",c.columnField.ticketId),d.Cb(3),d.uc("ngClass",c.getFieldOrderBy("ticketStatus")),d.Cb(1),d.uc("fieldModel",c.ticketStatusId)("fieldRequired","required")("fieldList",c.ticketStatusData),d.Cb(3),d.uc("ngClass",c.getFieldOrderBy("type")),d.Cb(1),d.uc("fieldModel",c.ticketTypeId)("fieldRequired","required")("fieldList",c.ticketTypeData),d.Cb(1),d.uc("ngIf",!c.isAdmin()),d.Cb(3),d.uc("ngClass",c.getFieldOrderBy("title")),d.Cb(1),d.uc("ngModel",c.columnField.title),d.Cb(1),d.uc("ngIf",c.isAdmin()),d.Cb(1),d.uc("ngIf",c.isAdmin()),d.Cb(3),d.uc("ngClass",c.getFieldOrderBy("ticketPriority")),d.Cb(1),d.uc("fieldModel",c.ticketPriorityId)("fieldRequired","required")("fieldList",c.ticketPriorityData),d.Cb(3),d.uc("ngModel",c.columnField.action),d.Cb(2),d.uc("ngForOf",d.qc(53,30,d.pc(54,34,d.qc(55,37,d.qc(56,41,c.ticketListData,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.ticketData),c.columnField,c.selectedInput)),d.Cb(5),d.uc("ngIf",c.isNoItemsAvailable()),d.Cb(1),d.uc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}var B=function(){var e=function(){function e(t,i,c,n,a,o,s){_classCallCheck(this,e),this.injector=t,this.userService=i,this.staffService=c,this.ticketService=n,this.lookupService=a,this.sharedService=o,this.cookieService=s,this.ticketData="",this.isTicketDataLoaded=!1,this.slotFieldType="unitno",this.slotData=!1,this.ItemStartIndex=0,this.itemLimit=10,this.ticketStatusData={},this.ticketTypeData={},this.ticketPrivateCategoryData={},this.ticketCommonCategoryData={},this.ticketAssignedToData={},this.ticketPriorityData={},this.ticketType="",this.selectedInput="",this.columnField={},this.modalService=this.injector.get(r.a)}return _createClass(e,[{key:"getTicketStatus",value:function(e,t){var i=l.filter(this.ticketStatusData,(function(e){if(e.lookupValueId===t)return e}));return void 0===i||0==i.length?"":(this.ticketListData.map((function(t){t.ticketId==e.ticketId&&(t.ticketStatus=i[0].lookupValueName.toLowerCase())})),i[0].lookupValueName.toLowerCase())}},{key:"getTicketCategory",value:function(e){var t;return"16"==this.ticketType?void 0===(t=l.filter(this.ticketPrivateCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName:void 0===(t=l.filter(this.ticketCommonCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName}},{key:"getTicketType",value:function(e,t){var i=l.filter(this.ticketTypeData,(function(e){if(e.lookupValueId===t)return e}));return void 0===i||0==i.length?"":(this.ticketListData.map((function(t){t.ticketId==e.ticketId&&(t.ticketType=i[0].lookupValueName)})),i[0].lookupValueName)}},{key:"getTicketAssigned",value:function(e,t){var i=l.filter(this.assignedToData,(function(e){if(e.staffId===t)return e}));return void 0===i||0==i.length?"":(this.ticketListData.map((function(t){t.ticketId==e.ticketId&&(t.assignedToUser=i[0].firstName)})),i[0].firstName)}},{key:"getTicketRequested",value:function(e,t){var i=l.filter(this.raisedByData,(function(e){if(e.userId===t)return e}));return void 0===i||0==i.length?"":(this.ticketListData.map((function(t){t.ticketId==e.ticketId&&(t.raisedByUser=i[0].firstName)})),i[0].firstName)}},{key:"getTicketPriority",value:function(e,t){var i=l.filter(this.ticketPriorityData,(function(e){if(e.lookupValueId===t)return e}));return void 0===i||0==i.length?"":(this.ticketListData.map((function(t){t.ticketId==e.ticketId&&(t.ticketPriority=i[0].lookupValueName.toLowerCase())})),i[0].lookupValueName.toLowerCase())}},{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.slotFieldType=e,this.slotData=!this.slotData}},{key:"getFieldOrderBy",value:function(e){return this.slotFieldType==e?this.slotData?"desc":"asc":""}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"onSelectChange",value:function(e,t,i){l.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[i])}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"isItemsAvailable",value:function(){return this.totalItems>0}},{key:"isNoItemsAvailable",value:function(){return 0==this.totalItems}},{key:"isAdmin",value:function(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}},{key:"ngOnInit",value:function(){var e=this;"Admin"!=this.cookieService.get("userRole")&&"Staff"!=this.cookieService.get("userRole")||this.ticketService.getAllTicketsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.ticketListData=t.filter((function(e){return e.isActive})),e.totalItems=e.ticketListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isTicketDataLoaded=!0}),(function(e){})),"Tenant"!=this.cookieService.get("userRole")&&"Owner"!=this.cookieService.get("userRole")||this.ticketService.getTicketsByRaisedUserId(parseInt(this.cookieService.get("userId"))).subscribe((function(t){e.ticketListData=t.filter((function(e){return e.isActive})),e.totalItems=e.ticketListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isTicketDataLoaded=!0}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(7).subscribe((function(t){e.ticketTypeData=t}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(16).subscribe((function(t){e.ticketPrivateCategoryData=t}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(17).subscribe((function(t){e.ticketCommonCategoryData=t}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(9).subscribe((function(t){e.ticketStatusData=t,e.totalFilterItems[0].data=e.ticketStatusData}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(14).subscribe((function(t){e.ticketPriorityData=t,e.totalFilterItems[1].data=e.ticketPriorityData}),(function(e){})),this.staffService.getAllStaffs().subscribe((function(t){e.assignedToData=t}),(function(e){})),this.userService.getAllUsersByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.raisedByData=t}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var i={ticketId:t,deleteBy:parseInt(e.cookieService.get("userId"))};e.ticketService.deleteTicket(i).subscribe((function(i){l.each(e.ticketListData,(function(e){e.ticketId==t&&(e.isActive=!1)})),setTimeout((function(){e.ticketListData=e.ticketListData.filter((function(e){return e.ticketId!==t})),e.totalItems=e.ticketListData.length,e.sharedService.setAlertMessage("Ticket deleted"),e.sharedService.setUnitListDeleteIndex(null)}),500)}),(function(e){console.log(e)}))}})),this.totalFilterItems=[{label:"Status"},{label:"Priority"}]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Rb(d.r),d.Rb(c.a),d.Rb(n.a),d.Rb(a.a),d.Rb(o.a),d.Rb(s.a),d.Rb(u.a))},e.\u0275cmp=d.Lb({type:e,selectors:[["app-helpdesk-all-tickets"]],decls:4,vars:3,consts:[[1,"helpdesk-all-tickets-wrapper"],[4,"ngIf"],["class","legends list-inline",4,"ngIf"],["class","card clear card-table",4,"ngIf"],[1,"legends","list-inline"],[1,"list-inline-item"],[1,"dots","high"],[1,"dots","medium"],[1,"list-inline-item","mr-0"],[1,"dots","low"],[1,"card","clear","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/helpdesk/add-ticket","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","ticketStatus","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","ticketType","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["scope","col",4,"ngIf"],["type","text","placeholder","Subjet",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","ticketPriority","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],["class","button-wrapper border-top",4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],["fieldName","ticketCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","assignedToUser","fieldText","","fieldItemName","firstName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","raisedByUser","fieldText","","fieldItemName","firstName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],[3,"ngClass"],[1,"badge","small","min","text-capitalize",3,"ngClass"],[1,"grey"],["class","grey",4,"ngIf"],[1,"text-center"],[1,"dots","rt-3",3,"ngClass"],[1,"simple-actions"],["href","javascript:void(0)","routerLinkActive","active",1,"mr-2",3,"routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","trash",1,"icon","delete"],[1,"button-wrapper","border-top"],[1,"snippet"]],template:function(e,t){1&e&&(d.Wb(0,"div",0),d.Rc(1,y,1,0,"app-loader",1),d.Rc(2,I,11,0,"ul",2),d.Rc(3,A,59,46,"div",3),d.Vb()),2&e&&(d.Cb(1),d.uc("ngIf",!t.isTicketDataLoaded),d.Cb(1),d.uc("ngIf",t.isTicketDataLoaded),d.Cb(1),d.uc("ngIf",t.isTicketDataLoaded))},directives:[b.l,m.a,k.c,k.a,f.d,f.n,f.q,p.b,g.e,g.d,k.f,b.j,h.a,b.k,v.a],pipes:[C.a,C.c,b.t,C.b],styles:[""]}),e}()},KrOI:function(e,t,i){"use strict";i.d(t,"a",(function(){return K}));var c=i("fXoL"),n=i("NutR"),a=i("dc4U"),o=i("Buwz"),s=i("ThaB"),r=i("wbvY"),l=i("F/us"),d=i("wd/R"),u=i("tyNb"),b=i("b6Qw"),m=i("ofXK"),k=i("8mtn"),f=i("3Pt+"),p=i("wlDI"),g=i("668k"),h=i("BR9Y");function v(e,t){1&e&&(c.Wb(0,"span"),c.Tc(1,"Add Ticket"),c.Vb())}function C(e,t){1&e&&(c.Wb(0,"span"),c.Tc(1,"Edit Ticket"),c.Vb())}function y(e,t){1&e&&c.Sb(0,"app-loader")}function I(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.lookupValueId),c.Cb(1),c.Uc(i.lookupValueName)}}function T(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div",20),c.Wb(1,"div",21),c.Wb(2,"label"),c.Tc(3,"Status*"),c.Vb(),c.Wb(4,"select",40),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc(2).ticket.ticketStatusId=e})),c.Wb(5,"option",23),c.Tc(6,"Select"),c.Vb(),c.Rc(7,I,2,2,"option",24),c.Vb(),c.Vb(),c.Vb()}if(2&e){var n=c.mc(2);c.Cb(4),c.uc("ngModel",n.ticket.ticketStatusId),c.Cb(3),c.uc("ngForOf",n.statusTypeData)}}function V(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.lookupValueId),c.Cb(1),c.Uc(i.lookupValueName)}}function S(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.lookupValueId),c.Cb(1),c.Uc(i.lookupValueName)}}function W(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div",20),c.Wb(1,"div",21),c.Wb(2,"label"),c.Tc(3,"Category*"),c.Vb(),c.Wb(4,"select",42),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc(2).ticket.ticketCategoryId=e})),c.Wb(5,"option",23),c.Tc(6,"Select"),c.Vb(),c.Rc(7,S,2,2,"option",24),c.Vb(),c.Vb(),c.Vb()}if(2&e){var n=c.mc(2);c.Cb(4),c.uc("ngModel",n.ticket.ticketCategoryId),c.Cb(3),c.uc("ngForOf",n.ticketCategoryData)}}function M(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.lookupValueId),c.Cb(1),c.Uc(i.lookupValueName)}}function D(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.userId),c.Cb(1),c.Uc(i.firstName)}}function L(e,t){if(1&e&&(c.Wb(0,"option",41),c.Tc(1),c.Vb()),2&e){var i=t.$implicit;c.uc("value",i.staffId),c.Cb(1),c.Uc(i.firstName)}}function O(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div",20),c.Wb(1,"div",27),c.Wb(2,"label"),c.Tc(3,"Assigned To*"),c.Vb(),c.Wb(4,"select",43),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc(2).ticket.assignedTo=e})),c.Wb(5,"option",23),c.Tc(6,"Select"),c.Vb(),c.Rc(7,L,2,2,"option",24),c.Vb(),c.Vb(),c.Vb()}if(2&e){var n=c.mc(2);c.Cb(4),c.uc("ngModel",n.ticket.assignedTo),c.Cb(3),c.uc("ngForOf",n.assignedToData)}}function P(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div"),c.Wb(1,"span",45),c.Tc(2),c.Vb(),c.Wb(3,"span",46),c.Tc(4),c.Vb(),c.Wb(5,"i-feather",47),c.ic("click",(function(){c.Kc(i);var e=t.index;return c.mc(3).deleteFile(e)})),c.Vb(),c.Vb()}if(2&e){var n=t.$implicit,a=c.mc(3);c.Cb(2),c.Uc(n.name),c.Cb(2),c.Uc(a.bytesToSize(n.size))}}function A(e,t){if(1&e&&(c.Wb(0,"div",44),c.Rc(1,P,6,2,"div",15),c.Vb()),2&e){var i=c.mc(2);c.Cb(1),c.uc("ngForOf",i.listOfFiles)}}function B(e,t){if(1&e){var i=c.Xb();c.Ub(0),c.Wb(1,"div",18),c.Rc(2,T,8,2,"div",19),c.Wb(3,"div",20),c.Wb(4,"div",21),c.Wb(5,"label"),c.Tc(6,"Type*"),c.Vb(),c.Wb(7,"select",22),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.ticketTypeId=e}))("ngModelChange",(function(){c.Kc(i);var e=c.mc();return e.getTicketType(e.ticket.ticketTypeId)})),c.Wb(8,"option",23),c.Tc(9,"Select"),c.Vb(),c.Rc(10,V,2,2,"option",24),c.Vb(),c.Vb(),c.Vb(),c.Rc(11,W,8,2,"div",19),c.Wb(12,"div",20),c.Wb(13,"div",25),c.Wb(14,"label"),c.Tc(15,"Subject*"),c.Vb(),c.Wb(16,"input",26),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.title=e})),c.Vb(),c.Vb(),c.Vb(),c.Wb(17,"div",20),c.Wb(18,"div",27),c.Wb(19,"label"),c.Tc(20,"Priorty*"),c.Vb(),c.Wb(21,"select",28),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.ticketPriorityId=e})),c.Wb(22,"option",23),c.Tc(23,"Select"),c.Vb(),c.Rc(24,M,2,2,"option",24),c.Vb(),c.Vb(),c.Vb(),c.Wb(25,"div",20),c.Wb(26,"div",27),c.Wb(27,"label"),c.Tc(28,"Requested By*"),c.Vb(),c.Wb(29,"select",29),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.raisedBy=e})),c.Wb(30,"option",23),c.Tc(31,"Select"),c.Vb(),c.Rc(32,D,2,2,"option",24),c.Vb(),c.Vb(),c.Vb(),c.Rc(33,O,8,2,"div",19),c.Wb(34,"div",30),c.Wb(35,"div",25),c.Wb(36,"label"),c.Tc(37,"Description*"),c.Vb(),c.Wb(38,"textarea",31),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.description=e})),c.Vb(),c.Vb(),c.Vb(),c.Wb(39,"div",30),c.Wb(40,"div",25),c.Wb(41,"label",32),c.ic("click",(function(){return c.Kc(i),c.Hc(43).click()})),c.Wb(42,"input",33,34),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticket.file=e}))("change",(function(e){return c.Kc(i),c.mc().uploadFile(e)})),c.Vb(),c.Sb(44,"i",35),c.Tc(45," Add Document"),c.Vb(),c.Rc(46,A,2,1,"div",36),c.Vb(),c.Vb(),c.Wb(47,"div",30),c.Wb(48,"ul",37),c.Wb(49,"li",38),c.Wb(50,"button",39),c.Tc(51,"Submit"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Tb()}if(2&e){var n=c.mc(),a=c.Hc(14);c.Cb(2),c.uc("ngIf",n.isEditTicket&&n.isAdmin()),c.Cb(5),c.uc("ngModel",n.ticket.ticketTypeId),c.Cb(3),c.uc("ngForOf",n.ticketTypeData),c.Cb(1),c.uc("ngIf",n.isCategoryEnabled()),c.Cb(5),c.uc("ngModel",n.ticket.title),c.Cb(5),c.uc("ngModel",n.ticket.ticketPriorityId),c.Cb(3),c.uc("ngForOf",n.priortyTypeData),c.Cb(5),c.uc("ngModel",n.ticket.raisedBy),c.Cb(3),c.uc("ngForOf",n.raisedByData),c.Cb(1),c.uc("ngIf",n.isAdmin()&&n.isEditTicket),c.Cb(5),c.uc("ngModel",n.ticket.description),c.Cb(4),c.uc("ngModel",n.ticket.file),c.Cb(4),c.uc("ngIf",n.isFileAdded),c.Cb(4),c.uc("disabled",a.invalid)}}function R(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div",48),c.Wb(1,"div",12),c.Wb(2,"form",49,50),c.ic("ngSubmit",(function(){c.Kc(i);var e=c.Hc(3);return c.mc().submitCommentForm(e)})),c.Sb(4,"app-alert-message",51),c.Wb(5,"div",18),c.Wb(6,"div",30),c.Wb(7,"div",25),c.Wb(8,"label"),c.Tc(9,"Add Comment"),c.Vb(),c.Wb(10,"textarea",52),c.ic("ngModelChange",(function(e){return c.Kc(i),c.mc().ticketComment=e})),c.Vb(),c.Vb(),c.Wb(11,"button",53),c.Tc(12,"Submit"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()}if(2&e){var n=c.Hc(3),a=c.mc();c.Cb(4),c.uc("message",a.alertCommentMessage)("isError",a.isCommentError)("isSuccess",a.isCommentSuccess),c.Cb(6),c.uc("ngModel",a.ticketComment),c.Cb(1),c.uc("disabled",n.invalid)}}function F(e,t){1&e&&c.Sb(0,"app-loader")}function x(e,t){if(1&e){var i=c.Xb();c.Wb(0,"span",67),c.ic("click",(function(){c.Kc(i);var e=c.mc(2),t=e.$implicit,n=e.index;return c.mc().deleteTicketComment(t.ticketCommentId,n)})),c.Sb(1,"i-feather",68),c.Vb()}}function N(e,t){if(1&e&&(c.Wb(0,"div",55),c.Wb(1,"div",12),c.Wb(2,"li",56),c.Wb(3,"div",57),c.Wb(4,"div",58),c.Sb(5,"img",59),c.Vb(),c.Wb(6,"div",60),c.Wb(7,"div"),c.Wb(8,"h5",61),c.Tc(9),c.Vb(),c.Wb(10,"span",62),c.Tc(11),c.Vb(),c.Wb(12,"div",63),c.Rc(13,x,2,0,"span",64),c.Vb(),c.Vb(),c.Wb(14,"p",65),c.Tc(15),c.Vb(),c.Wb(16,"p",66),c.Tc(17),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&e){var i=c.mc().$implicit,n=c.mc();c.Cb(9),c.Uc(i.userName),c.Cb(2),c.Uc(n.getCommentDate(i.insertedOn)),c.Cb(2),c.uc("ngIf",n.isLoggedUser(i.userId)),c.Cb(2),c.Uc(i.roleName),c.Cb(2),c.Uc(i.comments)}}function w(e,t){if(1&e&&(c.Ub(0),c.Rc(1,N,18,5,"div",54),c.Tb()),2&e){var i=c.mc();c.Cb(1),c.uc("ngIf",i.isTicketCommentLoaded)}}function _(e,t){1&e&&(c.Wb(0,"div",69),c.Wb(1,"li",70),c.Wb(2,"div",57),c.Wb(3,"div",60),c.Wb(4,"h5"),c.Tc(5,"No Comments Available"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb())}var U=function(){return{exact:!0}},K=function(){var e=function(){function e(t,i,n,a,o,s,r,l){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=n,this.ticketService=a,this.staffService=o,this.lookupService=s,this.sharedService=r,this.cookieService=l,this.isEditTicket=!1,this.isTicketSubmitted=!1,this.isTicketAdded=!1,this.isError=!1,this.alertMessage="",this.isCommentError=!1,this.isCommentSuccess=!1,this.alertCommentMessage="",this.isTypeSelected=!1,this.documentName="",this.fileList=[],this.listOfFiles=[],this.isFileAdded=!1,this.isTicketCommentLoaded=!1,this.ticketComment="",this.outputParams=new c.n}return _createClass(e,[{key:"isArrayOne",value:function(){return this.ticketArray.length>1}},{key:"deleteTicket",value:function(){this.ticketArray.splice(this.index,1),this.outputParams.emit(this.ticketArray)}},{key:"isAdmin",value:function(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}},{key:"isCategoryEnabled",value:function(){return!!this.isEditTicket||!!this.isTypeSelected}},{key:"getTicketType",value:function(e){var t=this;this.isTypeSelected=!0,"26"==e?this.lookupService.getLookupValueByLookupTypeId(17).subscribe((function(e){t.ticketCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){})):this.lookupService.getLookupValueByLookupTypeId(16).subscribe((function(e){t.ticketCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){}))}},{key:"uploadFile",value:function(e){this.isFileAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var i=e.target.files[t];this.fileList.push(i),this.listOfFiles.push({name:i.name,size:i.size})}}},{key:"deleteFile",value:function(e){this.listOfFiles.splice(e,1),this.fileList.splice(e,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}},{key:"bytesToSize",value:function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"}},{key:"getCommentDate",value:function(e){return d(e).fromNow()}},{key:"isNoComments",value:function(){return 0==this.ticketCommentsData.length}},{key:"editTicketAgain",value:function(){this.isTicketSubmitted=!1}},{key:"submitTicketForm",value:function(e){var t=this;if(this.isTicketSubmitted=!0,this.isError=!1,this.isEditTicket){var i={ticketId:parseInt(this.route.params.value.id),apartmentId:parseInt(this.cookieService.get("apartmentId")),ticketTypeId:parseInt(this.ticket.ticketTypeId),title:this.ticket.title,description:this.ticket.description,raisedBy:parseInt(this.ticket.raisedBy),ticketStatusId:parseInt(this.ticket.ticketStatusId),ticketCategoryId:parseInt(this.ticket.ticketCategoryId),assignedTo:parseInt(this.ticket.assignedTo),ticketPriorityId:parseInt(this.ticket.ticketPriorityId),isActive:this.ticket.isActive,insertedBy:this.ticket.insertedBy,insertedOn:this.ticket.insertedOn,updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.ticketService.updateTicket(i).subscribe((function(e){t.isTicketSubmitted=!1,e.message?t.sharedService.setAlertMessage("Ticket Updated successfully"):(t.isError=!0,t.alertMessage=e.alertTicketMessage)}),(function(e){}))}else{var c={apartmentId:parseInt(this.cookieService.get("apartmentId")),ticketTypeId:parseInt(this.ticket.ticketTypeId),title:this.ticket.title,description:this.ticket.description,raisedBy:parseInt(this.ticket.raisedBy),ticketStatusId:parseInt(this.ticket.ticketStatusId),ticketCategoryId:parseInt(this.ticket.ticketCategoryId),assignedTo:parseInt(this.ticket.assignedTo),ticketPriorityId:parseInt(this.ticket.ticketPriorityId),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-11T14:50:55.782Z",updatedBy:0,updatedOn:"2019-11-11T14:50:55.782Z"};this.ticketService.addTicket(c).subscribe((function(e){t.isTicketSubmitted=!1,e.message?(t.sharedService.setAlertMessage("Ticket added successfully"),t.isTicketAdded=!0,t.ticketId=e.message):(t.isError=!0,t.alertMessage=e.alertTicketMessage)}),(function(e){}))}}},{key:"deleteTicketComment",value:function(e,t){var i=this;this.isTicketCommentLoaded=!1;var c={ticketCommentId:e,deleteBy:parseInt(this.cookieService.get("userId"))};this.ticketService.deleteTicketComment(c).subscribe((function(e){i.ticketCommentsData.splice(t,1),i.isTicketCommentLoaded=!0}),(function(e){}))}},{key:"submitCommentForm",value:function(e){var t=this,i=new Date,c={ticketId:this.ticketId,comments:this.ticketComment,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:i.toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:i.toISOString()};this.ticketService.addTicketComment(c).subscribe((function(e){e.message?(t.isCommentSuccess=!0,t.alertCommentMessage="Comment added successfully",t.isTicketCommentLoaded=!1,t.ticketService.getAllTicketCommentsByTicketId(t.ticketId).subscribe((function(e){t.isTicketCommentLoaded=!0,t.ticketCommentsData=e.filter((function(e){return e.isActive})),l.each(t.ticketCommentsData,(function(e,i){t.userService.getUserById(t.ticketCommentsData[i].insertedBy).subscribe((function(e){t.ticketCommentsData[i].userName=e[0].firstName+" "+e[0].lastName,t.ticketCommentsData[i].userId=e[0].userId}))}))}))):(t.isCommentError=!0,t.alertCommentMessage=e.message)}),(function(e){}))}},{key:"isLoggedUser",value:function(e){return e==parseInt(this.cookieService.get("userId"))}},{key:"ngOnInit",value:function(){var e=this;console.log(this.ticketArray),this.ticket={},this.ticket.ticketCategoryId="",this.ticket.ticketTypeId="",this.ticket.ticketPriorityId="",this.ticket.ticketStatusId="32",this.ticket.raisedBy="",this.ticket.assignedTo="",this.ticketArray=[],this.ticketCommentsData=[],null!=this.route.params.value.id?(this.isEditTicket=!0,this.isTicketAdded=!0,this.ticketId=this.route.params.value.id,this.ticketService.getTicketById(this.route.params.value.id).subscribe((function(t){e.ticket=t[0],e.getTicketType(e.ticket.ticketTypeId),console.log(e.ticket)}),(function(e){})),this.ticketService.getAllTicketCommentsByTicketId(this.route.params.value.id).subscribe((function(t){e.isTicketCommentLoaded=!0,e.ticketCommentsData=t.filter((function(e){return e.isActive})),l.each(e.ticketCommentsData,(function(t,i){e.userService.getUserById(e.ticketCommentsData[i].insertedBy).subscribe((function(t){e.ticketCommentsData[i].userName=t[0].firstName+" "+t[0].lastName,e.ticketCommentsData[i].userId=t[0].userId}),(function(t){e.isTicketCommentLoaded=!0})),e.userService.getRolesByUserId(e.ticketCommentsData[i].insertedBy).subscribe((function(t){e.ticketCommentsData[i].roleName=void 0===t||0==t.length?"-":t[0].roleName}),(function(e){}))}))}))):(this.isTicketCommentLoaded=!0,this.ticketCommentsData=[]),this.lookupService.getLookupValueByLookupTypeId(7).subscribe((function(t){e.ticketTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(16).subscribe((function(t){e.ticketCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(14).subscribe((function(t){e.priortyTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(9).subscribe((function(t){e.statusTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.userService.getAllUsersByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.raisedByData=t,"Tenant"!=e.cookieService.get("userRole")&&"Owner"!=e.cookieService.get("userRole")||(e.raisedByData=t.filter((function(t){return t.userId==parseInt(e.cookieService.get("userId"))})),e.ticket.raisedBy=e.raisedByData[0].userId)}),(function(e){})),this.staffService.getAllStaffs().subscribe((function(t){e.assignedToData=t}),(function(e){}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Rb(u.c),c.Rb(u.a),c.Rb(n.a),c.Rb(a.a),c.Rb(o.a),c.Rb(s.a),c.Rb(r.a),c.Rb(b.a))},e.\u0275cmp=c.Lb({type:e,selectors:[["app-add-ticket"]],inputs:{index:"index",ticketArray:["array","ticketArray"]},outputs:{outputParams:"outputParams"},decls:24,vars:12,consts:[[1,"helpdesk-add-ticket-wrapper"],[1,"float-left","mt-4"],[4,"ngIf"],[1,"relative-card","float-right"],[1,"relative-icon"],["href","javascript:void(0)","routerLink","/ams/helpdesk/all-tickets","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper"],["name","chevron-left",1,"icon","back"],[1,"d-inline-block"],[1,"card","clear","mb-30"],["name","addTicketForm","novalidate","",3,"ngSubmit"],["addTicketForm","ngForm"],[1,"card-body"],[3,"message","isAlert"],["class","card mb-20",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"card"],["class","card-body comments",4,"ngIf"],[1,"row"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-4"],[1,"select-box"],["name","ticketCategory","id","ticketCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","ticketSubject","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","select-box"],["name","priortyType","id","priortyType","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","raisedBy","id","raisedBy","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","Enter value","name","ticketDescription","required","",3,"ngModel","ngModelChange"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["id","uploader","name","uploader","type","file","multiple","",1,"form-control",3,"ngModel","ngModelChange","change"],["uploader",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],["name","ticketStatus","id","ticketStatus","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["name","ticketType","id","ticketType","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","assignedTo","id","assignedTo","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"file-desp"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"],[1,"card","mb-20"],["name","addCommentForm","novalidate","",3,"ngSubmit"],["addCommentForm","ngForm"],[3,"message","isError","isSuccess"],["placeholder","some text here","name","ticketComment","required","",3,"ngModel","ngModelChange"],[1,"btn","blue","float-right",3,"disabled"],["class","card mt-3 comments",4,"ngIf"],[1,"card","mt-3","comments"],[1,"list-group-item"],[1,"media"],[1,"icon","mr-3"],["src","assets/images/user-icon.svg","width","28"],[1,"media-body"],[1,"mt-0"],[1,"ml-3","date"],[1,"float-right","menus"],[3,"click",4,"ngIf"],[1,"role"],[1,"desp"],[3,"click"],["name","x",1,"icon","del"],[1,"card-body","comments"],[1,"list-group-item","no-comments","no-border"]],template:function(e,t){if(1&e){var i=c.Xb();c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"h5"),c.Rc(3,v,2,0,"span",2),c.Rc(4,C,2,0,"span",2),c.Vb(),c.Vb(),c.Wb(5,"div",3),c.Wb(6,"div",4),c.Wb(7,"a",5),c.Wb(8,"div",6),c.Sb(9,"i-feather",7),c.Vb(),c.Wb(10,"span",8),c.Tc(11,"All Tickets"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(12,"div",9),c.Wb(13,"form",10,11),c.ic("ngSubmit",(function(){c.Kc(i);var e=c.Hc(14);return t.submitTicketForm(e)})),c.Wb(15,"div",12),c.Sb(16,"app-alert-message",13),c.Rc(17,y,1,0,"app-loader",2),c.Rc(18,B,52,14,"ng-container",2),c.Vb(),c.Vb(),c.Vb(),c.Rc(19,R,13,5,"div",14),c.Rc(20,F,1,0,"app-loader",2),c.Rc(21,w,2,1,"ng-container",15),c.Wb(22,"div",16),c.Rc(23,_,6,0,"div",17),c.Vb(),c.Vb()}2&e&&(c.Cb(3),c.uc("ngIf",!t.isEditTicket),c.Cb(1),c.uc("ngIf",t.isEditTicket),c.Cb(3),c.uc("routerLinkActiveOptions",c.Ac(11,U)),c.Cb(9),c.uc("message",t.alertMessage)("isAlert",t.isError),c.Cb(1),c.uc("ngIf",t.isTicketSubmitted),c.Cb(1),c.uc("ngIf",!t.isTicketSubmitted),c.Cb(1),c.uc("ngIf",t.isTicketAdded),c.Cb(1),c.uc("ngIf",!t.isTicketCommentLoaded),c.Cb(1),c.uc("ngForOf",t.ticketCommentsData),c.Cb(2),c.uc("ngIf",t.isNoComments()&&t.isEditTicket))},directives:[m.l,u.e,u.d,k.b,f.B,f.o,f.p,p.a,m.k,g.a,f.y,f.x,f.n,f.q,f.r,f.A,h.a,f.d],styles:[".helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;border:none;background-color:transparent}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative;z-index:100}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{float:left;color:#373946;margin:0 0 6px}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;color:#8391a1;cursor:pointer}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:14px}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .icon.del[_ngcontent-%COMP%]{width:16px}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{color:#373946;transition:all .15s ease}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   p.role[_ngcontent-%COMP%]{background-color:#5cd694;float:left;display:block;padding:0 12px!important;border-radius:18px!important;color:#fff}.helpdesk-add-ticket-wrapper[_ngcontent-%COMP%]   .card.comments[_ngcontent-%COMP%]   li.no-comments[_ngcontent-%COMP%]:before{content:none}"]}),e}()}}]);