(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{cRhG:function(e,r,t){"use strict";t.r(r);var s=t("ofXK"),n=t("tyNb"),o=t("fXoL");let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Qb({type:e,selectors:[["app-profile"]],decls:1,vars:0,template:function(e,r){1&e&&o.Xb(0,"router-outlet")},directives:[n.g],styles:[""]}),e})();var i=t("NutR"),c=t("mfGn"),d=t("wbvY"),p=t("b6Qw"),g=t("1kSV"),u=t("3Pt+");function l(e,r){1&e&&(o.bc(0,"div"),o.bc(1,"div",24),o.Yc(2,"Password Mismatch"),o.ac(),o.ac())}function b(e,r){1&e&&(o.bc(0,"span"),o.Yc(1,"Reset"),o.ac())}function m(e,r){1&e&&(o.bc(0,"span"),o.Xb(1,"div",25),o.ac())}let h=(()=>{class e{constructor(e,r,t,s,n,o){this.router=e,this.route=r,this.userService=t,this.loginCheckService=s,this.sharedService=n,this.cookieService=o,this.userPassword="",this.userConfirmPassword="",this.isPasswordMatch=!1,this.isSubmitted=!0,this.genderType=null}logout(){this.sharedService.logout()}submitResetPasswordForm(e){if(this.isSubmitted=!1,this.userPassword!=this.userConfirmPassword)this.isPasswordMatch=!0;else{let e={userId:parseInt(this.cookieService.get("userId")),password:this.userPassword,updateBy:parseInt(this.cookieService.get("userId"))};this.loginCheckService.changePassword(e).subscribe(e=>{var r={userId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:"string",lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:"string",address1:"string",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:"2019-11-10T09:58:08.934Z",joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:"string",phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:this.user.isApproved,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(r).subscribe(e=>{e.message&&(this.isSubmitted=!0,this.sharedService.setAlertMessage("Password has been reset successfully"),this.router.navigateByUrl("/ams"))})},e=>{})}}clearErrors(){}ngOnInit(){this.userService.getUserById(this.route.params.value.id).subscribe(e=>{this.user=e[0],this.genderType=this.user.genderId.toString()})}}return e.\u0275fac=function(r){return new(r||e)(o.Wb(n.c),o.Wb(n.a),o.Wb(i.a),o.Wb(c.a),o.Wb(d.a),o.Wb(p.a))},e.\u0275cmp=o.Qb({type:e,selectors:[["app-reset-password"]],decls:35,vars:6,consts:[[1,"resetpass-header"],[1,"navbar"],["href","#",1,"navbar-brand"],[1,"container-fluid"],[1,"row"],[1,"col-lg-6","col-md-8","col-sm-12","offset-lg-3","offset-md-2"],[1,"forgotpass-form-wrapper"],[1,"text-center"],[1,"content","card"],[1,"card-body"],["name","resetpassform","novalidate","",3,"ngSubmit"],["resetpassform","ngForm"],[1,"col-sm-12"],[1,"input-box"],[1,"form-group"],["for","loginFormPassword"],["type","password","minlength","6","name","loginFormPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["loginFormPassword","ngModel"],["type","password","minlength","6","name","loginFormConfirmPassword","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["loginFormConfirmPassword","ngModel"],[4,"ngIf"],[1,"submit-box"],[1,"btn","blue","rel",3,"disabled"],[1,"btn","trans-red","ml-3",3,"click"],[1,"input-field-message","error","p-0"],[1,"login-loader"]],template:function(e,r){if(1&e){const e=o.cc();o.bc(0,"div",0),o.bc(1,"nav",1),o.bc(2,"a",2),o.Yc(3,"Clickmycondo"),o.ac(),o.ac(),o.ac(),o.bc(4,"section",3),o.bc(5,"div",4),o.bc(6,"div",5),o.bc(7,"div",6),o.bc(8,"h4",7),o.Yc(9,"Reset Password"),o.ac(),o.bc(10,"div",8),o.bc(11,"div",9),o.bc(12,"form",10,11),o.nc("ngSubmit",(function(){o.Pc(e);const t=o.Mc(13);return r.submitResetPasswordForm(t)})),o.bc(14,"div",4),o.bc(15,"div",12),o.bc(16,"div",13),o.bc(17,"div",14),o.bc(18,"label",15),o.Yc(19,"Password"),o.ac(),o.bc(20,"input",16,17),o.nc("ngModelChange",(function(){return r.clearErrors()}))("ngModelChange",(function(e){return r.userPassword=e})),o.ac(),o.ac(),o.ac(),o.bc(22,"div",13),o.bc(23,"div",14),o.bc(24,"label",15),o.Yc(25,"Confirm Password"),o.ac(),o.bc(26,"input",18,19),o.nc("ngModelChange",(function(){return r.clearErrors()}))("ngModelChange",(function(e){return r.userConfirmPassword=e})),o.ac(),o.ac(),o.Wc(28,l,3,0,"div",20),o.ac(),o.bc(29,"div",21),o.bc(30,"button",22),o.Wc(31,b,2,0,"span",20),o.Wc(32,m,2,0,"span",20),o.ac(),o.bc(33,"div",23),o.nc("click",(function(){return r.logout()})),o.Yc(34,"Logout"),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac(),o.ac()}if(2&e){const e=o.Mc(13);o.Hb(20),o.zc("ngModel",r.userPassword),o.Hb(6),o.zc("ngModel",r.userConfirmPassword),o.Hb(2),o.zc("ngIf",r.isPasswordMatch),o.Hb(2),o.zc("disabled",e.invalid),o.Hb(1),o.zc("ngIf",r.isSubmitted),o.Hb(1),o.zc("ngIf",!r.isSubmitted)}},directives:[g.b,u.z,u.m,u.n,u.d,u.h,u.v,u.l,u.o,s.l],styles:[".resetpass-header[_ngcontent-%COMP%]{position:fixed;width:100%!important;top:0;z-index:1001}.resetpass-header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{padding:15px 15px 12px!important;background-color:#fff;box-shadow:0 0 2px rgba(0,0,0,.2);-moz-box-shadow:0 0 2px rgba(0,0,0,.2);-webkit-box-shadow:0 0 2px rgba(0,0,0,.2)}.resetpass-header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{width:265px;height:50px;background:url(https://senthilkumarcode.github.io/clickmycondo/assets/images/logo-dark.png) no-repeat 0;text-indent:-1000px;margin:0;padding:0}.forgotpass-form-wrapper[_ngcontent-%COMP%]{margin:150px 0 0}.forgotpass-form-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 20px;font-size:2.2rem;padding:0;color:#373946}.forgotpass-form-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea}.forgotpass-form-wrapper[_ngcontent-%COMP%]   .submit-box[_ngcontent-%COMP%]{clear:both;text-align:center;padding:10px 0 0}.forgotpass-form-wrapper[_ngcontent-%COMP%]   .b-login[_ngcontent-%COMP%]{margin:20px 0 0;text-align:center}"]}),e})();var f=t("tIkO");const w=[{path:"",component:a,canActivate:[f.a],children:[{path:"",redirectTo:"resetpassword",pathMatch:"full"},{path:"resetpassword/:id",component:h},{path:"**",redirectTo:"resetpassword",pathMatch:"full"}]}];let v=(()=>{class e{}return e.\u0275mod=o.Ub({type:e}),e.\u0275inj=o.Tb({factory:function(r){return new(r||e)},imports:[[n.f.forChild(w)],n.f]}),e})();var P=t("PCNd"),C=t("sbs8"),M=t("KWPz");t.d(r,"ProfileModule",(function(){return y}));let y=(()=>{class e{}return e.\u0275mod=o.Ub({type:e,bootstrap:[a]}),e.\u0275inj=o.Tb({factory:function(r){return new(r||e)},providers:[f.a],imports:[[s.b,n.f.forChild(w),g.a,C.a,M.b.forRoot(),P.a,v,u.f,u.u]]}),e})()}}]);