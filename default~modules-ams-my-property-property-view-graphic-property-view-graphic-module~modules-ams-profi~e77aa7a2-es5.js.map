{"version":3,"sources":["webpack:///src/app/modules/ams/profile-settings/components/add-property-dialog/add-property-dialog.component.html","webpack:///src/app/modules/ams/profile-settings/components/add-property-dialog/add-property-dialog.component.scss","webpack:///src/app/modules/ams/profile-settings/components/add-property-dialog/add-property-dialog.component.ts"],"names":["AddPropertyDialogComponent","lookupService","apartmentService","facilityService","sessionService","propertyService","assetService","dialogRef","data","propertyTypeList","unitList","facilityList","assetCategoryList","assetSubCategoryList","assetList","assetRawList","addPropertyParam","apartmentId","userId","key","hasOwnProperty","getPropertyType","getLookUpParam","ApartmentId","LookupTypeId","getLookupValueByLookupTypeId","subscribe","resp","error","Number","propertyPoitype","getUnitList","getAssetCategory","getAsset","getFacilityList","getUnitParam","apartmentBlockId","getApartmentBlockUnitByBlockId","getFacilityParam","getApartmentFacilitiesByApartmentId","queryParamBase","lookupTypeId","subCategoryLookupTypeId","getSubcategory","res","filter","id","assetCategory","subCategory","getAllAsset","getAllAssetByApartmentId","assetSubcategoryId","assetSubCategory","push","poiId","unitData","Object","apartmentBlockUnitId","blockUnitId","item","isActive","close","insertedOn","Date","toISOString","updatedOn","addProperty","propertyPoi","addPropertyPoi","message","assignUnitData","updatePropertyPoi","selector","template"],"mappings":"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","file":"default~modules-ams-my-property-property-view-graphic-property-view-graphic-module~modules-ams-profi~e77aa7a2-es5.js","sourcesContent":["export default \"<condo-card>\\n    <div CondoCardHeader>\\n        <div class=\\\"d-flex\\\">\\n            <h4>Add Property</h4>\\n        </div>\\n    </div>\\n    <div CondoCardBody>\\n        <div class=\\\"p-5\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-lg-6 col-md-6 col-sm-6 col-xs-12\\\">\\n                    <div class=\\\"input-box\\\">\\n                        <label>Node Id</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" disabled [ngModel]=\\\"addPropertyParam.nodeId\\\"\\n                            name=\\\"nodeId\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-6 col-md-6 col-sm-6 col-xs-12\\\">\\n                    <div class=\\\"input-box\\\">\\n                        <label>POI Id</label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" disabled [ngModel]=\\\"addPropertyParam.propertyPoiid\\\"\\n                            name=\\\"propertyPoiid\\\">\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3 \\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Property Type</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.propertyPoitype\\\" (change)=\\\"selectPropertyType()\\\"\\n                            name=\\\"propertyPoitype\\\" class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of propertyTypeList\\\" value=\\\"{{item.lookupValueId}}\\\">\\n                                {{item.lookupValueName}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\"\\n                    *ngIf=\\\"addPropertyParam.propertyPoitype == 318\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Units</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.blockUnitId\\\" name=\\\"blockUnitId\\\" class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of unitList\\\" value=\\\"{{item.apartmentBlockUnitId}}\\\">\\n                                {{item.apartmentBlockUnitNumber}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\"\\n                    *ngIf=\\\"addPropertyParam.propertyPoitype == 320\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Facility Type</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.facilityId\\\" name=\\\"facilityId\\\" class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of facilityList\\\" value=\\\"{{item.apartmentFacilityId}}\\\">\\n                                {{item.facilityName}}\\n                            </option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\"\\n                    *ngIf=\\\"addPropertyParam.propertyPoitype == 319\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Asset Category</label>\\n                        <select [(ngModel)]=\\\"assetCategory\\\" name=\\\"assetCategory\\\" (change)=\\\"getAssetSubCategory()\\\"\\n                            class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of assetCategoryList\\\" value=\\\"{{item.id}}\\\">{{item.name}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\"\\n                    *ngIf=\\\"addPropertyParam.propertyPoitype == 319 && assetCategory\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Asset Sub Category</label>\\n                        <select [(ngModel)]=\\\"assetSubCategory\\\" name=\\\"assetSubCategory\\\" (change)=\\\"selectAsset()\\\"\\n                            class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of assetSubCategoryList\\\" value=\\\"{{item.id}}\\\">{{item.name}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\"\\n                    *ngIf=\\\"addPropertyParam.propertyPoitype == 319 && assetCategory && assetSubCategory\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Asset</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.assetId\\\" name=\\\"assetId\\\" class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                            <option *ngFor=\\\"let item of assetList\\\" value=\\\"{{item.assetId}}\\\">{{item.assetName}}</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\" *ngIf=\\\"false\\\" >\\n                    <div class=\\\"select-box\\\">\\n                        <label>Infrastrcuture</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.infrastructureId\\\" name=\\\"infrastructureId\\\"\\n                            class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                        </select>\\n                    </div>\\n                </div>\\n                <div class=\\\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt-3\\\" *ngIf=\\\"false\\\">\\n                    <div class=\\\"select-box\\\">\\n                        <label>Operational Maintanance</label>\\n                        <select [(ngModel)]=\\\"addPropertyParam.opMaintenanceId\\\" name=\\\"opMaintenanceId\\\"\\n                            class=\\\"form-control\\\">\\n                            <option value=\\\"\\\" disabled selected hidden>Select</option>\\n                        </select>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-md-12 d-flex justify-content-end mt-3\\\">\\n                    <button mat-flat-button mat-dialog-close>Cancel</button>\\n                    <button mat-flat-button [color]=\\\"'primary'\\\" (click)=\\\"addProperty()\\\">Submit</button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</condo-card>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL3Byb2ZpbGUtc2V0dGluZ3MvY29tcG9uZW50cy9hZGQtcHJvcGVydHktZGlhbG9nL2FkZC1wcm9wZXJ0eS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { CookieService } from 'ngx-cookie-service';\nimport { ApartmentService } from 'src/app/api/controllers/Apartment';\nimport { FacilityService } from 'src/app/api/controllers/Facility';\nimport { PropertyManagerService } from 'src/app/api/controllers/PropertyManager';\nimport { AssetService } from 'src/app/api/controllers/Asset';\nimport { SessionService } from 'src/app/core/session/session.service';\n\n@Component({\n  selector: 'app-add-property-dialog',\n  templateUrl: './add-property-dialog.component.html',\n  styleUrls: ['./add-property-dialog.component.scss']\n})\nexport class AddPropertyDialogComponent implements OnInit {\n\n  public propertyTypeList: Array<any> = [];\n  public unitList: Array<any> = [];\n  public facilityList: Array<any> = [];\n  public assetCategoryList: Array<any> = [];\n  public assetSubCategoryList: Array<any> = [];\n  public assetList: Array<any> = [];\n  public assetRawList: Array<any> = [];\n  public assetCategory: any;\n  public assetSubCategory: any;\n  public addPropertyParam = {\n    \"propertyPoiid\": 0,\n    \"propertyPoitype\": 0,\n    \"nodeId\": 0,\n    \"x\": 0,\n    \"y\": 0,\n    \"id\": 0,\n    \"blockUnitId\": 0,\n    \"assetId\": null,\n    \"facilityId\": null,\n    \"infrastructureId\": null,\n    \"opMaintenanceId\": null,\n    \"apartmentId\": this.sessionService.apartmentId,\n    \"isActive\": true,\n    \"insertedBy\": this.sessionService.userId,\n    \"insertedOn\": \"2020-07-06T14:48:10.120Z\",\n    \"updatedBy\": this.sessionService.userId,\n    \"updatedOn\": \"2020-07-06T14:48:10.120Z\"\n  }\n  constructor(\n    private lookupService: LookupService,\n    private apartmentService: ApartmentService,\n    private facilityService: FacilityService,\n    private sessionService: SessionService,\n    private propertyService: PropertyManagerService,\n    private assetService: AssetService,\n    public dialogRef: MatDialogRef<AddPropertyDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) public data: any) {\n    for (const key in this.data) {\n      if(this.addPropertyParam.hasOwnProperty(key)){\n        this.addPropertyParam[key] = this.data[key];\n      }\n    }\n  }\n\n  ngOnInit(): void {\n    this.getPropertyType();\n  }\n\n\n\n  getPropertyType() {\n    let getLookUpParam = {\n      ApartmentId: this.sessionService.apartmentId,\n      LookupTypeId: 196\n    }\n    this.lookupService.getLookupValueByLookupTypeId(getLookUpParam).subscribe(\n      (resp: any) => {\n        this.propertyTypeList = resp;\n      },\n      error => {\n\n      }\n    )\n  }\n\n  selectPropertyType() {\n    switch (Number(this.addPropertyParam.propertyPoitype)) {\n      case 316:\n\n        break;\n      case 318:\n        this.getUnitList();\n        break;\n      case 319:\n        this.getAssetCategory();\n        this.getAsset();\n        break;\n      case 320:\n        this.getFacilityList();\n        break;\n      case 321:\n\n        break;\n      case 322:\n\n        break;\n\n\n      default:\n        break;\n    }\n  }\n\n  getUnitList() {\n    let getUnitParam = {\n      apartmentBlockId: this.data.apartmentBlockId\n    }\n    this.apartmentService.getApartmentBlockUnitByBlockId(getUnitParam).subscribe(\n      (resp: any) => {\n        this.unitList = resp;\n      }\n    )\n  }\n\n  getFacilityList() {\n    let getFacilityParam = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    this.facilityService.getApartmentFacilitiesByApartmentId(getFacilityParam).subscribe(\n      (resp: any) => {\n        this.facilityList = resp;\n      }\n    )\n  }\n\n  getAssetCategory() {\n    let queryParamBase = {\n      apartmentId: this.sessionService.apartmentId,\n      lookupTypeId: 19,\n      subCategoryLookupTypeId: 68,\n    };\n    this.lookupService.getSubcategory(queryParamBase).subscribe((res: any) => {\n      if (res) {\n        this.assetCategoryList = res ? res : [];\n      }\n    });\n  }\n\n  getAssetSubCategory() {\n    this.assetCategoryList.filter(key => {\n      if (key.id == this.assetCategory) {\n        this.assetSubCategoryList = key.subCategory;\n      }\n    })\n  }\n\n  getAsset() {\n    let getAllAsset = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    this.assetService.getAllAssetByApartmentId(getAllAsset).subscribe(\n      (resp: any) => {\n        this.assetRawList = resp;\n      }\n    )\n  }\n\n  selectAsset() {\n    this.assetRawList.filter(key => {\n      if (key.assetSubcategoryId == this.assetSubCategory) {\n        this.assetList.push(key);\n      }\n    })\n  }\n\n  assignUnitData(poiId){\n    let unitData:any = new Object();\n    unitData['type'] = \"318\";\n    unitData['poiId'] = poiId;\n    this.unitList.filter(key =>{\n      if(key.apartmentBlockUnitId == this.addPropertyParam.blockUnitId){\n        for (const item in key) {\n          if(key[item] === true && key[item] != null){\n            unitData[item] = item;\n          }\n        }\n      }\n    })\n    delete unitData.isActive;\n    this.dialogRef.close(unitData);\n  }\n\n  addProperty() {\n    this.addPropertyParam.insertedOn = new Date().toISOString();\n    this.addPropertyParam.updatedOn = new Date().toISOString();\n    this.addPropertyParam.blockUnitId = Number(this.addPropertyParam.blockUnitId);\n    this.addPropertyParam.propertyPoitype = Number(this.addPropertyParam.propertyPoitype);\n    let addProperty = {\n      propertyPoi: this.addPropertyParam\n    }\n    this.propertyService.addPropertyPoi(addProperty).subscribe(\n      (resp:any) => {\n        if(resp && resp.message){\n          switch (this.addPropertyParam.propertyPoitype) {\n            case 316:\n      \n              break;\n            case 318:\n              this.assignUnitData(resp.message);\n              break;\n            case 319:\n             \n              break;\n            case 320:\n              break;\n            case 321:\n      \n              break;\n            case 322:\n      \n              break;\n      \n      \n            default:\n              break;\n          }\n        }\n      }\n    )\n  }\n\n  updateProperty() {\n    this.addPropertyParam.updatedOn = new Date().toISOString();\n    let addProperty = {\n      propertyPoi: this.addPropertyParam\n    }\n    this.propertyService.updatePropertyPoi(addProperty).subscribe(\n      resp => {\n\n      }\n    )\n  }\n\n}\n"]}