function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var c=t[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"5vRx":function(e,t,i){"use strict";i.r(t);var c=i("ofXK"),n=i("tyNb"),a=i("fXoL"),r=i("NutR"),o=i("GSkp"),s=i("ThaB"),d=i("wbvY"),l=i("Yt4J"),u=i("b6Qw"),h=i("wlDI"),p=i("668k"),f=i("3Pt+"),m=i("BR9Y");function g(e,t){1&e&&(a.ic(0,"span"),a.fd(1,"Add User"),a.hc())}function v(e,t){1&e&&(a.ic(0,"span"),a.fd(1,"Edit User"),a.hc())}function b(e,t){1&e&&a.ec(0,"app-loader")}function y(e,t){if(1&e){var i=a.jc();a.ic(0,"div",9),a.ic(1,"div",10),a.ic(2,"label"),a.fd(3,"Password*"),a.hc(),a.ic(4,"input",50),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc(2).user.password=e})),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc(2);a.Ob(4),a.Gc("ngModel",c.user.password)}}function I(e,t){if(1&e&&(a.ic(0,"option",51),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function O(e,t){if(1&e&&(a.ic(0,"option",51),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockUnitId),a.Ob(1),a.gd(i.apartmentBlockUnitNumber)}}function k(e,t){if(1&e){var i=a.jc();a.ic(0,"div",9),a.ic(1,"div",14),a.ic(2,"label"),a.fd(3,"Unit No*"),a.hc(),a.ic(4,"select",52),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc(2).apartmentBlockUnitId=e})),a.ic(5,"option",16),a.fd(6,"Select"),a.hc(),a.dd(7,O,2,2,"option",17),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc(2);a.Ob(4),a.Gc("ngModel",c.apartmentBlockUnitId),a.Ob(3),a.Gc("ngForOf",c.unitData)}}function U(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"form",6,7),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(2);return a.yc().submitAddResidentForm(e)})),a.ic(3,"div",8),a.ic(4,"div",9),a.ic(5,"div",10),a.ic(6,"label"),a.fd(7,"First Name*"),a.hc(),a.ic(8,"input",11),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.firstName=e})),a.hc(),a.hc(),a.hc(),a.ic(9,"div",9),a.ic(10,"div",10),a.ic(11,"label"),a.fd(12,"Last Name*"),a.hc(),a.ic(13,"input",12),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.lastName=e})),a.hc(),a.hc(),a.hc(),a.dd(14,y,5,1,"div",13),a.ic(15,"div",9),a.ic(16,"div",14),a.ic(17,"label"),a.fd(18,"Block No*"),a.hc(),a.ic(19,"select",15),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().apartmentBlockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getUnits()})),a.ic(20,"option",16),a.fd(21,"Select"),a.hc(),a.dd(22,I,2,2,"option",17),a.hc(),a.hc(),a.hc(),a.dd(23,k,8,2,"div",13),a.ic(24,"div",9),a.ic(25,"div",10),a.ic(26,"label"),a.fd(27,"Phone/Mobile*"),a.hc(),a.ic(28,"input",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.phoneNumber=e})),a.hc(),a.hc(),a.hc(),a.ic(29,"div",9),a.ic(30,"div",10),a.ic(31,"label"),a.fd(32,"Email*"),a.hc(),a.ic(33,"input",19),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.emailId=e})),a.hc(),a.hc(),a.hc(),a.ic(34,"div",9),a.ic(35,"div",20),a.ic(36,"label"),a.fd(37,"User Type*"),a.hc(),a.ic(38,"div",21),a.ic(39,"input",22),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userType=e})),a.hc(),a.ic(40,"label",23),a.fd(41,"Admin"),a.hc(),a.hc(),a.ic(42,"div",21),a.ic(43,"input",24),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userType=e})),a.hc(),a.ic(44,"label",25),a.fd(45,"Owner"),a.hc(),a.hc(),a.ic(46,"div",21),a.ic(47,"input",26),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userType=e})),a.hc(),a.ic(48,"label",27),a.fd(49,"Tenant"),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(50,"div",9),a.ic(51,"div",20),a.ic(52,"label"),a.fd(53,"Gender*"),a.hc(),a.ic(54,"div",21),a.ic(55,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().genderType=e})),a.hc(),a.ic(56,"label",29),a.fd(57,"Male"),a.hc(),a.hc(),a.ic(58,"div",21),a.ic(59,"input",30),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().genderType=e})),a.hc(),a.ic(60,"label",31),a.fd(61,"Female"),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(62,"div",9),a.ic(63,"div",32),a.ic(64,"label"),a.fd(65,"Notification"),a.hc(),a.ic(66,"div",33),a.ic(67,"div",34),a.ic(68,"input",35),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.isEmailNotify=e})),a.hc(),a.ic(69,"label",36),a.fd(70,"Email"),a.hc(),a.hc(),a.ic(71,"div",34),a.ic(72,"input",37),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.isSmsNotify=e})),a.hc(),a.ic(73,"label",38),a.fd(74,"SMS"),a.hc(),a.hc(),a.ic(75,"div",39),a.ic(76,"input",40),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().user.isFlashNotify=e})),a.hc(),a.ic(77,"label",41),a.fd(78,"Flash Notice"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(79,"div",9),a.ic(80,"div",20),a.ic(81,"label"),a.fd(82,"Is Primary Contact"),a.hc(),a.ic(83,"div",21),a.ic(84,"input",42),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().isPrimary=e})),a.hc(),a.ic(85,"label",43),a.fd(86,"Yes"),a.hc(),a.hc(),a.ic(87,"div",21),a.ic(88,"input",44),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().isPrimary=e})),a.hc(),a.ic(89,"label",45),a.fd(90,"No"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(91,"div",8),a.ic(92,"div",46),a.ic(93,"ul",47),a.ic(94,"li",48),a.ic(95,"button",49),a.fd(96,"Submit"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.Tc(2),n=a.yc();a.Ob(8),a.Gc("ngModel",n.user.firstName),a.Ob(5),a.Gc("ngModel",n.user.lastName),a.Ob(1),a.Gc("ngIf",!n.isEditUser),a.Ob(5),a.Gc("ngModel",n.apartmentBlockId),a.Ob(3),a.Gc("ngForOf",n.blocksData),a.Ob(1),a.Gc("ngIf",n.isBlockSelected),a.Ob(5),a.Gc("ngModel",n.user.phoneNumber),a.Ob(5),a.Gc("ngModel",n.user.emailId),a.Ob(6),a.Gc("ngModel",n.userType),a.Ob(4),a.Gc("ngModel",n.userType),a.Ob(4),a.Gc("ngModel",n.userType),a.Ob(8),a.Gc("ngModel",n.genderType),a.Ob(4),a.Gc("ngModel",n.genderType),a.Ob(9),a.Gc("ngModel",n.user.isEmailNotify),a.Ob(4),a.Gc("ngModel",n.user.isSmsNotify),a.Ob(4),a.Gc("ngModel",n.user.isFlashNotify),a.Ob(8),a.Gc("ngModel",n.isPrimary),a.Ob(4),a.Gc("ngModel",n.isPrimary),a.Ob(7),a.Gc("disabled",c.invalid)}}var C,M=((C=function(){function e(t,i,c,n,r,o,s,d){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=c,this.emailSendService=n,this.apartmentService=r,this.lookupService=o,this.sharedService=s,this.cookieService=d,this.userType=null,this.genderType=null,this.apartmentBlockId="",this.apartmentBlockUnitId="",this.isEditUser=!1,this.isBlockSelected=!1,this.isUserSubmitted=!1,this.isError=!1,this.errorMessage="",this.outputParams=new a.q}return _createClass(e,[{key:"isArrayOne",value:function(){return this.residentArray.length>1}},{key:"deleteResident",value:function(){this.residentArray.splice(this.index,1),this.outputParams.emit(this.residentArray)}},{key:"getUnits",value:function(){var e=this;this.apartmentService.getApartmentBlockUnitByBlockId(parseInt(this.apartmentBlockId)).subscribe((function(t){e.isBlockSelected=!0,e.unitData=t,e.isEditUser&&(e.apartmentBlockUnitId=t[0].apartmentBlockUnitId.toString())}),(function(e){console.log(e)}))}},{key:"submitAddResidentForm",value:function(e){var t=this;if(this.isUserSubmitted=!0,this.isError=!1,this.isEditUser){var i={userId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:this.user.middleName,lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:this.user.salt,address1:this.user.address1,address2:this.user.address2,city:this.user.city,state:this.user.state,country:this.user.country,zipCode:this.user.zipCode,genderId:parseInt(this.genderType),dob:this.user.dob,joinedOn:this.user.joinedOn,bloodGroup:this.user.bloodGroup,phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:this.user.emergencyContactNumber,emergencyContactPerson:this.user.emergencyContactPerson,emergencyContactNumberSecondary:this.user.emergencyContactNumberSecondary,emergencyContactPersonSecondary:this.user.emergencyContactPersonSecondary,accessCardNumber:this.user.accessCardNumber,notes:this.user.notes,profilePictureId:null,isLiving:!0,isActive:!0,isApproved:this.user.isApproved,resetPassword:this.user.resetPassword,insertedBy:this.user.insertedBy,updatedBy:parseInt(this.cookieService.get("userId")),isDocSubmitted:this.user.isDocSubmitted,readyForApproval:this.user.readyForApproval};this.userService.UpdateUser(i).subscribe((function(e){if(e.message){var i=e.message,c={userId:i,roleId:parseInt(t.userType),isActive:t.user.isActive,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:t.user.insertedOn,updatedBy:t.user.updatedBy,updatedOn:t.user.updatedOn};t.userService.addUserRole(c).subscribe((function(e){var c={apartmentBlockUnitId:parseInt(t.apartmentBlockUnitId),userId:i,userTypeId:parseInt(t.userType),isActive:t.user.isActive,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:t.user.insertedOn,updatedBy:t.user.updatedBy,updatedOn:t.user.updatedOn};t.apartmentService.addApartmentBlockUnitUser(c).subscribe((function(e){t.isUserSubmitted=!1,e.message?(t.sharedService.setAlertMessage("User updated successfully"),t.router.navigate(["ams/unit&users/unapproved"])):(t.isError=!0,t.errorMessage=e.errorMessage)}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))}else t.isUserSubmitted=!1,t.isError=!0,t.errorMessage=e.errorMessage}),(function(e){}))}else{var c={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.user.firstName,middleName:"",lastName:this.user.lastName,emailId:this.user.emailId,password:this.user.password,salt:"",address1:"",address2:"",city:"",state:"",country:"",zipCode:"",genderId:parseInt(this.genderType),dob:"2019-11-10T09:58:08.934Z",joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:"",phoneNumber:this.user.phoneNumber.toString(),emergencyContactNumber:"",emergencyContactPerson:"",emergencyContactNumberSecondary:"",emergencyContactPersonSecondary:"",accessCardNumber:"",notes:"",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!1,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0,isDocSubmitted:!0,readyForApproval:!0};this.userService.addUser(c).subscribe((function(e){if(e.message){var i=e.message,c={userId:i,roleId:parseInt(t.userType),isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};t.userService.addUserRole(c).subscribe((function(e){var c={apartmentBlockUnitId:parseInt(t.apartmentBlockUnitId),userId:i,userTypeId:parseInt(t.userType),isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-10T10:38:46.060Z",updatedBy:0,updatedOn:"2019-11-10T10:38:46.060Z"};t.apartmentService.addApartmentBlockUnitUser(c).subscribe((function(e){t.isUserSubmitted=!1,e.message?t.emailSendService.SendEmail({emailAddress:t.user.emailId,Name:t.user.firstName,Subject:"User Created",TextMessage:"User Created"}).subscribe((function(e){t.sharedService.setAlertMessage("Account has been created. User notified via Email "),t.router.navigate(["ams/unit&users/unapproved"])}),(function(e){console.log(e)})):(t.isError=!0,t.errorMessage=e.errorMessage)}),(function(e){console.log(e)}))}),(function(e){console.log(e)}))}else t.isUserSubmitted=!1,t.isError=!0,t.errorMessage=e.errorMessage}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;this.user={},this.user.isEmailNotify=!0,this.apartmentService.getApartmentBlockByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.blocksData=t})),null!=this.route.params.value.id&&(this.isEditUser=!0,this.userService.getUserById(this.route.params.value.id).subscribe((function(t){e.user=t[0],e.genderType=e.user.genderId.toString(),e.userService.getRolesByUserId(e.route.params.value.id).subscribe((function(t){e.userType=t[0].roleId.toString()}),(function(e){})),e.apartmentService.getApartmentBlockByUserId(e.route.params.value.id).subscribe((function(t){e.apartmentBlockId=t[0].apartmentBlockId.toString(),e.getUnits()}),(function(e){}))}),(function(e){})))}}]),e}()).\u0275fac=function(e){return new(e||C)(a.dc(n.c),a.dc(n.a),a.dc(r.a),a.dc(o.a),a.dc(l.a),a.dc(s.a),a.dc(d.a),a.dc(u.a))},C.\u0275cmp=a.Xb({type:C,selectors:[["app-add-resident"]],inputs:{index:"index",residentArray:["array","residentArray"]},outputs:{outputParams:"outputParams"},decls:9,vars:6,consts:[[1,"add-resident-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","clear","mb-30"],[1,"card-body"],[3,"message","isAlert"],["name","addResidentForm","novalidate","",3,"ngSubmit"],["addResidentForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],[1,"select-box"],["name","blockNo","id","blockNo","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","number","OnlyNumber","true","placeholder","Enter value","name","phoneNo",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","email","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","userType","id","admin","value","1","type","radio","required","",3,"ngModel","ngModelChange"],["for","admin",1,"radio-inline"],["name","userType","id","owner","value","4","type","radio","required","",3,"ngModel","ngModelChange"],["for","owner",1,"radio-inline"],["name","userType","id","tenant","value","2","type","radio","required","",3,"ngModel","ngModelChange"],["for","tenant",1,"radio-inline"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],[1,"input-box","d-inline-block","oh"],[1,"form-group","checker-group"],[1,"form-check","recur-check","float-left","mr-4"],["type","checkbox","id","emailNotify","name","emailNotify","disabled","true",1,"form-check-input",3,"ngModel","ngModelChange"],["for","emailNotify",1,"form-check-label","tiny"],["type","checkbox","id","smsNotify","name","smsNotify",1,"form-check-input",3,"ngModel","ngModelChange"],["for","smsNotify",1,"form-check-label","tiny"],[1,"form-check","recur-check","float-left"],["type","checkbox","id","flashNotify","name","flashNotify",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flashNotify",1,"form-check-label","tiny"],["name","isPrimary","id","yesPrimary","value","Yes","type","radio","required","",3,"ngModel","ngModelChange"],["for","yesPrimary",1,"radio-inline"],["name","isPrimary","id","NoPrimary","value","No","type","radio","required","",3,"ngModel","ngModelChange"],["for","NoPrimary",1,"radio-inline"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["name","unitNo","id","unitNo","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.ic(1,"h5",1),a.dd(2,g,2,0,"span",2),a.dd(3,v,2,0,"span",2),a.hc(),a.ic(4,"div",3),a.ic(5,"div",4),a.ec(6,"app-alert-message",5),a.dd(7,b,1,0,"app-loader",2),a.dd(8,U,97,19,"ng-container",2),a.hc(),a.hc(),a.hc()),2&e&&(a.Ob(2),a.Gc("ngIf",!t.isEditUser),a.Ob(1),a.Gc("ngIf",t.isEditUser),a.Ob(3),a.Gc("message",t.errorMessage)("isAlert",t.isError),a.Ob(1),a.Gc("ngIf",t.isUserSubmitted),a.Ob(1),a.Gc("ngIf",!t.isUserSubmitted))},directives:[c.l,h.a,p.a,f.B,f.o,f.p,m.a,f.d,f.x,f.n,f.q,f.y,f.r,f.A,c.k,f.s,m.b,f.u,f.a],styles:[""]}),C),N=["addUnitForm"];function D(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"app-add-resident",2),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getResidentArray(e)})),a.hc(),a.fc()}if(2&e){var c=t.index,n=a.yc();a.Ob(1),a.Gc("index",c)("array",n.residentArray)}}var S,B=((S=function(){function e(t,i){_classCallCheck(this,e),this.router=t,this.route=i,this.residentCount=1,this.isEditUser=!1}return _createClass(e,[{key:"addResident",value:function(){this.residentCount++,this.residentArray=Array(this.residentCount).fill(0).map((function(e,t){return t}))}},{key:"getResidentArray",value:function(e){this.residentArray=e,this.residentCount=this.residentArray.length}},{key:"isMobileView",value:function(){return window.innerWidth<=576}},{key:"ngOnInit",value:function(){null!=this.route.params.value.id&&(this.isEditUser=!0),this.residentArray=Array(this.residentCount).fill(0).map((function(e,t){return t}))}}]),e}()).\u0275fac=function(e){return new(e||S)(a.dc(n.c),a.dc(n.a))},S.\u0275cmp=a.Xb({type:S,selectors:[["app-add-users"]],viewQuery:function(e,t){var i;1&e&&a.ld(N,!0),2&e&&a.Sc(i=a.vc())&&(t.addUnitForm=i.first)},decls:2,vars:1,consts:[[1,"add-users-wrapper"],[4,"ngFor","ngForOf"],[3,"index","array","outputParams"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,D,2,2,"ng-container",1),a.hc()),2&e&&(a.Ob(1),a.Gc("ngForOf",t.residentArray))},directives:[c.k,M],styles:[""]}),S),L=i("JK/P"),P=i("F/us"),x=i("0IaG"),A=i("8mtn"),G=i("NhFE"),w=i("1kSV"),F=i("ZDX8"),W=i("bvAq"),_=["viewUnapprovedUserRef"];function T(e,t){1&e&&a.ec(0,"app-loader")}function R(e,t){1&e&&(a.ic(0,"div",19),a.ic(1,"p"),a.fd(2,"You can send customized form to users for approving and onboarding the users in clickmycondo application"),a.hc(),a.ic(3,"a",20),a.ic(4,"span"),a.fd(5,"Customize Approval Email"),a.hc(),a.hc(),a.hc())}function E(e,t){if(1&e&&(a.ic(0,"div",67),a.ic(1,"ul"),a.ic(2,"li"),a.ic(3,"h6"),a.fd(4,"Status/Notes"),a.hc(),a.ic(5,"small"),a.fd(6),a.hc(),a.hc(),a.ic(7,"li"),a.ic(8,"h6"),a.fd(9,"Owner/Tenant"),a.hc(),a.ic(10,"small"),a.fd(11),a.hc(),a.hc(),a.hc(),a.hc()),2&e){var i=a.yc(),c=i.$implicit,n=i.index,r=a.yc(2);a.Ob(6),a.gd(r.getNotes(c.apartmentBlockUnit)),a.Ob(5),a.gd(r.getUserRole(c.userRole,n))}}function V(e,t){if(1&e){var i=a.jc();a.ic(0,"tr",54),a.ic(1,"td",55),a.ic(2,"div",36),a.ic(3,"div",37),a.ic(4,"input",56),a.uc("ngModelChange",(function(e){return a.Wc(i),t.$implicit.checked=e}))("ngModelChange",(function(){a.Wc(i);var e=t.$implicit;return a.yc(2).getSelectedUnapprovedUser(e)})),a.hc(),a.ec(5,"label",57),a.hc(),a.hc(),a.hc(),a.ic(6,"td",58),a.ic(7,"a",59),a.fd(8),a.hc(),a.dd(9,E,12,2,"ng-template",null,60,a.ed),a.hc(),a.ic(11,"td",61),a.fd(12),a.hc(),a.ic(13,"td",61),a.fd(14),a.hc(),a.ic(15,"td",61),a.fd(16),a.hc(),a.ic(17,"td",61),a.fd(18),a.hc(),a.ic(19,"td",62),a.ic(20,"a",63),a.uc("click",(function(){a.Wc(i);var e=t.$implicit;return a.yc(2).viewUserInfo(e.id)})),a.ec(21,"i-feather",64),a.hc(),a.ic(22,"a",65),a.uc("click",(function(){a.Wc(i);var e=t.index;return a.yc(2).showConfirmModal(e)})),a.ec(23,"i-feather",66),a.hc(),a.hc(),a.hc()}if(2&e){var c=t.$implicit,n=t.index,r=a.Tc(10),o=a.yc(2);a.Gc("ngClass",c.checked?"selected":""),a.Ob(4),a.Hc("id",c.id),a.Hc("name",c.id),a.Gc("ngModel",c.checked),a.Ob(1),a.Hc("for",c.id),a.Ob(2),a.Gc("ngbPopover",r),a.Ob(1),a.hd(" ",c.name,""),a.Ob(4),a.gd(c.phone),a.Ob(2),a.gd(c.email),a.Ob(2),a.gd(o.getBlockNo(c.apartmentBlockUnit,n)),a.Ob(2),a.gd(o.getBlockUnitNo(c.apartmentBlockUnit,n))}}var j=function(){return{exact:!0}};function z(e,t){if(1&e){var i=a.jc();a.ic(0,"div",21),a.ic(1,"div",12),a.ic(2,"div",7),a.ic(3,"h5"),a.fd(4,"Unapproved Users "),a.ic(5,"span",22),a.fd(6),a.hc(),a.hc(),a.ic(7,"p",23),a.fd(8,"Edit, View and approve documents"),a.hc(),a.hc(),a.ic(9,"ul",24),a.ic(10,"li",25),a.ec(11,"i",26),a.ic(12,"input",27),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().unitData=e})),a.hc(),a.hc(),a.ic(13,"li",28),a.ic(14,"a",29),a.ec(15,"i-feather",30),a.ic(16,"span"),a.fd(17,"Print"),a.hc(),a.hc(),a.hc(),a.ic(18,"li",28),a.ic(19,"a",31),a.ec(20,"i-feather",32),a.ic(21,"span"),a.fd(22,"Add User"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(23,"div",33),a.ic(24,"table",34),a.ic(25,"thead"),a.ic(26,"tr"),a.ic(27,"th",35),a.ic(28,"div",36),a.ic(29,"div",37),a.ic(30,"input",38),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().selectAllUnapprovedUser=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getAllUnapprovedUser()})),a.hc(),a.ec(31,"label",39),a.hc(),a.hc(),a.hc(),a.ic(32,"th",40),a.fd(33," Name "),a.ic(34,"span",41),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("name")})),a.hc(),a.ic(35,"input",42),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.name=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("name")})),a.hc(),a.hc(),a.ic(36,"th",40),a.fd(37," Phone "),a.ic(38,"span",41),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("phone")})),a.hc(),a.ic(39,"input",43),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.phone=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("phone")})),a.hc(),a.hc(),a.ic(40,"th",40),a.fd(41," Email "),a.ic(42,"span",41),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("email")})),a.hc(),a.ic(43,"input",44),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.email=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("email")})),a.hc(),a.hc(),a.ic(44,"th",40),a.fd(45," Block No "),a.ic(46,"span",41),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.hc(),a.ic(47,"input",45),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.blockNo=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("blockNo")})),a.hc(),a.hc(),a.ic(48,"th",40),a.fd(49,"Unit No "),a.ic(50,"span",41),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitNo")})),a.hc(),a.ic(51,"input",46),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.unitNo=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("unitNo")})),a.hc(),a.hc(),a.ic(52,"th",47),a.ic(53,"input",48),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().columnField.action=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().selectColInput("action")})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(54,"tbody"),a.dd(55,V,24,11,"tr",49),a.zc(56,"simpleSearch"),a.zc(57,"columnSearch"),a.zc(58,"slice"),a.zc(59,"orderBy"),a.hc(),a.hc(),a.ic(60,"div",50),a.ic(61,"a",51),a.uc("click",(function(){return a.Wc(i),a.yc().approveUsers()})),a.ic(62,"span"),a.fd(63,"Approve Selected Users"),a.hc(),a.hc(),a.ic(64,"a",52),a.ic(65,"span"),a.fd(66,"Re-send verification link"),a.hc(),a.hc(),a.ic(67,"p"),a.fd(68,"Once approved the user will be informed automatically"),a.hc(),a.hc(),a.ic(69,"app-pagination",53),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getUserIndexParams(e)})),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Ob(6),a.gd(c.totalUserItems),a.Ob(6),a.Gc("ngModel",c.unitData),a.Ob(7),a.Gc("routerLinkActiveOptions",a.Mc(39,j)),a.Ob(5),a.Gc("ngClass",c.isMobileView()),a.Ob(6),a.Gc("ngModel",c.selectAllUnapprovedUser),a.Ob(4),a.Gc("ngClass",c.getFieldOrderBy("name")),a.Ob(1),a.Gc("ngModel",c.columnField.name),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("phone")),a.Ob(1),a.Gc("ngModel",c.columnField.phone),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("email")),a.Ob(1),a.Gc("ngModel",c.columnField.email),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(1),a.Gc("ngModel",c.columnField.blockNo),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("unitNo")),a.Ob(1),a.Gc("ngModel",c.columnField.unitNo),a.Ob(2),a.Gc("ngModel",c.columnField.action),a.Ob(2),a.Gc("ngForOf",a.Bc(56,24,a.Cc(57,27,a.Cc(58,31,a.Cc(59,35,c.unitListData,c.unitFieldType,c.unitOrder),c.ItemUserStartIndex,c.ItemUserEndIndex),c.columnField,c.selectedInput),c.unitData)),a.Ob(6),a.Gc("ngClass",c.isUserSelected?"":"disabled"),a.Ob(3),a.Gc("routerLinkActiveOptions",a.Mc(40,j))("ngClass",c.isUserSelected?"":"disabled"),a.Ob(5),a.Gc("totalItems",c.totalUserItems)("ItemStartIndex",c.ItemUserStartIndex)("ItemEndIndex",c.ItemUserEndIndex)("itemLimit",c.itemUserLimit)}}function $(e,t){if(1&e){var i=a.jc();a.ic(0,"div",68),a.ic(1,"app-my-profile",69),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getParams(e)})),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Ob(1),a.Gc("isProfile",c.isProfile)("userId",c.viewUserId)}}function q(e,t){1&e&&a.ec(0,"app-loader")}function X(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",58),a.ic(2,"a",10),a.fd(3),a.hc(),a.hc(),a.ic(4,"td",61),a.fd(5),a.hc(),a.ic(6,"td",61),a.fd(7),a.hc(),a.ic(8,"td",61),a.fd(9),a.hc(),a.ic(10,"td",61),a.fd(11),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(3),a.gd(i.date),a.Ob(2),a.gd(i.by),a.Ob(2),a.gd(i.comment),a.Ob(2),a.gd(i.before),a.Ob(2),a.gd(i.after)}}function Y(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"table",71),a.ic(2,"thead"),a.ic(3,"tr"),a.ic(4,"th",72),a.uc("click",(function(){return a.Wc(i),a.yc(2).sortUnitData("blockno")})),a.fd(5,"Date "),a.ec(6,"span",54),a.hc(),a.ic(7,"th",72),a.uc("click",(function(){return a.Wc(i),a.yc(2).sortUnitData("unitno")})),a.fd(8,"By "),a.ec(9,"span",54),a.hc(),a.ic(10,"th",72),a.uc("click",(function(){return a.Wc(i),a.yc(2).sortUnitData("sqrt")})),a.fd(11,"Comment "),a.ec(12,"span",54),a.hc(),a.ic(13,"th",72),a.uc("click",(function(){return a.Wc(i),a.yc(2).sortUnitData("intercom")})),a.fd(14,"Before "),a.ec(15,"span",54),a.hc(),a.ic(16,"th",72),a.uc("click",(function(){return a.Wc(i),a.yc(2).sortUnitData("intercom")})),a.fd(17,"After "),a.ec(18,"span",54),a.hc(),a.hc(),a.hc(),a.ic(19,"tbody"),a.dd(20,X,12,5,"tr",73),a.zc(21,"slice"),a.hc(),a.hc(),a.ic(22,"app-pagination",53),a.uc("outputParams",(function(e){return a.Wc(i),a.yc(2).getLogIndexParams(e)})),a.hc(),a.fc()}if(2&e){var c=a.yc(2);a.Ob(1),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("blockno")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("unitno")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("sqrt")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("intercom")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("intercom")),a.Ob(2),a.Gc("ngForOf",a.Cc(21,11,c.logsData,c.ItemLogStartIndex,c.ItemLogEndIndex)),a.Ob(2),a.Gc("totalItems",c.totalLogItems)("ItemStartIndex",c.ItemLogStartIndex)("ItemEndIndex",c.ItemLogEndIndex)("itemLimit",c.itemLogLimit)}}function J(e,t){if(1&e&&(a.ic(0,"div",70),a.dd(1,q,1,0,"app-loader",1),a.dd(2,Y,23,15,"ng-container",1),a.hc()),2&e){var i=a.yc();a.Ob(1),a.Gc("ngIf",!i.isLogsDataLoaded),a.Ob(1),a.Gc("ngIf",i.isLogsDataLoaded)}}function Z(e,t){if(1&e&&(a.ic(0,"div",74),a.ic(1,"div",75),a.ec(2,"i-feather",76),a.hc(),a.ic(3,"div",77),a.ic(4,"h5"),a.fd(5,"User Info"),a.hc(),a.hc(),a.ic(6,"div",78),a.ic(7,"div",12),a.ic(8,"div",79),a.ic(9,"div",80),a.ec(10,"img",81),a.hc(),a.ic(11,"div",82),a.ic(12,"h5",83),a.fd(13),a.hc(),a.ic(14,"p",61),a.fd(15),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(16,"div",84),a.ic(17,"ul",85),a.ic(18,"li",28),a.ic(19,"h6",83),a.fd(20,"User ID"),a.hc(),a.ic(21,"p"),a.fd(22),a.hc(),a.hc(),a.ic(23,"li",28),a.ic(24,"h6",83),a.fd(25,"Email"),a.hc(),a.ic(26,"p"),a.fd(27),a.hc(),a.hc(),a.ic(28,"li",28),a.ic(29,"h6",83),a.fd(30,"Block No"),a.hc(),a.ic(31,"p"),a.fd(32),a.hc(),a.hc(),a.ic(33,"li",28),a.ic(34,"h6",83),a.fd(35,"Phone No"),a.hc(),a.ic(36,"p"),a.fd(37),a.hc(),a.hc(),a.ic(38,"li",28),a.ic(39,"h6",83),a.fd(40,"Blood Group"),a.hc(),a.ic(41,"p"),a.fd(42),a.hc(),a.hc(),a.ic(43,"li",28),a.ic(44,"h6",83),a.fd(45,"Address"),a.hc(),a.ic(46,"p"),a.fd(47),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(13),a.id("",i.firstName," ",i.lastName,""),a.Ob(2),a.gd(i.roleName),a.Ob(7),a.gd(i.userId),a.Ob(5),a.gd(i.emailId),a.Ob(5),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(5),a.gd(i.phoneNumber),a.Ob(5),a.gd(i.bloodGroup),a.Ob(5),a.jd("",i.address1," ",i.address2," ",i.zipCode,"")}}var H,Q=((H=function(){function e(t,i,c,n,a,r,o){_classCallCheck(this,e),this.injector=t,this.dialog=i,this.router=c,this.route=n,this.userService=a,this.sharedService=r,this.cookieService=o,this.ItemUserStartIndex=0,this.itemUserLimit=15,this.ItemLogStartIndex=0,this.itemLogLimit=15,this.unitData="",this.unitFieldType="unitno",this.unitOrder=!1,this.isMobile=!1,this.selectAllUnapprovedUser=!1,this.isUserSelected=!1,this.isLogs=!1,this.isUserDataLoaded=!1,this.isLogsDataLoaded=!1,this.isProfile=!1,this.selectedInput="",this.columnField={},this.modalService=this.injector.get(L.a)}return _createClass(e,[{key:"getUserIndexParams",value:function(e){this.ItemUserStartIndex=e.ItemUserStartIndex,this.ItemUserEndIndex=e.ItemUserEndIndex,this.itemUserLimit=e.ItemLimit,console.log(this.ItemUserStartIndex),console.log(this.ItemUserEndIndex),console.log(this.itemUserLimit),this.ItemUserEndIndex=this.totalUserItems>this.itemUserLimit?this.itemUserLimit:this.totalUserItems}},{key:"getLogIndexParams",value:function(e){this.ItemLogStartIndex=e.ItemLogStartIndex,this.ItemLogEndIndex=e.ItemLogEndIndex}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"getBlockNo",value:function(e,t){return void 0===e||0==e.length?"":(this.unitListData[t].blockNo=e[0].apartmentBlockNumber,e[0].apartmentBlockNumber)}},{key:"getBlockUnitNo",value:function(e,t){return void 0===e||0==e.length?"":(this.unitListData[t].unitNo=e[0].apartmentBlockUnitNumber,e[0].apartmentBlockUnitNumber)}},{key:"getNotes",value:function(e){return void 0===e||0==e.length?"":e[0].notes}},{key:"getUserRole",value:function(e,t){return void 0===e||0==e.length?"":(this.unitListData[t].roleName=e[0].roleName,e[0].roleName)}},{key:"getUserRoleInfo",value:function(e){return void 0===e.userRole||0==e.userRole.length?"":e.userRole[0].roleName}},{key:"onResize",value:function(e){this.isMobile=e.target.innerWidth<=991}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"getAllUnapprovedUser",value:function(){this.selectAllUnapprovedUser?(P.each(this.unitListData,(function(e){e.checked=!0})),this.isUserSelected=!0):(P.each(this.unitListData,(function(e){e.checked=!1})),this.isUserSelected=!1)}},{key:"getSelectedUnapprovedUser",value:function(e){var t=0;P.each(this.unitListData,(function(e){e.checked&&t++})),this.isUserSelected=t>0,0==t&&(this.selectAllUnapprovedUser=!1),t==this.unitListData.length&&(this.selectAllUnapprovedUser=!0)}},{key:"approveUsers",value:function(){var e=this;this.isUserDataLoaded=!1,P.each(this.unitListData,(function(t,i){t.checked&&e.userService.getUserById(t.id).subscribe((function(t){var c=t[0];c.isApproved=!0,e.userService.UpdateUser(c).subscribe((function(t){e.unitListData.splice(i,1),e.totalUserItems=e.unitListData.length,e.isUserDataLoaded=!0}))}))}))}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"showUserInfo",value:function(e){var t=this,i=e.apartmentBlockUnit,c=e.userRole;this.userService.getUserById(e.id).subscribe((function(e){var n=e[0];void 0===i||0==i.length?(n.blockNo="Not Available",n.unitNo=""):(n.blockNo=i[0].apartmentBlockNumber,n.unitNo=i[0].apartmentBlockUnitNumber),n.roleName=void 0===c||0==c.length?"Not Available":c[0].roleName,t.dialog.open(t.viewUnapprovedUserRef,{panelClass:"material",disableClose:!0,data:n})}))}},{key:"getParams",value:function(e){this.isProfile=e}},{key:"viewUserInfo",value:function(e){var t=this;this.isProfile=!1,setTimeout((function(){t.isProfile=!0}),10),setTimeout((function(){var e=document.querySelector(".user-info-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100),this.viewUserId=e,this.router.navigate(["ams/unit&users/unapproved/basic",this.viewUserId])}},{key:"showLogs",value:function(){var e=this;this.isLogs=!this.isLogs,this.sharedService.getJsonData().subscribe((function(t){e.logsData=t.logsData,e.totalLogItems=e.logsData.length,e.ItemLogEndIndex=e.totalLogItems>e.itemLogLimit?e.itemLogLimit:e.totalLogItems,e.isLogsDataLoaded=!0}),(function(e){console.log(e)}))}},{key:"ngOnInit",value:function(){var e=this;this.isMobile=window.innerWidth<=991,this.userService.getAllUnApprovedUsersByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.unitListData=t.filter((function(e){return e.active})),e.totalUserItems=e.unitListData.length,e.ItemUserEndIndex=e.totalUserItems>e.itemUserLimit?e.itemUserLimit:e.totalUserItems,e.isUserDataLoaded=!0}),(function(e){console.log(e)})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var i={userId:e.unitListData[t].id,updateUserId:parseInt(e.cookieService.get("userId"))};e.isUserDataLoaded=!1,e.userService.deleteUserById(i).subscribe((function(i){e.unitListData.splice(t,1),e.totalUserItems=e.unitListData.length,e.isUserDataLoaded=!0,e.sharedService.setUnitListDeleteIndex(null)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||H)(a.dc(a.x),a.dc(x.b),a.dc(n.c),a.dc(n.a),a.dc(r.a),a.dc(d.a),a.dc(u.a))},H.\u0275cmp=a.Xb({type:H,selectors:[["app-unapproved"]],viewQuery:function(e,t){var i;1&e&&a.ld(_,!0),2&e&&a.Sc(i=a.vc())&&(t.viewUnapprovedUserRef=i.first)},hostBindings:function(e,t){1&e&&a.uc("resize",(function(e){return t.onResize(e)}),!1,a.Vc)},decls:32,vars:7,consts:[[1,"unapproved-wrapper"],[4,"ngIf"],["class","customize-email",4,"ngIf"],["class","card ov card-table",4,"ngIf"],["class","user-info-card",4,"ngIf"],[1,"card","mt-30"],[1,"card-header","pointer",3,"ngClass","click"],[1,"float-left"],[1,"p-0"],[1,"float-right","switch",3,"ngClass"],["href","javascript:void(0)"],["class","card-body p-0",4,"ngIf"],[1,"card-header"],["href","javascript:void(0)",1,"tc-blue","ml-2","t-decor"],[1,"card-body"],[1,"btn","sf","lime-green"],[1,"info"],["href","javascript:void(0)",1,"tc-red","ml-2","t-decor"],["viewUnapprovedUserRef",""],[1,"customize-email"],[1,"btn","lime-green"],[1,"card","ov","card-table"],[1,"badge","blue"],[1,"d-none","d-md-inline-block"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/unit&users/add-users","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","ov","p-0"],[1,"table","table-resizable",3,"ngClass"],["scope","col",1,"select"],[1,"form-group"],[1,"form-check","float-left"],["type","checkbox","id","selectAllUnapprovedUser","name","selectAllUnapprovedUser",1,"form-check-input",3,"ngModel","ngModelChange"],["for","selectAllUnapprovedUser",1,"form-check-label"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Phone",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Block No","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Unit No","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"button-wrapper"],[1,"btn","lime-green","sf",3,"ngClass","click"],["routerLink","addunit","routerLinkActive","active",1,"btn","trans-white","sf",3,"routerLinkActiveOptions","ngClass"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"select"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],[1,"actions"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","eye",1,"icon","view"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"pop-desp"],[1,"user-info-card"],["type","admin",3,"isProfile","userId","outputParams"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[4,"ngFor","ngForOf"],[1,"user-info","info-modal-box"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"title"],[1,"card"],[1,"media"],[1,"icon","mr-4"],["src","assets/images/user-icon.svg","width","36"],[1,"media-body"],[1,"mt-0"],[1,"card-body","lists"],[1,"list-group"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,T,1,0,"app-loader",1),a.dd(2,R,6,0,"div",2),a.dd(3,z,70,41,"div",3),a.dd(4,$,2,2,"div",4),a.ic(5,"div",5),a.ic(6,"div",6),a.uc("click",(function(){return t.showLogs()})),a.ic(7,"div",7),a.ic(8,"h5",8),a.fd(9,"Logs"),a.hc(),a.hc(),a.ic(10,"div",9),a.ec(11,"a",10),a.hc(),a.hc(),a.dd(12,J,3,2,"div",11),a.hc(),a.ic(13,"div",5),a.ic(14,"div",12),a.ic(15,"div",7),a.ic(16,"h5"),a.fd(17,"Mass Upload"),a.hc(),a.ic(18,"p"),a.fd(19,"To create Residents accounts in mass, Download this"),a.ic(20,"a",13),a.fd(21,"Excel Template"),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(22,"div",14),a.ic(23,"a",15),a.ic(24,"span"),a.fd(25,"Upload Document"),a.hc(),a.hc(),a.ic(26,"p",16),a.fd(27,"If you have any trouble in uploading document, Please raise a "),a.ic(28,"a",17),a.fd(29,"support ticket"),a.hc(),a.hc(),a.hc(),a.hc(),a.dd(30,Z,48,12,"ng-template",null,18,a.ed),a.hc()),2&e&&(a.Ob(1),a.Gc("ngIf",!t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isProfile),a.Ob(2),a.Gc("ngClass",t.isLogs?"":"no-border"),a.Ob(4),a.Gc("ngClass",t.isLogs?"up":"down"),a.Ob(2),a.Gc("ngIf",t.isLogs))},directives:[c.l,c.j,p.a,m.c,m.a,f.d,f.n,f.q,A.b,n.e,n.d,m.f,m.d,f.a,c.k,G.a,w.c,F.a,x.c],pipes:[W.c,W.a,c.t,W.b],styles:[".unapproved-wrapper[_ngcontent-%COMP%]   .customize-email[_ngcontent-%COMP%]{margin:0 0 25px}.unapproved-wrapper[_ngcontent-%COMP%]   .customize-email[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.6rem;padding:0 0 15px!important;color:#585858}.unapproved-wrapper[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p.info[_ngcontent-%COMP%]{padding:10px 0 0!important;font-size:1.4rem;color:#373946}.unapproved-wrapper[_ngcontent-%COMP%]   .user-info-card[_ngcontent-%COMP%]{margin:30px 0 0}"]}),H),K=i("noCB");function ee(e,t){1&e&&a.ec(0,"app-loader")}function te(e,t){if(1&e){var i=a.jc();a.ic(0,"div",3),a.ic(1,"div",4),a.ic(2,"div",5),a.ic(3,"h5",6),a.ic(4,"span",7),a.ec(5,"img",8),a.hc(),a.ic(6,"span"),a.fd(7),a.hc(),a.hc(),a.ic(8,"p"),a.fd(9),a.hc(),a.ic(10,"p"),a.fd(11),a.hc(),a.hc(),a.ic(12,"div",9),a.ic(13,"a",10),a.uc("click",(function(){return a.Wc(i),a.yc().showUserInfo()})),a.ec(14,"i-feather",11),a.hc(),a.ic(15,"a",12),a.uc("click",(function(){a.Wc(i);var e=a.yc();return e.showConfirmModal(e.user.id)})),a.ec(16,"i-feather",13),a.hc(),a.hc(),a.hc(),a.ic(17,"ul",14),a.ic(18,"li",15),a.ic(19,"span",7),a.ec(20,"img",16),a.hc(),a.ic(21,"span"),a.fd(22,"Unit Details"),a.hc(),a.hc(),a.ic(23,"div",17),a.ic(24,"div",18),a.ic(25,"p"),a.ic(26,"span"),a.fd(27,"Block No:"),a.hc(),a.fd(28),a.hc(),a.ic(29,"p"),a.ic(30,"span"),a.fd(31,"Unit No:"),a.hc(),a.fd(32),a.hc(),a.ic(33,"p"),a.ic(34,"span"),a.fd(35,"Bulitup Area:"),a.hc(),a.fd(36),a.hc(),a.ic(37,"p"),a.ic(38,"span"),a.fd(39,"Carpet Area:"),a.hc(),a.fd(40),a.hc(),a.ic(41,"p"),a.ic(42,"span"),a.fd(43,"Unit Type:"),a.hc(),a.fd(44),a.hc(),a.ic(45,"p"),a.ic(46,"span"),a.fd(47,"Vacant:"),a.hc(),a.fd(48),a.hc(),a.ic(49,"p"),a.ic(50,"span"),a.fd(51,"Furnished:"),a.hc(),a.fd(52),a.hc(),a.ic(53,"p"),a.ic(54,"span"),a.fd(55,"Pets Allowed:"),a.hc(),a.fd(56),a.hc(),a.hc(),a.hc(),a.ic(57,"li",19),a.ic(58,"span",7),a.ec(59,"img",20),a.hc(),a.ic(60,"span"),a.fd(61,"Unit Staffs"),a.hc(),a.hc(),a.ic(62,"div",21),a.ic(63,"div",18),a.ic(64,"p"),a.fd(65,"No Data Available"),a.hc(),a.hc(),a.hc(),a.ic(66,"li",22),a.ic(67,"span",7),a.ec(68,"i-feather",23),a.hc(),a.ic(69,"span"),a.fd(70,"Unit Vehicles"),a.hc(),a.hc(),a.ic(71,"div",24),a.ic(72,"div",18),a.ic(73,"p"),a.ic(74,"span"),a.fd(75,"Vehicle Number:"),a.hc(),a.fd(76),a.hc(),a.ic(77,"p"),a.ic(78,"span"),a.fd(79,"Vehicle Type:"),a.hc(),a.fd(80),a.hc(),a.ic(81,"p"),a.ic(82,"span"),a.fd(83,"Vehicle Driver Number:"),a.hc(),a.fd(84),a.hc(),a.ic(85,"p"),a.ic(86,"span"),a.fd(87,"Vehicle Manufacturer:"),a.hc(),a.fd(88),a.hc(),a.hc(),a.hc(),a.ic(89,"li",25),a.ic(90,"span",7),a.ec(91,"img",26),a.hc(),a.ic(92,"span"),a.fd(93,"Unit Pets"),a.hc(),a.hc(),a.ic(94,"div",27),a.ic(95,"div",18),a.ic(96,"p"),a.fd(97,"No Data Available"),a.hc(),a.hc(),a.hc(),a.ic(98,"li",28),a.ic(99,"span",7),a.ec(100,"img",29),a.hc(),a.ic(101,"span"),a.fd(102,"Property Manager"),a.hc(),a.hc(),a.ic(103,"div",30),a.ic(104,"div",18),a.ic(105,"p"),a.ic(106,"span"),a.fd(107,"Available for rent:"),a.hc(),a.fd(108),a.hc(),a.ic(109,"p"),a.ic(110,"span"),a.fd(111,"Name:"),a.hc(),a.fd(112),a.hc(),a.ic(113,"p"),a.ic(114,"span"),a.fd(115,"Rent Amount:"),a.hc(),a.fd(116),a.hc(),a.hc(),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Ob(7),a.gd(c.user.name),a.Ob(2),a.gd(c.getRoleName(c.user.userRole)),a.Ob(2),a.gd(c.user.phone),a.Ob(17),a.hd(" ",c.unit.apartmentBlockNumber,""),a.Ob(4),a.hd(" ",c.unit.apartmentBlockUnitNumber,""),a.Ob(4),a.hd(" ",c.unit.builtupArea,""),a.Ob(4),a.hd(" ",c.unit.carpetArea,""),a.Ob(4),a.hd(" ",c.unit.unitType,""),a.Ob(4),a.hd(" ",c.getunitStatus(c.unit.isVacant),""),a.Ob(4),a.hd(" ",c.getunitStatus(c.unit.isFurnished),""),a.Ob(4),a.hd(" ",c.getunitStatus(c.unit.isPetsAllowed),""),a.Ob(20),a.hd(" ",c.vehicle.vehicleNumber,""),a.Ob(4),a.hd(" ",c.getVehicleType(c.vehicle.vehicleTypeId),""),a.Ob(4),a.hd(" ",c.vehicle.vehicleDriverNumber,""),a.Ob(4),a.hd(" ",c.vehicle.vehicleManufacturer,""),a.Ob(20),a.hd(" ",c.getunitStatus(c.unit.isAvailableForRent),""),a.Ob(4),a.hd(" ",c.unit.propertyManagerName,""),a.Ob(4),a.hd(" ",c.unit.rentAmount,"")}}var ie,ce=function(e,t){return[e,t]},ne=((ie=function(){function e(t,i,c,n,r,o,s,d,l,u){_classCallCheck(this,e),this.router=t,this.route=i,this.injector=c,this.dialog=n,this.userService=r,this.apartmentService=o,this.vehicleService=s,this.lookupService=d,this.sharedService=l,this.cookieService=u,this.isSeperatePage=!1,this.isUserDataLoaded=!1,this.outputParams=new a.q,this.modalService=this.injector.get(L.a)}return _createClass(e,[{key:"isTabSelected",value:function(){return-1!=this.selectedTab?"show":""}},{key:"isNotSlide",value:function(){return this.isSeperatePage?"full":""}},{key:"getRoleName",value:function(e){return void 0===e||0==e.length?"":(this.user.roleName=e[0].roleName,e[0].roleName)}},{key:"getunitStatus",value:function(e){return e?"Yes":"No"}},{key:"getVehicleType",value:function(e){P.each(this.vehicleTypeData,(function(t,i){if(t.lookupValueId==e)return t.lookupValueName}))}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"showUserInfo",value:function(){this.outputParams.emit(!0)}},{key:"getUserDetails",value:function(e){var t=this;this.userService.getAllApprovedUsers().subscribe((function(i){var c=i.filter((function(t){if(t.id==e)return t}));t.user=c[0],t.apartmentService.getApartmentBlockUnitByUserId(e).subscribe((function(e){t.unit=e[0]||{},t.apartmentBlockUnitId=t.unit.apartmentBlockUnitId,t.vehicleService.getVehicleByVehicleId(t.apartmentBlockUnitId).subscribe((function(e){t.vehicle=e[0]||{},t.isUserDataLoaded=!0}))}))}),(function(e){console.log(e)}))}},{key:"ngOnInit",value:function(){var e=this;this.user={},this.unit={},this.vehicle={},null!=this.route.params.value.id&&(this.isSeperatePage=!0,this.getUserDetails(this.route.params.value.id)),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var i={userId:t,updateUserId:parseInt(e.cookieService.get("userId"))};e.isUserDataLoaded=!1,e.userService.deleteUserById(i).subscribe((function(t){e.isUserDataLoaded=!0,e.sharedService.setUnitListDeleteIndex(null)}),(function(e){console.log(e)}))}}))}},{key:"ngOnChanges",value:function(e){var t=this;-1!=this.selectedTab&&(this.isUserDataLoaded=!1,this.getUserDetails(this.selectedTab)),this.lookupService.getLookupValueByLookupTypeId(2).subscribe((function(e){t.vehicleTypeData=e}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||ie)(a.dc(n.c),a.dc(n.a),a.dc(a.x),a.dc(x.b),a.dc(r.a),a.dc(l.a),a.dc(K.a),a.dc(s.a),a.dc(d.a),a.dc(u.a))},ie.\u0275cmp=a.Xb({type:ie,selectors:[["app-approved-user-details"]],inputs:{selectedTab:"selectedTab"},outputs:{outputParams:"outputParams"},features:[a.Mb],decls:3,vars:6,consts:[["id","accordion",1,"card","user-details","float-left",3,"ngClass"],[4,"ngIf"],["class","card-body p-0",4,"ngIf"],[1,"card-body","p-0"],[1,"main"],[1,"float-left"],[1,"text-capitalize"],[1,"icon"],["src","assets/images/user-liner-icon.svg","width","20",1,"svg"],[1,"float-right"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#collapseOne","aria-expanded","true","aria-controls","collapseOne",1,"list-group-item","collapsed"],["src","assets/images/unit-liner-icon.svg",1,"svg"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],[1,"details"],["data-toggle","collapse","data-target","#collapseTwo","aria-expanded","true","aria-controls","collapseTwo",1,"list-group-item","collapsed"],["src","assets/images/staff-liner-icon.svg",1,"svg"],["id","collapseTwo","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseThree","aria-expanded","true","aria-controls","collapseThree",1,"list-group-item","collapsed"],["name","truck",1,"feather","truck"],["id","collapseThree","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseFive","aria-expanded","true","aria-controls","collapseFive",1,"list-group-item","collapsed"],["src","assets/images/dog-liner-icon.svg",1,"svg"],["id","collapseFive","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],["data-toggle","collapse","data-target","#collapseSix","aria-expanded","true","aria-controls","collapseSix",1,"list-group-item","collapsed"],["src","assets/images/manager-liner-icon.svg",1,"svg"],["id","collapseSix","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,ee,1,0,"app-loader",1),a.dd(2,te,117,18,"div",2),a.hc()),2&e&&(a.Gc("ngClass",a.Oc(3,ce,t.isTabSelected(),t.isNotSlide())),a.Ob(1),a.Gc("ngIf",!t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isUserDataLoaded))},directives:[c.j,c.l,p.a,m.e,A.b],styles:[".card.user-details[_ngcontent-%COMP%]{width:0!important;height:0;transition:all .15s ease;transform:translate(120%)}.card.user-details.show[_ngcontent-%COMP%]{width:40%!important;height:auto;transform:translate(0);transition:all .15s ease;margin:0 0 0 2%}.card.user-details.full[_ngcontent-%COMP%]{width:100%!important;margin:0}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{padding:20px 15px;overflow:auto}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{padding:0 0 10px;color:#3f51b5}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 8px 0 0}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px;height:24px;fill:#3f51b5;margin:-2px 0 0;display:inline-block}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.4rem;color:#8391a1}.card.user-details[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border:none;padding:0 0 6px;font-family:Montserrat,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;color:#373946}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .feather[_ngcontent-%COMP%], .card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;display:inline-block;margin:-3px 6px 0 0}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:14px;fill:#373946}.card.user-details[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.icon){display:inline-block;margin:1px 0 0 4px;font-size:1.4rem}"]}),ie);function ae(e,t){1&e&&a.ec(0,"app-loader")}function re(e,t){if(1&e&&(a.gc(0),a.ic(1,"li",20),a.ic(2,"span",18),a.fd(3),a.hc(),a.ic(4,"span",21),a.fd(5),a.hc(),a.ic(6,"span"),a.ec(7,"i",22),a.hc(),a.hc(),a.fc()),2&e){var i=t.$implicit,c=a.yc().$implicit;a.Ob(3),a.hd("",i.roleName,": "),a.Ob(2),a.gd(c.name)}}function oe(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"li",17),a.uc("click",(function(){a.Wc(i);var e=t.$implicit;return a.yc(2).showApprovedUserDetails(e.id)})),a.ic(2,"h5"),a.ic(3,"span",18),a.fd(4),a.hc(),a.ic(5,"span"),a.fd(6),a.hc(),a.hc(),a.ic(7,"div",19),a.dd(8,re,8,2,"ng-container",14),a.hc(),a.hc(),a.fc()}if(2&e){var c=t.$implicit,n=t.index,r=a.yc(2);a.Ob(1),a.Gc("ngClass",r.isActive(c.id)),a.Ob(3),a.gd(r.getBlockNo(c.apartmentBlockUnit,n)),a.Ob(2),a.gd(r.getBlockUnitNo(c.apartmentBlockUnit,n)),a.Ob(2),a.Gc("ngForOf",c.userRole)}}function se(e,t){if(1&e){var i=a.jc();a.ic(0,"div",5),a.ic(1,"div",6),a.ic(2,"div",7),a.ic(3,"h5"),a.fd(4,"Approved Users"),a.hc(),a.ic(5,"p",8),a.fd(6),a.hc(),a.hc(),a.ic(7,"ul",9),a.ic(8,"li",10),a.ec(9,"i",11),a.ic(10,"input",12),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().unitData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(11,"div",13),a.gc(12),a.dd(13,oe,9,4,"ng-container",14),a.zc(14,"slice"),a.fc(),a.hc(),a.ic(15,"div",15),a.ic(16,"app-pagination",16),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Gc("ngClass",c.isTabSelected()),a.Ob(6),a.id("Total ",c.totalUnits," Units and ",c.totalItems," Users"),a.Ob(4),a.Gc("ngModel",c.unitData),a.Ob(3),a.Gc("ngForOf",a.Cc(14,9,c.approvedUsersData,c.ItemStartIndex,c.ItemEndIndex)),a.Ob(3),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function de(e,t){if(1&e){var i=a.jc();a.ic(0,"app-approved-user-details",23),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().showUserInfo(e)})),a.hc()}if(2&e){var c=a.yc();a.Gc("selectedTab",c.selectedTab)}}function le(e,t){if(1&e){var i=a.jc();a.ic(0,"div",24),a.ic(1,"app-my-profile",25),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getParams(e)})),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Ob(1),a.Gc("isProfile",c.isProfile)("userId",c.viewUserId)}}var ue,he=((ue=function(){function e(t,i,c,n,a,r){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=c,this.apartmentService=n,this.sharedService=a,this.cookieService=r,this.totalUsers=0,this.unitData="",this.ItemStartIndex=0,this.itemLimit=5,this.selectedTab=-1,this.isUserDataLoaded=!1,this.isProfile=!1}return _createClass(e,[{key:"showApprovedUserDetails",value:function(e){this.isMobileView()?this.router.navigate(["ams/approved-user-details/"+e]):this.selectedTab=this.selectedTab!=e?e:-1,this.viewUserId=e}},{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"isTabSelected",value:function(){return-1!=this.selectedTab?"show":""}},{key:"isMobileView",value:function(){return window.innerWidth<=991}},{key:"getBlockNo",value:function(e,t){return void 0===e||0==e.length?"":(this.approvedUsersData[t].blockNo=e[0].apartmentBlockNumber,e[0].apartmentBlockNumber)}},{key:"getBlockUnitNo",value:function(e,t){return void 0===e||0==e.length?"":(this.approvedUsersData[t].unitNo=e[0].apartmentBlockUnitNumber,e[0].apartmentBlockUnitNumber)}},{key:"isActive",value:function(e){return this.selectedTab==e?"active":""}},{key:"getParams",value:function(e){this.isProfile=e}},{key:"showUserInfo",value:function(e){var t=this;this.isProfile=!1,setTimeout((function(){t.isProfile=e}),10),setTimeout((function(){var e=document.querySelector(".user-info-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100),this.router.navigate(["ams/unit&users/approved/basic",this.viewUserId])}},{key:"ngOnInit",value:function(){var e=this;this.userService.getAllApprovedUsers().subscribe((function(t){e.approvedUsersData=t.filter((function(e){return 0!=e.userRole.length&&0!=e.apartmentBlockUnit.length})),e.totalItems=e.approvedUsersData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isUserDataLoaded=!0}),(function(e){console.log(e)})),this.apartmentService.getApartmentBlockUnitByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.totalUnits=t.length}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||ue)(a.dc(n.c),a.dc(n.a),a.dc(r.a),a.dc(l.a),a.dc(d.a),a.dc(u.a))},ue.\u0275cmp=a.Xb({type:ue,selectors:[["app-approved"]],decls:5,vars:4,consts:[[1,"approved-user-wrapper"],[4,"ngIf"],["class","card mb-20 users-list float-left",3,"ngClass",4,"ngIf"],[3,"selectedTab","outputParams",4,"ngIf"],["class","user-info-card clear",4,"ngIf"],[1,"card","mb-20","users-list","float-left",3,"ngClass"],[1,"card-header"],[1,"float-left"],[1,"d-none","d-md-inline-block"],[1,"list-inline","float-right"],[1,"list-inline-item","search","d-none","d-md-inline-block","mr-0"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body","p-0","users"],[4,"ngFor","ngForOf"],[1,"pagination-wrapper"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"list-group-item",3,"ngClass","click"],[1,"mr-2"],[1,"list"],[1,"list-group-item"],[1,"mr-2","text-capitalize"],["aria-hidden","true",1,"fa","fa-address-book-o"],[3,"selectedTab","outputParams"],[1,"user-info-card","clear"],["type","admin",3,"isProfile","userId","outputParams"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,ae,1,0,"app-loader",1),a.dd(2,se,17,13,"div",2),a.dd(3,de,1,1,"app-approved-user-details",3),a.dd(4,le,2,2,"div",4),a.hc()),2&e&&(a.Ob(1),a.Gc("ngIf",!t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",!t.isMobileView()),a.Ob(1),a.Gc("ngIf",t.isProfile))},directives:[c.l,p.a,c.j,m.c,m.a,f.d,f.n,f.q,c.k,G.a,ne,F.a],pipes:[c.t],styles:['.approved-user-wrapper[_ngcontent-%COMP%]   .card.users-list[_ngcontent-%COMP%]{width:100%;transition:all .15s ease}@media (min-width:991px){.approved-user-wrapper[_ngcontent-%COMP%]   .card.users-list.show[_ngcontent-%COMP%]{width:58%;transition:all .15s ease}}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:none!important}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{border:none;border-top:1px solid #eaeaea;padding:14px 20px;border-radius:0!important;cursor:pointer}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.6rem;padding:0 0 4px;color:#3f51b5}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;padding:5px 0 0;border:none;background-color:transparent;color:#8391a1}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-family:Lato,sans-serif;font-weight:700;letter-spacing:.3px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;color:#373946}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:transparent}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;transition:all .15s ease}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]{color:#3f51b5}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]{background-color:#fff}.approved-user-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body.users[_ngcontent-%COMP%] > li.active[_ngcontent-%COMP%]:before{content:"";width:4px;height:100%!important;background-color:#3f51b5;position:absolute;top:0;left:0}']}),ue),pe=["viewDeactivatedUserRef"];function fe(e,t){1&e&&a.ec(0,"app-loader")}function me(e,t){if(1&e&&(a.ic(0,"div",41),a.ic(1,"ul"),a.ic(2,"li"),a.ic(3,"h5"),a.fd(4,"Status/Notes"),a.hc(),a.ic(5,"small"),a.fd(6),a.hc(),a.hc(),a.ic(7,"li"),a.ic(8,"h5"),a.fd(9,"Owner/Tenant"),a.hc(),a.ic(10,"small"),a.fd(11),a.hc(),a.hc(),a.ic(12,"li"),a.ic(13,"h5"),a.fd(14,"Status/Notes"),a.hc(),a.ic(15,"small"),a.fd(16),a.hc(),a.hc(),a.ic(17,"li"),a.ic(18,"h5"),a.fd(19,"Verification Status"),a.hc(),a.ic(20,"small"),a.fd(21),a.hc(),a.hc(),a.hc(),a.hc()),2&e){var i=a.yc(),c=i.$implicit,n=i.index,r=a.yc(2);a.Ob(6),a.gd(r.getNotes(c.apartmentBlockUnit)),a.Ob(5),a.gd(r.getUserRole(c.userRole,n)),a.Ob(5),a.gd(r.getNotes(c.apartmentBlockUnit)),a.Ob(5),a.gd(c.status)}}var ge=function(){return{exact:!0}};function ve(e,t){if(1&e){var i=a.jc();a.ic(0,"tr",24),a.ic(1,"td",30),a.ic(2,"div",19),a.ic(3,"div",20),a.ic(4,"input",31),a.uc("ngModelChange",(function(e){return a.Wc(i),t.$implicit.checked=e}))("ngModelChange",(function(){a.Wc(i);var e=t.$implicit;return a.yc(2).getSelectedDeActivatedUser(e)})),a.hc(),a.ec(5,"label",32),a.hc(),a.hc(),a.hc(),a.ic(6,"td",33),a.ic(7,"a",34),a.fd(8),a.hc(),a.dd(9,me,22,4,"ng-template",null,35,a.ed),a.hc(),a.ic(11,"td",36),a.fd(12),a.hc(),a.ic(13,"td",36),a.fd(14),a.hc(),a.ic(15,"td",36),a.fd(16),a.hc(),a.ic(17,"td",36),a.fd(18),a.hc(),a.ic(19,"td"),a.ic(20,"a",37),a.uc("click",(function(){a.Wc(i);var e=t.index;return a.yc(2).showUserInfo(e)})),a.ec(21,"i-feather",38),a.hc(),a.ic(22,"a",39),a.ec(23,"i-feather",40),a.hc(),a.hc(),a.hc()}if(2&e){var c=t.$implicit,n=t.index,r=a.Tc(10),o=a.yc(2);a.Gc("ngClass",c.checked?"selected":""),a.Ob(4),a.Hc("id",c.id),a.Hc("name",c.id),a.Gc("ngModel",c.checked),a.Ob(1),a.Hc("for",c.id),a.Ob(2),a.Gc("ngbPopover",r),a.Ob(1),a.hd(" ",c.name,""),a.Ob(4),a.gd(c.phone),a.Ob(2),a.gd(c.email),a.Ob(2),a.gd(o.getBlockNo(c.apartmentBlockUnit,n)),a.Ob(2),a.gd(o.getBlockUnitNo(c.apartmentBlockUnit,n)),a.Ob(4),a.Ic("routerLink","/ams/unit&users/edit-user/",c.id,""),a.Gc("routerLinkActiveOptions",a.Mc(13,ge))}}function be(e,t){if(1&e){var i=a.jc();a.ic(0,"div",4),a.ic(1,"div",5),a.ic(2,"div",6),a.ic(3,"h5"),a.fd(4,"De Activated Resident Accounts "),a.ic(5,"span",7),a.fd(6),a.hc(),a.hc(),a.ic(7,"p",8),a.fd(8,"Edit and Activate documents"),a.hc(),a.hc(),a.ic(9,"ul",9),a.ic(10,"li",10),a.ec(11,"i",11),a.ic(12,"input",12),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().deActivatedData=e})),a.hc(),a.hc(),a.ic(13,"li",13),a.ic(14,"a",14),a.ec(15,"i-feather",15),a.ic(16,"span"),a.fd(17,"Print"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(18,"div",16),a.ic(19,"table",17),a.ic(20,"thead"),a.ic(21,"tr"),a.ic(22,"th",18),a.ic(23,"div",19),a.ic(24,"div",20),a.ic(25,"input",21),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().selectAllDeactivatedUser=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getAllDeactivatedUser()})),a.hc(),a.ec(26,"label",22),a.hc(),a.hc(),a.hc(),a.ic(27,"th",23),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("name")})),a.fd(28,"Name "),a.ec(29,"span",24),a.hc(),a.ic(30,"th",23),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("phone")})),a.fd(31,"Phone "),a.ec(32,"span",24),a.hc(),a.ic(33,"th",23),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("email")})),a.fd(34,"Email "),a.ec(35,"span",24),a.hc(),a.ic(36,"th",23),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(37,"Block No "),a.ec(38,"span",24),a.hc(),a.ic(39,"th",23),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitNo")})),a.fd(40,"Unit No "),a.ec(41,"span",24),a.hc(),a.ic(42,"th",25),a.fd(43,"Action"),a.hc(),a.hc(),a.hc(),a.ic(44,"tbody"),a.dd(45,ve,24,14,"tr",26),a.zc(46,"simpleSearch"),a.zc(47,"slice"),a.zc(48,"orderBy"),a.hc(),a.hc(),a.ic(49,"div",27),a.ic(50,"a",28),a.uc("click",(function(){return a.Wc(i),a.yc().activateUser()})),a.ic(51,"span"),a.fd(52,"Activate Selected User"),a.hc(),a.hc(),a.ic(53,"a",28),a.uc("click",(function(){return a.Wc(i),a.yc().activateUser()})),a.ic(54,"span"),a.fd(55,"Bulk Activate"),a.hc(),a.hc(),a.hc(),a.ic(56,"app-pagination",29),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getUserIndexParams(e)})),a.hc(),a.hc(),a.hc()}if(2&e){var c=a.yc();a.Ob(6),a.gd(c.totalUserItems),a.Ob(6),a.Gc("ngModel",c.deActivatedData),a.Ob(7),a.Gc("ngClass",c.isMobileView()),a.Ob(6),a.Gc("ngModel",c.selectAllDeactivatedUser),a.Ob(4),a.Gc("ngClass",c.getFieldOrderBy("name")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("phone")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("email")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("unitNo")),a.Ob(4),a.Gc("ngForOf",a.Bc(46,16,a.Cc(47,19,a.Cc(48,23,c.deActivatedListData,c.unitFieldType,c.unitOrder),c.ItemUserStartIndex,c.ItemUserEndIndex),c.deActivatedData)),a.Ob(5),a.Gc("ngClass",c.isUserSelected?"":"disabled"),a.Ob(3),a.Gc("ngClass",c.isBulkActivate?"":"disabled"),a.Ob(3),a.Gc("totalItems",c.totalUserItems)("ItemStartIndex",c.ItemUserStartIndex)("ItemEndIndex",c.ItemUserEndIndex)("itemLimit",c.itemUserLimit)}}function ye(e,t){if(1&e&&(a.ic(0,"div",42),a.ic(1,"div",43),a.ec(2,"i-feather",44),a.hc(),a.ic(3,"div",45),a.ic(4,"h5"),a.fd(5,"User Info"),a.hc(),a.hc(),a.ic(6,"div",46),a.ic(7,"div",5),a.ic(8,"div",47),a.ic(9,"div",48),a.ec(10,"img",49),a.hc(),a.ic(11,"div",50),a.ic(12,"h5",51),a.fd(13),a.hc(),a.ic(14,"p",36),a.fd(15),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(16,"div",52),a.ic(17,"ul",53),a.ic(18,"li",13),a.ic(19,"h6",51),a.fd(20,"User ID"),a.hc(),a.ic(21,"p"),a.fd(22),a.hc(),a.hc(),a.ic(23,"li",13),a.ic(24,"h6",51),a.fd(25,"Email"),a.hc(),a.ic(26,"p"),a.fd(27),a.hc(),a.hc(),a.ic(28,"li",13),a.ic(29,"h6",51),a.fd(30,"Block No"),a.hc(),a.ic(31,"p"),a.fd(32),a.hc(),a.hc(),a.ic(33,"li",13),a.ic(34,"h6",51),a.fd(35,"Phone No"),a.hc(),a.ic(36,"p"),a.fd(37),a.hc(),a.hc(),a.ic(38,"li",13),a.ic(39,"h6",51),a.fd(40,"Blood Group"),a.hc(),a.ic(41,"p"),a.fd(42),a.hc(),a.hc(),a.ic(43,"li",13),a.ic(44,"h6",51),a.fd(45,"Address"),a.hc(),a.ic(46,"p"),a.fd(47),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(13),a.id("",i.firstName," ",i.lastName,""),a.Ob(2),a.gd(i.roleName),a.Ob(7),a.gd(i.userId),a.Ob(5),a.gd(i.emailId),a.Ob(5),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(5),a.gd(i.phoneNumber),a.Ob(5),a.gd(i.bloodGroup),a.Ob(5),a.jd("",i.address1," ",i.address2," ",i.zipCode,"")}}var Ie,Oe=((Ie=function(){function e(t,i,c,n,a){_classCallCheck(this,e),this.injector=t,this.dialog=i,this.userService=c,this.sharedService=n,this.cookieService=a,this.deActivatedData="",this.ItemUserStartIndex=0,this.itemUserLimit=20,this.unitFieldType="unitno",this.unitOrder=!1,this.selectAllDeactivatedUser=!1,this.isUserSelected=!1,this.isBulkActivate=!1,this.isUserDataLoaded=!1,this.modalService=this.injector.get(L.a)}return _createClass(e,[{key:"getSelectedDeActivatedUser",value:function(e){var t=0;P.each(this.deActivatedListData,(function(e){e.checked&&t++})),this.isUserSelected=t>0,t>1?(this.isBulkActivate=!0,this.isUserSelected=!1):this.isBulkActivate=!1,0==t&&(this.selectAllDeactivatedUser=!1),t==this.deActivatedListData.length&&(this.selectAllDeactivatedUser=!0)}},{key:"getAllDeactivatedUser",value:function(){this.selectAllDeactivatedUser?(P.each(this.deActivatedListData,(function(e){e.checked=!0})),this.isBulkActivate=!0):(P.each(this.deActivatedListData,(function(e){e.checked=!1})),this.isBulkActivate=!1)}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"getUserIndexParams",value:function(e){this.ItemUserStartIndex=e.ItemUserStartIndex,this.ItemUserEndIndex=e.ItemUserEndIndex}},{key:"getBlockNo",value:function(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].blockNo=e[0].apartmentBlockNumber,e[0].apartmentBlockNumber)}},{key:"getBlockUnitNo",value:function(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].unitNo=e[0].apartmentBlockUnitNumber,e[0].apartmentBlockUnitNumber)}},{key:"getNotes",value:function(e){return void 0===e||0==e.length?"":e[0].notes}},{key:"getUserRole",value:function(e,t){return void 0===e||0==e.length?"":(this.deActivatedListData[t].roleName=e[0].roleName,e[0].roleName)}},{key:"getUserRoleInfo",value:function(e){return void 0===e.userRole||0==e.userRole.length?"":e.userRole[0].roleName}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"showUserInfo",value:function(e){var t=this,i=this.deActivatedListData[e].apartmentBlockUnit,c=this.deActivatedListData[e].userRole;this.userService.getUserById(this.deActivatedListData[e].id).subscribe((function(e){var n=e[0];void 0===i||0==i.length?(n.blockNo="Not Available",n.unitNo=""):(n.blockNo=i[0].apartmentBlockNumber,n.unitNo=i[0].apartmentBlockUnitNumber),n.roleName=void 0===c||0==c.length?"Not Available":c[0].roleName,t.dialog.open(t.viewDeactivatedUserRef,{panelClass:"material",disableClose:!0,data:n})}))}},{key:"activateUser",value:function(){var e=this;this.isUserDataLoaded=!1,P.each(this.deActivatedListData,(function(t,i){t.checked&&e.userService.getUserById(t.id).subscribe((function(t){var c=t[0];c.isActive=!0,e.userService.UpdateUser(c).subscribe((function(t){e.deActivatedListData.splice(i,1),e.totalUserItems=e.deActivatedListData.length,e.isUserDataLoaded=!0}))}))}))}},{key:"ngOnInit",value:function(){var e=this;this.userService.getAllUnApprovedUsers().subscribe((function(t){var i=t;console.log(t),e.deActivatedListData=i.filter((function(e){return!e.active})),e.totalUserItems=e.deActivatedListData.length,e.ItemUserEndIndex=e.totalUserItems>e.itemUserLimit?e.itemUserLimit:e.totalUserItems,e.isUserDataLoaded=!0}),(function(e){console.log(e)}))}}]),e}()).\u0275fac=function(e){return new(e||Ie)(a.dc(a.x),a.dc(x.b),a.dc(r.a),a.dc(d.a),a.dc(u.a))},Ie.\u0275cmp=a.Xb({type:Ie,selectors:[["app-de-activated"]],viewQuery:function(e,t){var i;1&e&&a.ld(pe,!0),2&e&&a.Sc(i=a.vc())&&(t.viewDeactivatedUserRef=i.first)},decls:5,vars:2,consts:[[1,"deactivated-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],["viewDeactivatedUserRef",""],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"d-none","d-md-inline-block"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",1,"select"],[1,"form-group"],[1,"form-check","float-left"],["type","checkbox","id","selectAllDeactivatedUser","name","selectAllDeactivatedUser",1,"form-check-input",3,"ngModel","ngModelChange"],["for","selectAllDeactivatedUser",1,"form-check-label"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"button-wrapper","border-top"],[1,"btn","lime-green","sf",3,"ngClass","click"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"select"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","ngModelChange"],[1,"form-check-label",3,"for"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","eye",1,"icon","view"],["href","javascript:void(0)","routerLinkActive","active",1,"mr-2",3,"routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],[1,"pop-desp"],[1,"user-info"],["mat-dialog-close","",1,"close-icon"],["name","x","width","20",1,"icon","del"],[1,"title"],[1,"card"],[1,"media"],[1,"icon","mr-4"],["src","assets/images/user-icon.svg","width","36"],[1,"media-body"],[1,"mt-0"],[1,"card-body","lists"],[1,"list-group"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,fe,1,0,"app-loader",1),a.dd(2,be,57,27,"div",2),a.dd(3,ye,48,12,"ng-template",null,3,a.ed),a.hc()),2&e&&(a.Ob(1),a.Gc("ngIf",!t.isUserDataLoaded),a.Ob(1),a.Gc("ngIf",t.isUserDataLoaded))},directives:[c.l,p.a,m.c,m.a,f.d,f.n,f.q,A.b,c.j,m.d,f.a,c.k,G.a,w.c,n.e,n.d,x.c],pipes:[W.c,c.t,W.b],styles:[""]}),Ie);function ke(e,t){1&e&&a.ec(0,"app-loader")}var Ue=function(){return{exact:!0}};function Ce(e,t){if(1&e&&(a.ic(0,"div",5),a.ic(1,"div",6),a.ic(2,"a",7),a.ic(3,"div",8),a.ic(4,"h6"),a.fd(5),a.hc(),a.ic(6,"p"),a.fd(7),a.hc(),a.hc(),a.hc(),a.ec(8,"div",9),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(2),a.Jc("routerLink","",i.lookupValueName,"/",i.lookupValueID,""),a.Gc("routerLinkActiveOptions",a.Mc(5,Ue)),a.Ob(3),a.gd(i.lookupValueName),a.Ob(2),a.gd(i.description)}}function Me(e,t){if(1&e&&(a.gc(0),a.ic(1,"h5",2),a.fd(2,"Reports"),a.hc(),a.ic(3,"div",3),a.dd(4,Ce,9,6,"div",4),a.hc(),a.fc()),2&e){var i=a.yc();a.Ob(4),a.Gc("ngForOf",i.reportDataList)}}var Ne,De=((Ne=function(){function e(t,i,c){_classCallCheck(this,e),this.lookupService=t,this.sharedService=i,this.cookieService=c,this.isDataLoaded=!1}return _createClass(e,[{key:"formatName",value:function(e){return e.replace(/^\s+|\s+$/g,"")}},{key:"ngOnInit",value:function(){var e=this,t={ApartmentId:parseInt(this.cookieService.get("apartmentId")),LookupTypeId:87,MenuName:"UnitUser"};this.lookupService.getLookupValuesByApartmentIdLookupTypeIdMenuName(t).subscribe((function(t){e.reportDataList=t,e.isDataLoaded=!0}))}}]),e}()).\u0275fac=function(e){return new(e||Ne)(a.dc(s.a),a.dc(d.a),a.dc(u.a))},Ne.\u0275cmp=a.Xb({type:Ne,selectors:[["app-user-reports"]],decls:3,vars:2,consts:[[1,"reports-wrapper"],[4,"ngIf"],[1,"mb-3"],[1,"row"],["class","col-sm-6 mb-20",4,"ngFor","ngForOf"],[1,"col-sm-6","mb-20"],[1,"card","report-card"],["href","javascript:void(0)","routerLinkActive","active",1,"t-no-decor",3,"routerLink","routerLinkActiveOptions"],[1,"card-header"],[1,"card-body"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,ke,1,0,"app-loader",1),a.dd(2,Me,5,1,"ng-container",1),a.hc()),2&e&&(a.Ob(1),a.Gc("ngIf",!t.isDataLoaded),a.Ob(1),a.Gc("ngIf",t.isDataLoaded))},directives:[c.l,p.a,c.k,n.e,n.d],styles:[""]}),Ne),Se=i("wd/R");function Be(e,t){1&e&&a.ec(0,"app-loader")}function Le(e,t){if(1&e&&(a.ic(0,"option",36),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function Pe(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",37),a.fd(2),a.hc(),a.ic(3,"td",38),a.fd(4),a.hc(),a.ic(5,"td",38),a.fd(6),a.hc(),a.ic(7,"td",38),a.fd(8),a.hc(),a.ic(9,"td",38),a.fd(10),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(2),a.gd(i.unitUserName),a.Ob(2),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(2),a.gd(i.emailID),a.Ob(2),a.gd(i.userTypeName),a.Ob(2),a.gd(i.mobile)}}function xe(e,t){1&e&&(a.ic(0,"div",39),a.ic(1,"p",40),a.fd(2,"No Data Available"),a.hc(),a.hc())}var Ae=function(){return{exact:!0}};function Ge(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"div",2),a.ic(2,"h6"),a.ec(3,"i-feather",3),a.fd(4,"Filter By"),a.hc(),a.hc(),a.ic(5,"div",4),a.ic(6,"div",5),a.ic(7,"div",6),a.ic(8,"a",7),a.ic(9,"div",8),a.ec(10,"img",9),a.hc(),a.ic(11,"span",10),a.fd(12,"View All Report Types"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(13,"div",11),a.ic(14,"form",12,13),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(15);return a.yc().submitIncomeFilterForm(e)})),a.ic(16,"div",14),a.ic(17,"div",15),a.ic(18,"div",16),a.ic(19,"div",17),a.ic(20,"label"),a.fd(21,"Select Block No"),a.hc(),a.ic(22,"select",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().blockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getBlockDetails()})),a.ic(23,"option",19),a.fd(24,"All Blocks"),a.hc(),a.dd(25,Le,2,2,"option",20),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(26,"div",21),a.ic(27,"div",22),a.ic(28,"div",23),a.ic(29,"h5"),a.fd(30),a.ic(31,"span",24),a.fd(32),a.hc(),a.hc(),a.ic(33,"p"),a.fd(34),a.hc(),a.hc(),a.ic(35,"ul",25),a.ic(36,"li",26),a.ec(37,"i",27),a.ic(38,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userReportData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(39,"div",29),a.ic(40,"table",30),a.ic(41,"thead"),a.ic(42,"tr"),a.ic(43,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitUserName")})),a.fd(44,"User Name"),a.ec(45,"span",32),a.hc(),a.ic(46,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(47,"Block Details"),a.ec(48,"span",32),a.hc(),a.ic(49,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("emailID")})),a.fd(50,"Email ID"),a.ec(51,"span",32),a.hc(),a.ic(52,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("userTypeName")})),a.fd(53,"User Type"),a.ec(54,"span",32),a.hc(),a.ic(55,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("mobile")})),a.fd(56,"Mobile"),a.ec(57,"span",32),a.hc(),a.hc(),a.hc(),a.ic(58,"tbody"),a.dd(59,Pe,11,6,"tr",33),a.zc(60,"simpleSearch"),a.zc(61,"slice"),a.zc(62,"orderBy"),a.hc(),a.hc(),a.dd(63,xe,3,0,"div",34),a.ic(64,"app-pagination",35),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.yc();a.Ob(8),a.Gc("routerLinkActiveOptions",a.Mc(30,Ae)),a.Ob(14),a.Gc("ngModel",c.blockId),a.Ob(3),a.Gc("ngForOf",c.unitBlocksData),a.Ob(5),a.hd("",c.pageName," "),a.Ob(2),a.gd(c.totalItems),a.Ob(2),a.hd("Data from ",c.blockNo,""),a.Ob(4),a.Gc("ngModel",c.userReportData),a.Ob(2),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("unitUserName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("emailID")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("userTypeName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("mobile")),a.Ob(2),a.Gc("ngForOf",a.Bc(60,19,a.Cc(61,22,a.Cc(62,26,c.userReportDataList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.userReportData)),a.Ob(4),a.Gc("ngIf",c.isNoItemsAvailable()),a.Ob(1),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function we(e,t){if(1&e&&(a.ic(0,"option",36),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function Fe(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",37),a.fd(2),a.hc(),a.ic(3,"td",38),a.fd(4),a.hc(),a.ic(5,"td",38),a.fd(6),a.hc(),a.ic(7,"td",38),a.fd(8),a.hc(),a.ic(9,"td",38),a.fd(10),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(2),a.gd(i.unitUserName),a.Ob(2),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(2),a.gd(i.emailID),a.Ob(2),a.gd(i.userTypeName),a.Ob(2),a.gd(i.mobile)}}function We(e,t){1&e&&(a.ic(0,"div",39),a.ic(1,"p",40),a.fd(2,"No Data Available"),a.hc(),a.hc())}function _e(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"div",2),a.ic(2,"h6"),a.ec(3,"i-feather",3),a.fd(4,"Filter By"),a.hc(),a.hc(),a.ic(5,"div",4),a.ic(6,"div",5),a.ic(7,"div",6),a.ic(8,"a",7),a.ic(9,"div",8),a.ec(10,"img",9),a.hc(),a.ic(11,"span",10),a.fd(12,"View All Report Types"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(13,"div",41),a.ic(14,"form",12,13),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(15);return a.yc().submitIncomeFilterForm(e)})),a.ic(16,"div",14),a.ic(17,"div",15),a.ic(18,"div",16),a.ic(19,"div",17),a.ic(20,"label"),a.fd(21,"Select Block No"),a.hc(),a.ic(22,"select",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().blockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getBlockDetails()})),a.ic(23,"option",19),a.fd(24,"All Blocks"),a.hc(),a.dd(25,we,2,2,"option",20),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(26,"div",21),a.ic(27,"div",22),a.ic(28,"div",23),a.ic(29,"h5"),a.fd(30),a.ic(31,"span",24),a.fd(32),a.hc(),a.hc(),a.ic(33,"p"),a.fd(34),a.hc(),a.hc(),a.ic(35,"ul",25),a.ic(36,"li",26),a.ec(37,"i",27),a.ic(38,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userReportData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(39,"div",29),a.ic(40,"table",30),a.ic(41,"thead"),a.ic(42,"tr"),a.ic(43,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitUserName")})),a.fd(44,"User Name"),a.ec(45,"span",32),a.hc(),a.ic(46,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(47,"Block Details"),a.ec(48,"span",32),a.hc(),a.ic(49,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("emailID")})),a.fd(50,"Email ID"),a.ec(51,"span",32),a.hc(),a.ic(52,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("userTypeName")})),a.fd(53,"User Type"),a.ec(54,"span",32),a.hc(),a.ic(55,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("mobile")})),a.fd(56,"Mobile"),a.ec(57,"span",32),a.hc(),a.hc(),a.hc(),a.ic(58,"tbody"),a.dd(59,Fe,11,6,"tr",33),a.zc(60,"simpleSearch"),a.zc(61,"slice"),a.zc(62,"orderBy"),a.hc(),a.hc(),a.dd(63,We,3,0,"div",34),a.ic(64,"app-pagination",35),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.yc();a.Ob(8),a.Gc("routerLinkActiveOptions",a.Mc(30,Ae)),a.Ob(14),a.Gc("ngModel",c.blockId),a.Ob(3),a.Gc("ngForOf",c.unitBlocksData),a.Ob(5),a.hd("",c.pageName," "),a.Ob(2),a.gd(c.totalItems),a.Ob(2),a.hd("Data from ",c.blockNo,""),a.Ob(4),a.Gc("ngModel",c.userReportData),a.Ob(2),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("unitUserName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("emailID")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("userTypeName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("mobile")),a.Ob(2),a.Gc("ngForOf",a.Bc(60,19,a.Cc(61,22,a.Cc(62,26,c.userReportDataList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.userReportData)),a.Ob(4),a.Gc("ngIf",c.isNoItemsAvailable()),a.Ob(1),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function Te(e,t){if(1&e&&(a.ic(0,"option",36),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function Re(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",37),a.fd(2),a.hc(),a.ic(3,"td",38),a.fd(4),a.hc(),a.ic(5,"td",38),a.fd(6),a.hc(),a.ic(7,"td",38),a.fd(8),a.hc(),a.ic(9,"td",38),a.fd(10),a.hc(),a.ic(11,"td",38),a.fd(12),a.hc(),a.hc()),2&e){var i=t.$implicit;a.Ob(2),a.gd(i.unitUserName),a.Ob(2),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(2),a.gd(i.vehicleNumber),a.Ob(2),a.gd(i.vehicleModel),a.Ob(2),a.gd(i.emailID),a.Ob(2),a.gd(i.mobile)}}function Ee(e,t){1&e&&(a.ic(0,"div",39),a.ic(1,"p",40),a.fd(2,"No Data Available"),a.hc(),a.hc())}function Ve(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"div",2),a.ic(2,"h6"),a.ec(3,"i-feather",3),a.fd(4,"Filter By"),a.hc(),a.hc(),a.ic(5,"div",4),a.ic(6,"div",5),a.ic(7,"div",6),a.ic(8,"a",7),a.ic(9,"div",8),a.ec(10,"img",9),a.hc(),a.ic(11,"span",10),a.fd(12,"View All Report Types"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(13,"div",41),a.ic(14,"form",12,13),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(15);return a.yc().submitIncomeFilterForm(e)})),a.ic(16,"div",14),a.ic(17,"div",15),a.ic(18,"div",16),a.ic(19,"div",17),a.ic(20,"label"),a.fd(21,"Select Block No"),a.hc(),a.ic(22,"select",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().blockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getBlockDetails()})),a.ic(23,"option",19),a.fd(24,"All Blocks"),a.hc(),a.dd(25,Te,2,2,"option",20),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(26,"div",21),a.ic(27,"div",22),a.ic(28,"div",23),a.ic(29,"h5"),a.fd(30),a.ic(31,"span",24),a.fd(32),a.hc(),a.hc(),a.ic(33,"p"),a.fd(34),a.hc(),a.hc(),a.ic(35,"ul",25),a.ic(36,"li",26),a.ec(37,"i",27),a.ic(38,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userReportData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(39,"div",29),a.ic(40,"table",30),a.ic(41,"thead"),a.ic(42,"tr"),a.ic(43,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitUserName")})),a.fd(44,"User Name"),a.ec(45,"span",32),a.hc(),a.ic(46,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(47,"Block Details"),a.ec(48,"span",32),a.hc(),a.ic(49,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("vehicleNumber")})),a.fd(50,"Vehicle Number"),a.ec(51,"span",32),a.hc(),a.ic(52,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("vehicleModel")})),a.fd(53,"Vehicle Model"),a.ec(54,"span",32),a.hc(),a.ic(55,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("emailID")})),a.fd(56,"Email ID"),a.ec(57,"span",32),a.hc(),a.ic(58,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("mobile")})),a.fd(59,"Mobile"),a.ec(60,"span",32),a.hc(),a.hc(),a.hc(),a.ic(61,"tbody"),a.dd(62,Re,13,7,"tr",33),a.zc(63,"simpleSearch"),a.zc(64,"slice"),a.zc(65,"orderBy"),a.hc(),a.hc(),a.dd(66,Ee,3,0,"div",34),a.ic(67,"app-pagination",35),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.yc();a.Ob(8),a.Gc("routerLinkActiveOptions",a.Mc(31,Ae)),a.Ob(14),a.Gc("ngModel",c.blockId),a.Ob(3),a.Gc("ngForOf",c.unitBlocksData),a.Ob(5),a.hd("",c.pageName," "),a.Ob(2),a.gd(c.totalItems),a.Ob(2),a.hd("Data from ",c.blockNo,""),a.Ob(4),a.Gc("ngModel",c.userReportData),a.Ob(2),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("unitUserName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("vehicleNumber")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("vehicleModel")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("emailID")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("mobile")),a.Ob(2),a.Gc("ngForOf",a.Bc(63,20,a.Cc(64,23,a.Cc(65,27,c.userReportDataList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.userReportData)),a.Ob(4),a.Gc("ngIf",c.isNoItemsAvailable()),a.Ob(1),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function je(e,t){if(1&e&&(a.ic(0,"option",36),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function ze(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",37),a.fd(2),a.hc(),a.ic(3,"td",38),a.fd(4),a.hc(),a.ic(5,"td",38),a.fd(6),a.hc(),a.ic(7,"td",38),a.fd(8),a.hc(),a.ic(9,"td",38),a.fd(10),a.hc(),a.ic(11,"td",38),a.fd(12),a.hc(),a.hc()),2&e){var i=t.$implicit,c=a.yc(2);a.Ob(2),a.gd(i.unitUserName),a.Ob(2),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(2),a.gd(c.getDate(i.agreementStartDate)),a.Ob(2),a.gd(c.getDate(i.agreementEndDate)),a.Ob(2),a.gd(i.rentalorLease),a.Ob(2),a.gd(i.emailID)}}function $e(e,t){1&e&&(a.ic(0,"div",39),a.ic(1,"p",40),a.fd(2,"No Data Available"),a.hc(),a.hc())}function qe(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"div",2),a.ic(2,"h6"),a.ec(3,"i-feather",3),a.fd(4,"Filter By"),a.hc(),a.hc(),a.ic(5,"div",4),a.ic(6,"div",5),a.ic(7,"div",6),a.ic(8,"a",7),a.ic(9,"div",8),a.ec(10,"img",9),a.hc(),a.ic(11,"span",10),a.fd(12,"View All Report Types"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(13,"div",41),a.ic(14,"form",12,13),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(15);return a.yc().submitIncomeFilterForm(e)})),a.ic(16,"div",14),a.ic(17,"div",15),a.ic(18,"div",16),a.ic(19,"div",17),a.ic(20,"label"),a.fd(21,"Select Block No"),a.hc(),a.ic(22,"select",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().blockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getBlockDetails()})),a.ic(23,"option",19),a.fd(24,"All Blocks"),a.hc(),a.dd(25,je,2,2,"option",20),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(26,"div",21),a.ic(27,"div",22),a.ic(28,"div",23),a.ic(29,"h5"),a.fd(30),a.ic(31,"span",24),a.fd(32),a.hc(),a.hc(),a.ic(33,"p"),a.fd(34),a.hc(),a.hc(),a.ic(35,"ul",25),a.ic(36,"li",26),a.ec(37,"i",27),a.ic(38,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userReportData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(39,"div",29),a.ic(40,"table",30),a.ic(41,"thead"),a.ic(42,"tr"),a.ic(43,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitUserName")})),a.fd(44,"User Name"),a.ec(45,"span",32),a.hc(),a.ic(46,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(47,"Block Details"),a.ec(48,"span",32),a.hc(),a.ic(49,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("agreementStartDate")})),a.fd(50,"Start Date"),a.ec(51,"span",32),a.hc(),a.ic(52,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("agreementEndDate")})),a.fd(53,"End Date"),a.ec(54,"span",32),a.hc(),a.ic(55,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("rentalorLease")})),a.fd(56,"Rental Lease"),a.ec(57,"span",32),a.hc(),a.ic(58,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("emailID")})),a.fd(59,"Email ID"),a.ec(60,"span",32),a.hc(),a.hc(),a.hc(),a.ic(61,"tbody"),a.dd(62,ze,13,7,"tr",33),a.zc(63,"simpleSearch"),a.zc(64,"slice"),a.zc(65,"orderBy"),a.hc(),a.hc(),a.dd(66,$e,3,0,"div",34),a.ic(67,"app-pagination",35),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.yc();a.Ob(8),a.Gc("routerLinkActiveOptions",a.Mc(31,Ae)),a.Ob(14),a.Gc("ngModel",c.blockId),a.Ob(3),a.Gc("ngForOf",c.unitBlocksData),a.Ob(5),a.hd("",c.pageName," "),a.Ob(2),a.gd(c.totalItems),a.Ob(2),a.hd("Data from ",c.blockNo,""),a.Ob(4),a.Gc("ngModel",c.userReportData),a.Ob(2),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("unitUserName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("agreementStartDate")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("agreementEndDate")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("rentalorLease")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("emailID")),a.Ob(2),a.Gc("ngForOf",a.Bc(63,20,a.Cc(64,23,a.Cc(65,27,c.userReportDataList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.userReportData)),a.Ob(4),a.Gc("ngIf",c.isNoItemsAvailable()),a.Ob(1),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}function Xe(e,t){if(1&e&&(a.ic(0,"option",36),a.fd(1),a.hc()),2&e){var i=t.$implicit;a.Gc("value",i.apartmentBlockId),a.Ob(1),a.gd(i.apartmentBlockNumber)}}function Ye(e,t){if(1&e&&(a.ic(0,"tr"),a.ic(1,"td",37),a.fd(2),a.hc(),a.ic(3,"td",38),a.fd(4),a.hc(),a.ic(5,"td",38),a.fd(6),a.hc(),a.ic(7,"td",38),a.fd(8),a.hc(),a.ic(9,"td",38),a.fd(10),a.hc(),a.ic(11,"td",38),a.fd(12),a.hc(),a.hc()),2&e){var i=t.$implicit,c=a.yc(2);a.Ob(2),a.gd(i.unitUserName),a.Ob(2),a.id("",i.blockNo," ",i.unitNo,""),a.Ob(2),a.gd(i.petName),a.Ob(2),a.gd(c.getDate(i.lastVaccinationDate)),a.Ob(2),a.gd(i.emailID),a.Ob(2),a.gd(i.mobile)}}function Je(e,t){1&e&&(a.ic(0,"div",39),a.ic(1,"p",40),a.fd(2,"No Data Available"),a.hc(),a.hc())}function Ze(e,t){if(1&e){var i=a.jc();a.gc(0),a.ic(1,"div",2),a.ic(2,"h6"),a.ec(3,"i-feather",3),a.fd(4,"Filter By"),a.hc(),a.hc(),a.ic(5,"div",4),a.ic(6,"div",5),a.ic(7,"div",6),a.ic(8,"a",7),a.ic(9,"div",8),a.ec(10,"img",9),a.hc(),a.ic(11,"span",10),a.fd(12,"View All Report Types"),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(13,"div",41),a.ic(14,"form",12,13),a.uc("ngSubmit",(function(){a.Wc(i);var e=a.Tc(15);return a.yc().submitIncomeFilterForm(e)})),a.ic(16,"div",14),a.ic(17,"div",15),a.ic(18,"div",16),a.ic(19,"div",17),a.ic(20,"label"),a.fd(21,"Select Block No"),a.hc(),a.ic(22,"select",18),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().blockId=e}))("ngModelChange",(function(){return a.Wc(i),a.yc().getBlockDetails()})),a.ic(23,"option",19),a.fd(24,"All Blocks"),a.hc(),a.dd(25,Xe,2,2,"option",20),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(26,"div",21),a.ic(27,"div",22),a.ic(28,"div",23),a.ic(29,"h5"),a.fd(30),a.ic(31,"span",24),a.fd(32),a.hc(),a.hc(),a.ic(33,"p"),a.fd(34),a.hc(),a.hc(),a.ic(35,"ul",25),a.ic(36,"li",26),a.ec(37,"i",27),a.ic(38,"input",28),a.uc("ngModelChange",(function(e){return a.Wc(i),a.yc().userReportData=e})),a.hc(),a.hc(),a.hc(),a.hc(),a.ic(39,"div",29),a.ic(40,"table",30),a.ic(41,"thead"),a.ic(42,"tr"),a.ic(43,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("unitUserName")})),a.fd(44,"User Name"),a.ec(45,"span",32),a.hc(),a.ic(46,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("blockNo")})),a.fd(47,"Block Details"),a.ec(48,"span",32),a.hc(),a.ic(49,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("petName")})),a.fd(50,"Pet Name"),a.ec(51,"span",32),a.hc(),a.ic(52,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("lastVaccinationDate")})),a.fd(53,"Last Vaccination Date"),a.ec(54,"span",32),a.hc(),a.ic(55,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("emailID")})),a.fd(56,"Email ID"),a.ec(57,"span",32),a.hc(),a.ic(58,"th",31),a.uc("click",(function(){return a.Wc(i),a.yc().sortUnitData("mobile")})),a.fd(59,"Mobile"),a.ec(60,"span",32),a.hc(),a.hc(),a.hc(),a.ic(61,"tbody"),a.dd(62,Ye,13,7,"tr",33),a.zc(63,"simpleSearch"),a.zc(64,"slice"),a.zc(65,"orderBy"),a.hc(),a.hc(),a.dd(66,Je,3,0,"div",34),a.ic(67,"app-pagination",35),a.uc("outputParams",(function(e){return a.Wc(i),a.yc().getIndexParams(e)})),a.hc(),a.hc(),a.hc(),a.fc()}if(2&e){var c=a.yc();a.Ob(8),a.Gc("routerLinkActiveOptions",a.Mc(31,Ae)),a.Ob(14),a.Gc("ngModel",c.blockId),a.Ob(3),a.Gc("ngForOf",c.unitBlocksData),a.Ob(5),a.hd("",c.pageName," "),a.Ob(2),a.gd(c.totalItems),a.Ob(2),a.hd("Data from ",c.blockNo,""),a.Ob(4),a.Gc("ngModel",c.userReportData),a.Ob(2),a.Gc("ngClass",c.isMobileView()),a.Ob(5),a.Gc("ngClass",c.getFieldOrderBy("unitUserName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("blockNo")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("petName")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("lastVaccinationDate")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("emailID")),a.Ob(3),a.Gc("ngClass",c.getFieldOrderBy("mobile")),a.Ob(2),a.Gc("ngForOf",a.Bc(63,20,a.Cc(64,23,a.Cc(65,27,c.userReportDataList,c.unitFieldType,c.unitOrder),c.ItemStartIndex,c.ItemEndIndex),c.userReportData)),a.Ob(4),a.Gc("ngIf",c.isNoItemsAvailable()),a.Ob(1),a.Gc("totalItems",c.totalItems)("ItemStartIndex",c.ItemStartIndex)("ItemEndIndex",c.ItemEndIndex)("itemLimit",c.itemLimit)}}var He,Qe,Ke,et=((He=function(){function e(t,i,c,n,a,r,o){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=c,this.apartmentService=n,this.lookupService=a,this.sharedService=r,this.cookieService=o,this.pageName="",this.pageDesp="",this.ItemStartIndex=0,this.itemLimit=10,this.unitFieldType="unitno",this.unitOrder=!1,this.isDataLoaded=!1,this.blockId="",this.blockNo="All Blocks"}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"isItemsAvailable",value:function(){return this.totalItems>0}},{key:"isNoItemsAvailable",value:function(){return 0==this.totalItems}},{key:"isListOfResidents",value:function(){return"List of Residents"==this.pageName}},{key:"isListOfApprovedUsers",value:function(){return"List of Approved Users"==this.pageName}},{key:"isListOfDeactivatedUsers",value:function(){return"List of De-activated Users"==this.pageName}},{key:"isListOfResidentsVehicleInfo",value:function(){return"List of Residents Vehicle Info"==this.pageName}},{key:"isListOfExpiringRental",value:function(){return"List of Expiring Rental / Lease Agreements"==this.pageName}},{key:"isListOfUsersWithPets",value:function(){return"List of Users with Pets"==this.pageName}},{key:"getDate",value:function(e){return Se(e).format("DD/MM/YYYY")}},{key:"getBlockDetails",value:function(){var e,t=this;if(this.isDataLoaded=!1,""==this.blockId)e=null,this.blockNo="All Blocks";else{e=this.blockId;var i=this.unitBlocksData.filter((function(t){return t.apartmentBlockId==e}));this.blockNo=i[0].apartmentBlockNumber}var c={ApartmentID:parseInt(this.cookieService.get("apartmentId")),ApartmentBlockID:e};this.isListOfResidents()?this.userService.GetReportUnitUserResidentsbyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()})):this.isListOfApprovedUsers()?this.userService.GetReportApprovedUnitUserbyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()})):this.isListOfDeactivatedUsers()?this.userService.GetReportDeActivatedUnitUserbyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()})):this.isListOfResidentsVehicleInfo()?this.userService.GetReportUnitUserResidentsVehicleInfobyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()})):this.isListOfExpiringRental()?this.userService.GetReportExpiredRentLeaseAgreemtbyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()})):this.isListOfUsersWithPets()&&this.userService.GetReportUnitUserPetInfobyApartmentIdBlockId(c).subscribe((function(e){t.userReportDataList=e,t.isDataLoaded=!0,t.showItems()}))}},{key:"showItems",value:function(){this.totalItems=this.userReportDataList.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems}},{key:"ngOnInit",value:function(){var e=this;this.pageName=this.route.params.value.name,this.apartmentService.getApartmentBlockByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.unitBlocksData=t})),this.lookupService.getLookupValueByLookupTypeId(87).subscribe((function(t){t.filter((function(t){return t.lookupValueId==e.route.params.value.id})),e.pageName=t[0].lookupValueName,e.pageDesp=t[0].description})),this.getBlockDetails()}}]),e}()).\u0275fac=function(e){return new(e||He)(a.dc(n.c),a.dc(n.a),a.dc(r.a),a.dc(l.a),a.dc(s.a),a.dc(d.a),a.dc(u.a))},He.\u0275cmp=a.Xb({type:He,selectors:[["app-user-report-data"]],decls:7,vars:6,consts:[[1,"user-report-data-wrapper"],[4,"ngIf"],[1,"filter-box","float-left","mt-4","p-0","no-border"],["name","filter",1,"icon","mr-2"],[1,"float-right"],[1,"relative-card","float-right"],[1,"relative-icon"],["href","javascript:void(0)","routerLink","/ams/unit&users/reports","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"icon-wrapper"],["src","assets/images/book-icon.svg","width","17",1,"svg"],[1,"d-inline-block"],[1,"card","clear","mb-20","filter-card"],["name","incomeFilterForm","novalidate","",3,"ngSubmit"],["incomeFilterForm","ngForm"],[1,"card-header","no-border"],[1,"row"],[1,"col-sm-3"],[1,"select-box","mb-2"],["name","blockId","id","blockId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"card"],[1,"card-header"],[1,"float-left"],[1,"badge","blue"],[1,"list-inline","float-right"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],["class","button-wrapper border-top",4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"value"],[1,"name"],[1,"grey"],[1,"button-wrapper","border-top"],[1,"snippet"],[1,"card","mb-20","filter-card"]],template:function(e,t){1&e&&(a.ic(0,"div",0),a.dd(1,Be,1,0,"app-loader",1),a.dd(2,Ge,65,31,"ng-container",1),a.dd(3,_e,65,31,"ng-container",1),a.dd(4,Ve,68,32,"ng-container",1),a.dd(5,qe,68,32,"ng-container",1),a.dd(6,Ze,68,32,"ng-container",1),a.hc()),2&e&&(a.Ob(1),a.Gc("ngIf",!t.isDataLoaded),a.Ob(1),a.Gc("ngIf",t.isDataLoaded&&(t.isListOfResidents()||t.isListOfApprovedUsers())),a.Ob(1),a.Gc("ngIf",t.isDataLoaded&&t.isListOfDeactivatedUsers()),a.Ob(1),a.Gc("ngIf",t.isDataLoaded&&t.isListOfResidentsVehicleInfo()),a.Ob(1),a.Gc("ngIf",t.isDataLoaded&&t.isListOfExpiringRental()),a.Ob(1),a.Gc("ngIf",t.isDataLoaded&&t.isListOfUsersWithPets()))},directives:[c.l,p.a,A.b,n.e,n.d,m.e,f.B,f.o,f.p,f.y,f.x,f.n,f.q,f.r,f.A,c.k,m.c,m.a,f.d,c.j,G.a],pipes:[W.c,c.t,W.b],styles:[""]}),He),tt=i("Ukaj"),it=i("gM/p"),ct=i("ERPO"),nt=i("iVCJ"),at=i("gQbJ"),rt=i("3cwP"),ot=i("cCqq"),st=i("69Xs"),dt=i("1u5m"),lt=i("AwNW"),ut=[{path:"",redirectTo:"unapproved",pathMatch:"full"},{path:"unapproved",component:Q,children:[{path:"basic/:id",component:dt.a},{path:"unit/:id",component:at.a},{path:"staffs/:id",component:rt.a},{path:"vehicles/:id",component:tt.a},{path:"pets/:id",component:ct.a},{path:"propertymanager/:id",component:nt.a},{path:"family/:id",component:it.a},{path:"lease/:id",component:ot.a},{path:"interest/:id",component:st.a},{path:"absence/:id",component:lt.a},{path:"**",redirectTo:"basic",pathMatch:"full"}]},{path:"add-users",component:B},{path:"edit-user/:id",component:B},{path:"approved",component:he,children:[{path:"basic/:id",component:dt.a},{path:"unit/:id",component:at.a},{path:"staffs/:id",component:rt.a},{path:"vehicles/:id",component:tt.a},{path:"pets/:id",component:ct.a},{path:"propertymanager/:id",component:nt.a},{path:"family/:id",component:it.a},{path:"lease/:id",component:ot.a},{path:"interest/:id",component:st.a},{path:"absence/:id",component:lt.a},{path:"**",redirectTo:"basic",pathMatch:"full"}]},{path:"access-control",component:B},{path:"broadcast",component:B},{path:"statistics",component:B},{path:"de-activated",component:Oe},{path:"reports",component:De},{path:"reports/:name/:id",component:et},{path:"**",redirectTo:"unapproved",pathMatch:"full"}],ht=((Qe=function e(){_classCallCheck(this,e)}).\u0275mod=a.bc({type:Qe}),Qe.\u0275inj=a.ac({factory:function(e){return new(e||Qe)},imports:[[n.f.forChild(ut)],n.f]}),Qe),pt=i("PCNd"),ft=i("hVtS"),mt=((Ke=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ke)},Ke.\u0275cmp=a.Xb({type:Ke,selectors:[["app-unit-users"]],decls:1,vars:0,template:function(e,t){1&e&&a.ec(0,"router-outlet")},directives:[n.g],styles:[""]}),Ke);i.d(t,"UnitUsersModule",(function(){return vt}));var gt,vt=((gt=function e(){_classCallCheck(this,e)}).\u0275mod=a.bc({type:gt,bootstrap:[mt]}),gt.\u0275inj=a.ac({factory:function(e){return new(e||gt)},imports:[[c.b,ht,pt.a,ft.MyProfileModule]]}),gt)}}]);