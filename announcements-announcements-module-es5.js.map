{"version":3,"sources":["webpack:///src/app/user/announcements/announcements.component.html","webpack:///src/app/user/announcements/announcements-routing.module.ts","webpack:///src/app/user/announcements/announcements.component.scss","webpack:///src/app/user/announcements/announcements.component.ts","webpack:///src/app/user/announcements/announcements.module.ts"],"names":["routes","path","component","AnnouncementsRoutingModule","imports","forChild","exports","AnnouncementsComponent","broadcastService","cookieService","userService","imagePath","filterGroupCategory","interestGroupCategory","apartmentID","parseInt","get","loginUserId","getAllCategory","getAllGroupCategory","getAllBroadcastMessage","groupCategorySetting","singleSelection","labelKey","primaryKey","enableFilterSelectAll","autoPosition","maxHeight","interestGroupCategorySetting","dropdownList","name","value","selectedItems","queryParamBase","apartmentId","getBroadCastMessageCategories","subscribe","res","allCategory","getAllBroadCastGroupCategories","broadCastGroupCategory","groupcategoryId","groupcategory","filter","obj","broadCastGroupCategoryId","groupName","data","item","broadCastMessageCategoryId","undefined","length","broadCastMessageCategory1","allUser","userId","firstName","users$","getAllUsers","allBroadCastmessages$","pipe","users","getAllBroadcastMessages","broadCastMessages","forEach","element","broadCastGroupcategoryId","CategoryName","getCategoryName","broadcastMessageCategoryId","getGroupCategoryName","UserName","getUserName","broadcastBy","filterMessages","inDays","today","Date","getFullYear","getMonth","getDate","messageType","numberOfDays","current","previousDate","interestGroupBased","parse","broadcastOn","userIds","split","includes","toString","broadCastBased","selector","template","AnnouncementsModule","declarations"],"mappings":"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","file":"announcements-announcements-module-es5.js","sourcesContent":["export default \"<div class=\\\"user-announcements-wrapper col-sm-10 col-offset-2 m-auto\\\">\\n  <mat-tab-group dynamicHeight>\\n                 <mat-tab label=\\\"BroadCast Group Based\\\">\\n<div class=\\\"row\\\">\\n<div class=\\\"col-3\\\"> \\n    <angular2-multiselect [data]=\\\"filterGroupCategory.dropdownList\\\"\\n     name=\\\"groupTypeDropDown\\\"\\n    [(ngModel)]=\\\"filterGroupCategory.selectedItems\\\" \\n    [settings]=\\\"groupCategorySetting\\\"  \\n    (onSelect)=\\\"filterMessages($event,'broadcastGroup')\\\">\\n</angular2-multiselect>\\n</div>\\n  \\n</div>\\n                    \\n  <ngb-carousel  class=\\\"mt-5\\\" >\\n      <ng-template ngbSlide *ngFor=\\\"let broadCastMessage of broadCastBased\\\">\\n          \\n        <div class=\\\"picsum-img-wrapper\\\">\\n            \\n          <img [src]=\\\"imagePath\\\" alt=\\\"Random first slide\\\">\\n         \\n        </div>\\n        <div class=\\\"carousel-caption1\\\">\\n          <h5> {{broadCastMessage.CategoryName}}</h5>\\n        </div>\\n        <div class=\\\"carousel-caption2\\\"> \\n          <h5><b> {{broadCastMessage.subject}}</b> </h5>\\n        </div>\\n        <div class=\\\"carousel-caption3\\\">\\n          <h5>Posted By: {{broadCastMessage.UserName}}</h5>\\n          </div>\\n      </ng-template>\\n     </ngb-carousel>\\n</mat-tab>\\n                          <mat-tab label=\\\"Interest Group Based \\\"> \\n                              <div class=\\\"row\\\">\\n                                  <div class=\\\"col-3 offset-3\\\"> \\n                                 <angular2-multiselect  [data]=\\\"interestGroupCategory.dropdownList\\\" \\n                                      name=\\\"interestGroupTypeDropDown\\\"\\n                                      [(ngModel)]=\\\"interestGroupCategory.selectedItems\\\" \\n                                      [settings]=\\\"interestGroupCategorySetting\\\"\\n                                      (onSelect)=\\\"filterMessages($event,'interestGroup')\\\"\\n                                      >\\n                                  </angular2-multiselect>\\n                                  </div>\\n                                  </div>\\n                              \\n                            <ngb-carousel class=\\\"mt-5\\\" >\\n                              \\n                              <ng-template ngbSlide *ngFor=\\\"let broadCastMessage of interestGroupBased\\\">\\n                                <div class=\\\"picsum-img-wrapper\\\">\\n                                  <img [src]=\\\"imagePath\\\" alt=\\\"Random first slide\\\">\\n                                 \\n                                </div>\\n                                <div class=\\\"carousel-caption1\\\">\\n                                  <h5> {{broadCastMessage.CategoryName}}</h5>\\n                                </div>\\n                                <div class=\\\"carousel-caption2\\\"> \\n                                  <h5><b> {{broadCastMessage.subject}}</b> </h5>\\n                                </div>\\n                                <div class=\\\"carousel-caption3\\\">\\n                                  <h5>Posted By: {{broadCastMessage.UserName}}</h5>\\n                                  </div>\\n                              </ng-template>\\n                              \\n                            </ngb-carousel> </mat-tab>\\n                          \\n                         </mat-tab-group> \\n  </div>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { AnnouncementsComponent } from './announcements.component';\n\nconst routes: Routes = [\n\t{ path: '', component: AnnouncementsComponent},\n\t{ path: 'announcement', component: AnnouncementsComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AnnouncementsRoutingModule { }\n","export default \".user-announcements-wrapper img {\\n  width: 100%;\\n}\\n.user-announcements-wrapper .carousel-caption1 {\\n  position: absolute;\\n  right: 10%;\\n  top: 50px;\\n  left: -30%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  text-align: center;\\n}\\n.user-announcements-wrapper .carousel-caption2 {\\n  position: absolute;\\n  top: 100px;\\n  left: 22%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  text-align: center;\\n}\\n.user-announcements-wrapper .carousel-caption3 {\\n  position: absolute;\\n  right: 15%;\\n  bottom: 87px;\\n  left: 10%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  color: #fff;\\n  text-align: center;\\n}\\n.user-announcements-wrapper angular2-multiselect .c-btn {\\n  border: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zZW50aGlsa3VtYXJzZWV0aGFyYW1hbi9Eb2N1bWVudHMvd29ya3MvY2xpY2tteWNvbmRvL2FwcC1uZzkvc3JjL2FwcC91c2VyL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvdXNlci9hbm5vdW5jZW1lbnRzL2Fubm91bmNlbWVudHMuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0c7RUFDQyxXQUFBO0FDRko7QURJRTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQ0ZOO0FESUU7RUFDSSxrQkFBQTtFQUVBLFVBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxrQkFBQTtBQ0hOO0FES0U7RUFDSSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7RUFDQSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FDSE47QURLRTtFQUNFLHVCQUFBO0FDSEoiLCJmaWxlIjoic3JjL2FwcC91c2VyL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51c2VyLWFubm91bmNlbWVudHMtd3JhcHBlcntcbiAgLy8gbWFyZ2luLWxlZnQ6IDEwMHB4OyBcbiAgLy8gbWFyZ2luLXJpZ2h0OiAxMjFweDtcbiAgIGltZ3tcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuICAuY2Fyb3VzZWwtY2FwdGlvbjF7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICByaWdodDogMTAlO1xuICAgICAgdG9wOiA1MHB4O1xuICAgICAgbGVmdDogLTMwJTtcbiAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAuY2Fyb3VzZWwtY2FwdGlvbjJ7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAvLyByaWdodDogMjYlO1xuICAgICAgdG9wOiAxMDBweDtcbiAgICAgIGxlZnQ6IDIyJTtcbiAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICAuY2Fyb3VzZWwtY2FwdGlvbjN7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICByaWdodDogMTUlO1xuICAgICAgYm90dG9tOjg3cHg7XG4gICAgICBsZWZ0OiAxMCU7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuICBhbmd1bGFyMi1tdWx0aXNlbGVjdCAuYy1idG4ge1xuICAgIGJvcmRlcjogbm9uZSFpbXBvcnRhbnQ7IFxuICAgIFxufVxufSIsIi51c2VyLWFubm91bmNlbWVudHMtd3JhcHBlciBpbWcge1xuICB3aWR0aDogMTAwJTtcbn1cbi51c2VyLWFubm91bmNlbWVudHMtd3JhcHBlciAuY2Fyb3VzZWwtY2FwdGlvbjEge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAxMCU7XG4gIHRvcDogNTBweDtcbiAgbGVmdDogLTMwJTtcbiAgei1pbmRleDogMTA7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLnVzZXItYW5ub3VuY2VtZW50cy13cmFwcGVyIC5jYXJvdXNlbC1jYXB0aW9uMiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMDBweDtcbiAgbGVmdDogMjIlO1xuICB6LWluZGV4OiAxMDtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udXNlci1hbm5vdW5jZW1lbnRzLXdyYXBwZXIgLmNhcm91c2VsLWNhcHRpb24zIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMTUlO1xuICBib3R0b206IDg3cHg7XG4gIGxlZnQ6IDEwJTtcbiAgei1pbmRleDogMTA7XG4gIHBhZGRpbmctdG9wOiAyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbiAgY29sb3I6ICNmZmY7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi51c2VyLWFubm91bmNlbWVudHMtd3JhcHBlciBhbmd1bGFyMi1tdWx0aXNlbGVjdCAuYy1idG4ge1xuICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcbn0iXX0= */\"","\n  import { Component, OnInit ,Injector } from '@angular/core';\n  import { CookieService } from 'ngx-cookie-service';\n  import { BroadcastService } from \"src/app/api/controllers/Broadcast\"\n  import { UserService } from 'src/app/api/controllers/User';\n  import * as _ from 'underscore';\n  import {concatMap } from 'rxjs/operators';\n  @Component({\n    selector: 'app-announcements',\n    templateUrl: './announcements.component.html',\n    styleUrls: ['./announcements.component.scss']\n  })\n  export class AnnouncementsComponent implements OnInit  {\n  \n    imagePath=\"assets/images/announcement_background.jpeg\";\n    modalService:any;\n   \n    constructor(\n      public broadcastService: BroadcastService,\n      private cookieService:CookieService,\n      private userService:UserService,\n      //private injector: Injector,\n    ) { \n  \n      //this.modalService = this.injector.get(ModalService);\n    }\n    filterGroupCategory={\n      \"dropdownList\":[],\n      \"selectedItems\":[]\n    };\n    interestGroupCategory={\n      \"dropdownList\":[],\n      \"selectedItems\":[]\n    };\n    apartmentID:any;\n    loginUserId:any;\n    groupCategorySetting:any;\n    interestGroupCategorySetting:any;\n  \n    ngOnInit(): void {\n      this.apartmentID=parseInt(this.cookieService.get('apartmentId'));\n      this.loginUserId=parseInt(this.cookieService.get('userId'));\n      this.getAllCategory();\n      this.getAllGroupCategory();\n      this.getAllBroadcastMessage();\n       this.groupCategorySetting={\n        singleSelection: true, \n        labelKey: 'name',\n        primaryKey: 'value',\n        enableFilterSelectAll: false,\n        autoPosition: false,\n        maxHeight:240\n      };\n      this.interestGroupCategorySetting={\n        singleSelection: true, \n        labelKey: 'name',\n        primaryKey: 'value',\n        enableFilterSelectAll: false,\n        autoPosition: false,\n        maxHeight:240\n      };\n      this.filterGroupCategory.dropdownList=[{name:\"today\",value:0},{name:\"yesterday\",value:1},{name:\"Past Week\",value:7},{name:\"Past 2 Week\",value:14}];\n      this.interestGroupCategory.dropdownList=[{name:\"today\",value:0},{name:\"yesterday\",value:1},{name:\"Past Week\",value:7},{name:\"Past 2 Week\",value:14}];\n      this.filterGroupCategory.selectedItems=[{name:\"today\",value:0}];\n      this.interestGroupCategory.selectedItems=[{name:\"today\",value:0}];\n     \n    }\n   \n    broadCastMessages:any;\n    allUser:any;\n    allCategory:any;\n     //Get All Category\n     getAllCategory(){\n      let queryParamBase = {\n        apartmentId:parseInt(this.cookieService.get('apartmentId'))\n      };\n      this.broadcastService.getBroadCastMessageCategories(queryParamBase).subscribe((res:any) => {\n        this.allCategory = res;\n      })\n    }\n    broadCastGroupCategory:any;\n    \n    getAllGroupCategory(){\n      let queryParamBase = {\n        apartmentId: this.apartmentID,\n      };\n      this.broadcastService.getAllBroadCastGroupCategories(queryParamBase).subscribe((res:any) => {\n        this.broadCastGroupCategory= res; \n        });\n    }\n    getGroupCategoryName(groupcategoryId){\n     let groupcategory= this.broadCastGroupCategory.filter(function(obj){\n      return obj.broadCastGroupCategoryId==groupcategoryId;\n      });\n    return  groupcategory[0].groupName;\n    }\n    getCategoryName(name){\n      var data = _.filter( this.allCategory, function( item ) {\n        if(item.broadCastMessageCategoryId === name)\n          return item;\n        } );\n  \n        if(data === undefined || data === null || data.length == 0){\n          return '';\n        }\n        else {\n          return data[0].broadCastMessageCategory1;\n        }\n    }\n    getBroadcastGroupCategory(item){\n  \n    }\n    getUserName(name){\n      var data = _.filter( this.allUser, function( item ) {\n        if(item.userId === name)\n          return item;\n        } );\n  \n        if(data === undefined || data === null || data.length == 0){\n          return '';\n        }\n        else {\n          return data[0].firstName;\n        }\n    }\n    broadCastBased:any;\n    interestGroupBased:any;\n    getAllBroadcastMessage(){\n     \n      var users$=this.userService.getAllUsers();\n    var allBroadCastmessages$= users$.pipe(\n       concatMap((users:any) =>{\n         this.allUser = users;\n         let queryParamBase = {\n          apartmentId:parseInt(this.cookieService.get('apartmentId'))\n        };\n         return  this.broadcastService.getAllBroadcastMessages(queryParamBase);\n       } )\n      );\n      \n     \n       allBroadCastmessages$.subscribe(\n                   (res:any)=>{\n                       this.broadCastMessages=res;\n                       this.broadCastMessages.forEach(element => {\n                         if(element.broadCastGroupcategoryId==null)\n                         { \n                           element.CategoryName=this.getCategoryName(element.broadcastMessageCategoryId);\n  \n                         }else{\n                          element.CategoryName=this.getGroupCategoryName(element.broadCastGroupcategoryId);\n  \n                         }\n                        \n                         element.UserName=this.getUserName(element.broadcastBy);\n                       });\n                       this.filterMessages({name:\"today\",value:0},\"interestGroup\");\n                       this.filterMessages({name:\"today\",value:0},\"broadcastGroup\");\n                  }\n   \n       );\n       \n     }\n     getDate(inDays) {\n      const today = new Date(); \n      return new Date(today.getFullYear(),\n                      today.getMonth(),\n                      today.getDate() + (inDays * -1));\n  }\n     \n     filterMessages(item,messageType){\n       let numberOfDays=item.value\n      let current= new Date();\n      let previousDate=this.getDate(numberOfDays);\n      let loginUserId=this.loginUserId;\n        if(messageType==\"interestGroup\")\n        {\n      \n          this.interestGroupBased=this.broadCastMessages.filter(function(obj){\n            return obj.broadCastGroupcategoryId!=null \n            && current>new Date(Date.parse(obj.broadcastOn))\n            && previousDate<new Date(Date.parse(obj.broadcastOn))\n            && obj.userIds.split(',').includes(loginUserId.toString());\n         \n          });\n          if(this.interestGroupBased.length==0){\n            this.interestGroupBased=[{}];\n            } \n        }\n        if(messageType==\"broadcastGroup\"){\n          \n          this.broadCastBased=this.broadCastMessages.filter(function(obj){\n            return obj.broadCastGroupcategoryId==null\n                  && current>new Date(Date.parse(obj.broadcastOn))\n                  && previousDate<new Date(Date.parse(obj.broadcastOn))\n                  && obj.userIds.split(',').includes(loginUserId.toString());\n          });\n          if(this.broadCastBased.length==0){\n            this.broadCastBased=[{}];\n          }   \n        }\n        \n           \n  }\n  \n  }\n  \n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AnnouncementsRoutingModule } from './announcements-routing.module'\n\nimport { SharedModule } from '../../shared/shared.module';\nimport { AnnouncementsComponent } from './announcements.component';\n\nimport {AngularMultiSelectModule} from \"angular2-multiselect-dropdown\";\n\n@NgModule({\n  declarations: [AnnouncementsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    AnnouncementsRoutingModule,\n    AngularMultiSelectModule\n  ]\n})\nexport class AnnouncementsModule { }\n"]}