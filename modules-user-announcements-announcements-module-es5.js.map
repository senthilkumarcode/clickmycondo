{"version":3,"sources":["webpack:///src/app/modules/user/announcements/announcements.component.html","webpack:///src/app/modules/user/announcements/announcements-routing.module.ts","webpack:///src/app/modules/user/announcements/announcements.component.scss","webpack:///src/app/modules/user/announcements/announcements.component.ts","webpack:///src/app/modules/user/announcements/announcements.module.ts"],"names":["routes","path","component","AnnouncementsRoutingModule","imports","forChild","exports","AnnouncementsComponent","broadcastService","sessionService","userService","imagePath","filterGroupCategory","interestGroupCategory","apartmentID","apartmentId","loginUserId","parseInt","userId","getAllCategory","getAllGroupCategory","getAllBroadcastMessage","groupCategorySetting","singleSelection","labelKey","primaryKey","enableFilterSelectAll","autoPosition","maxHeight","interestGroupCategorySetting","dropdownList","name","value","selectedItems","queryParamBase","getBroadCastMessageCategories","subscribe","res","allCategory","getAllBroadCastGroupCategories","broadCastGroupCategory","groupcategoryId","groupcategory","filter","obj","broadCastGroupCategoryId","groupName","data","item","broadCastMessageCategoryId","undefined","length","broadCastMessageCategory1","allUser","firstName","users$","getAllUsers","allBroadCastmessages$","pipe","users","getAllBroadcastMessages","broadCastMessages","forEach","element","broadCastGroupcategoryId","CategoryName","getCategoryName","broadcastMessageCategoryId","getGroupCategoryName","UserName","getUserName","broadcastBy","filterMessages","inDays","today","Date","getFullYear","getMonth","getDate","messageType","numberOfDays","current","previousDate","interestGroupBased","parse","broadcastOn","userIds","split","includes","toString","broadCastBased","selector","template","AnnouncementsModule","declarations"],"mappings":"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","file":"modules-user-announcements-announcements-module-es5.js","sourcesContent":["export default \"<div class=\\\"user-announcements-wrapper col-sm-10 col-offset-2 m-auto\\\">\\n  <mat-tab-group dynamicHeight>\\n                 <mat-tab label=\\\"BroadCast Group Based\\\">\\n<div class=\\\"row\\\">\\n<div class=\\\"col-3\\\"> \\n    <angular2-multiselect [data]=\\\"filterGroupCategory.dropdownList\\\"\\n     name=\\\"groupTypeDropDown\\\"\\n    [(ngModel)]=\\\"filterGroupCategory.selectedItems\\\" \\n    [settings]=\\\"groupCategorySetting\\\"  \\n    (onSelect)=\\\"filterMessages($event,'broadcastGroup')\\\">\\n</angular2-multiselect>\\n</div>\\n  \\n</div>\\n                    \\n  <ngb-carousel  class=\\\"mt-5\\\" >\\n      <ng-template ngbSlide *ngFor=\\\"let broadCastMessage of broadCastBased\\\">\\n          \\n        <div class=\\\"picsum-img-wrapper\\\">\\n            \\n          <img [src]=\\\"imagePath\\\" alt=\\\"Random first slide\\\">\\n         \\n        </div>\\n        <div class=\\\"carousel-caption1\\\">\\n          <h5> {{broadCastMessage.CategoryName}}</h5>\\n        </div>\\n        <div class=\\\"carousel-caption2\\\"> \\n          <h5><b> {{broadCastMessage.subject}}</b> </h5>\\n        </div>\\n        <div class=\\\"carousel-caption3\\\">\\n          <h5>Posted By: {{broadCastMessage.UserName}}</h5>\\n          </div>\\n      </ng-template>\\n     </ngb-carousel>\\n</mat-tab>\\n                          <mat-tab label=\\\"Interest Group Based \\\"> \\n                              <div class=\\\"row\\\">\\n                                  <div class=\\\"col-3 offset-3\\\"> \\n                                 <angular2-multiselect  [data]=\\\"interestGroupCategory.dropdownList\\\" \\n                                      name=\\\"interestGroupTypeDropDown\\\"\\n                                      [(ngModel)]=\\\"interestGroupCategory.selectedItems\\\" \\n                                      [settings]=\\\"interestGroupCategorySetting\\\"\\n                                      (onSelect)=\\\"filterMessages($event,'interestGroup')\\\"\\n                                      >\\n                                  </angular2-multiselect>\\n                                  </div>\\n                                  </div>\\n                              \\n                            <ngb-carousel class=\\\"mt-5\\\" >\\n                              \\n                              <ng-template ngbSlide *ngFor=\\\"let broadCastMessage of interestGroupBased\\\">\\n                                <div class=\\\"picsum-img-wrapper\\\">\\n                                  <img [src]=\\\"imagePath\\\" alt=\\\"Random first slide\\\">\\n                                 \\n                                </div>\\n                                <div class=\\\"carousel-caption1\\\">\\n                                  <h5> {{broadCastMessage.CategoryName}}</h5>\\n                                </div>\\n                                <div class=\\\"carousel-caption2\\\"> \\n                                  <h5><b> {{broadCastMessage.subject}}</b> </h5>\\n                                </div>\\n                                <div class=\\\"carousel-caption3\\\">\\n                                  <h5>Posted By: {{broadCastMessage.UserName}}</h5>\\n                                  </div>\\n                              </ng-template>\\n                              \\n                            </ngb-carousel> </mat-tab>\\n                          \\n                         </mat-tab-group> \\n  </div>\\n\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nimport { AnnouncementsComponent } from './announcements.component';\n\nconst routes: Routes = [\n\t{ path: '', component: AnnouncementsComponent},\n\t{ path: 'announcement', component: AnnouncementsComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AnnouncementsRoutingModule { }\n","export default \".user-announcements-wrapper img {\\n  width: 100%;\\n}\\n.user-announcements-wrapper .carousel-caption1 {\\n  position: absolute;\\n  right: 10%;\\n  top: 50px;\\n  left: -30%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  text-align: center;\\n}\\n.user-announcements-wrapper .carousel-caption2 {\\n  position: absolute;\\n  top: 100px;\\n  left: 22%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  text-align: center;\\n}\\n.user-announcements-wrapper .carousel-caption3 {\\n  position: absolute;\\n  right: 15%;\\n  bottom: 87px;\\n  left: 10%;\\n  z-index: 10;\\n  padding-top: 20px;\\n  padding-bottom: 20px;\\n  color: #fff;\\n  text-align: center;\\n}\\n.user-announcements-wrapper angular2-multiselect .c-btn {\\n  border: none !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy91c2VyL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHRztFQUNDLFdBQUE7QUFGSjtBQUlFO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0FBRk47QUFJRTtFQUNJLGtCQUFBO0VBRUEsVUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLGtCQUFBO0FBSE47QUFLRTtFQUNJLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxTQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxXQUFBO0VBQ0Esa0JBQUE7QUFITjtBQUtFO0VBQ0UsdUJBQUE7QUFISiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvdXNlci9hbm5vdW5jZW1lbnRzL2Fubm91bmNlbWVudHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudXNlci1hbm5vdW5jZW1lbnRzLXdyYXBwZXJ7XG4gIC8vIG1hcmdpbi1sZWZ0OiAxMDBweDsgXG4gIC8vIG1hcmdpbi1yaWdodDogMTIxcHg7XG4gICBpbWd7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cbiAgLmNhcm91c2VsLWNhcHRpb24xe1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDEwJTtcbiAgICAgIHRvcDogNTBweDtcbiAgICAgIGxlZnQ6IC0zMCU7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgLmNhcm91c2VsLWNhcHRpb24ye1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgLy8gcmlnaHQ6IDI2JTtcbiAgICAgIHRvcDogMTAwcHg7XG4gICAgICBsZWZ0OiAyMiU7XG4gICAgICB6LWluZGV4OiAxMDtcbiAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgLmNhcm91c2VsLWNhcHRpb24ze1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgcmlnaHQ6IDE1JTtcbiAgICAgIGJvdHRvbTo4N3B4O1xuICAgICAgbGVmdDogMTAlO1xuICAgICAgei1pbmRleDogMTA7XG4gICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgYW5ndWxhcjItbXVsdGlzZWxlY3QgLmMtYnRuIHtcbiAgICBib3JkZXI6IG5vbmUhaW1wb3J0YW50OyBcbiAgICBcbn1cbn0iXX0= */\";","\n  import { Component, OnInit ,Injector } from '@angular/core';\n  import { SessionService } from 'src/app/core/session/session.service';\n  import { BroadcastService } from \"src/app/api/controllers/Broadcast\"\n  import { UserService } from 'src/app/api/controllers/User';\n  import * as _ from 'underscore';\n  import {concatMap } from 'rxjs/operators';\n  @Component({\n    selector: 'app-announcements',\n    templateUrl: './announcements.component.html',\n    styleUrls: ['./announcements.component.scss']\n  })\n  export class AnnouncementsComponent implements OnInit  {\n  \n    imagePath=\"assets/images/announcement_background.jpeg\";\n    modalService:any;\n   \n    constructor(\n      public broadcastService: BroadcastService,\n      private sessionService:SessionService,\n      private userService:UserService,\n      //private injector: Injector,\n    ) { \n  \n      //this.modalService = this.injector.get(ModalService);\n    }\n    filterGroupCategory={\n      \"dropdownList\":[],\n      \"selectedItems\":[]\n    };\n    interestGroupCategory={\n      \"dropdownList\":[],\n      \"selectedItems\":[]\n    };\n    apartmentID:any;\n    loginUserId:any;\n    groupCategorySetting:any;\n    interestGroupCategorySetting:any;\n  \n    ngOnInit(): void {\n      this.apartmentID=this.sessionService.apartmentId;\n      this.loginUserId=parseInt(this.sessionService.userId);\n      this.getAllCategory();\n      this.getAllGroupCategory();\n      this.getAllBroadcastMessage();\n       this.groupCategorySetting={\n        singleSelection: true, \n        labelKey: 'name',\n        primaryKey: 'value',\n        enableFilterSelectAll: false,\n        autoPosition: false,\n        maxHeight:240\n      };\n      this.interestGroupCategorySetting={\n        singleSelection: true, \n        labelKey: 'name',\n        primaryKey: 'value',\n        enableFilterSelectAll: false,\n        autoPosition: false,\n        maxHeight:240\n      };\n      this.filterGroupCategory.dropdownList=[{name:\"today\",value:0},{name:\"yesterday\",value:1},{name:\"Past Week\",value:7},{name:\"Past 2 Week\",value:14}];\n      this.interestGroupCategory.dropdownList=[{name:\"today\",value:0},{name:\"yesterday\",value:1},{name:\"Past Week\",value:7},{name:\"Past 2 Week\",value:14}];\n      this.filterGroupCategory.selectedItems=[{name:\"today\",value:0}];\n      this.interestGroupCategory.selectedItems=[{name:\"today\",value:0}];\n     \n    }\n   \n    broadCastMessages:any;\n    allUser:any;\n    allCategory:any;\n     //Get All Category\n     getAllCategory(){\n      let queryParamBase = {\n        apartmentId:this.sessionService.apartmentId\n      };\n      this.broadcastService.getBroadCastMessageCategories(queryParamBase).subscribe((res:any) => {\n        this.allCategory = res;\n      })\n    }\n    broadCastGroupCategory:any;\n    \n    getAllGroupCategory(){\n      let queryParamBase = {\n        apartmentId: this.apartmentID,\n      };\n      this.broadcastService.getAllBroadCastGroupCategories(queryParamBase).subscribe((res:any) => {\n        this.broadCastGroupCategory= res; \n        });\n    }\n    getGroupCategoryName(groupcategoryId){\n     let groupcategory= this.broadCastGroupCategory.filter(function(obj){\n      return obj.broadCastGroupCategoryId==groupcategoryId;\n      });\n    return  groupcategory[0].groupName;\n    }\n    getCategoryName(name){\n      var data = _.filter( this.allCategory, function( item ) {\n        if(item.broadCastMessageCategoryId === name)\n          return item;\n        } );\n  \n        if(data === undefined || data === null || data.length == 0){\n          return '';\n        }\n        else {\n          return data[0].broadCastMessageCategory1;\n        }\n    }\n    getBroadcastGroupCategory(item){\n  \n    }\n    getUserName(name){\n      var data = _.filter( this.allUser, function( item ) {\n        if(item.userId === name)\n          return item;\n        } );\n  \n        if(data === undefined || data === null || data.length == 0){\n          return '';\n        }\n        else {\n          return data[0].firstName;\n        }\n    }\n    broadCastBased:any;\n    interestGroupBased:any;\n    getAllBroadcastMessage(){\n     \n      var users$=this.userService.getAllUsers();\n    var allBroadCastmessages$= users$.pipe(\n       concatMap((users:any) =>{\n         this.allUser = users;\n         let queryParamBase = {\n          apartmentId:this.sessionService.apartmentId\n        };\n         return  this.broadcastService.getAllBroadcastMessages(queryParamBase);\n       } )\n      );\n      \n     \n       allBroadCastmessages$.subscribe(\n                   (res:any)=>{\n                       this.broadCastMessages=res;\n                       this.broadCastMessages.forEach(element => {\n                         if(element.broadCastGroupcategoryId==null)\n                         { \n                           element.CategoryName=this.getCategoryName(element.broadcastMessageCategoryId);\n  \n                         }else{\n                          element.CategoryName=this.getGroupCategoryName(element.broadCastGroupcategoryId);\n  \n                         }\n                        \n                         element.UserName=this.getUserName(element.broadcastBy);\n                       });\n                       this.filterMessages({name:\"today\",value:0},\"interestGroup\");\n                       this.filterMessages({name:\"today\",value:0},\"broadcastGroup\");\n                  }\n   \n       );\n       \n     }\n     getDate(inDays) {\n      const today = new Date(); \n      return new Date(today.getFullYear(),\n                      today.getMonth(),\n                      today.getDate() + (inDays * -1));\n  }\n     \n     filterMessages(item,messageType){\n       let numberOfDays=item.value\n      let current= new Date();\n      let previousDate=this.getDate(numberOfDays);\n      let loginUserId=this.loginUserId;\n        if(messageType==\"interestGroup\")\n        {\n      \n          this.interestGroupBased=this.broadCastMessages.filter(function(obj){\n            return obj.broadCastGroupcategoryId!=null \n            && current>new Date(Date.parse(obj.broadcastOn))\n            && previousDate<new Date(Date.parse(obj.broadcastOn))\n            && obj.userIds.split(',').includes(loginUserId.toString());\n         \n          });\n          if(this.interestGroupBased.length==0){\n            this.interestGroupBased=[{}];\n            } \n        }\n        if(messageType==\"broadcastGroup\"){\n          \n          this.broadCastBased=this.broadCastMessages.filter(function(obj){\n            return obj.broadCastGroupcategoryId==null\n                  && current>new Date(Date.parse(obj.broadcastOn))\n                  && previousDate<new Date(Date.parse(obj.broadcastOn))\n                  && obj.userIds.split(',').includes(loginUserId.toString());\n          });\n          if(this.broadCastBased.length==0){\n            this.broadCastBased=[{}];\n          }   \n        }\n        \n           \n  }\n  \n  }\n  \n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AnnouncementsRoutingModule } from './announcements-routing.module'\n\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { AnnouncementsComponent } from './announcements.component';\n\nimport {AngularMultiSelectModule} from \"angular2-multiselect-dropdown\";\n\n@NgModule({\n  declarations: [AnnouncementsComponent],\n  imports: [\n    CommonModule,\n    SharedModule,\n    AnnouncementsRoutingModule,\n    AngularMultiSelectModule\n  ]\n})\nexport class AnnouncementsModule { }\n"]}