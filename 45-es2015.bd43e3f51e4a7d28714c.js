(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{YsBZ:function(e,t,i){"use strict";i.r(t);var a=i("ofXK"),c=i("tyNb"),s=i("NutR"),n=i("ThaB"),r=i("wbvY"),o=i("JK/P"),d=i("F/us"),l=i("fXoL"),f=i("0IaG"),h=i("b6Qw"),u=i("wlDI"),g=i("Buwz"),p=i("8mtn"),m=i("NhFE"),y=i("668k"),b=i("3Pt+"),I=i("BR9Y");function v(e,t){1&e&&l.ec(0,"app-loader")}function S(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"li",17),l.ic(2,"div",3),l.ic(3,"h5"),l.fd(4),l.hc(),l.ic(5,"p"),l.fd(6),l.hc(),l.hc(),l.ic(7,"div",6),l.ic(8,"a",18),l.uc("click",(function(){l.Wc(e);const i=t.$implicit;return l.yc(2).editGate(i.gateId)})),l.ec(9,"i-feather",19),l.hc(),l.ic(10,"a",20),l.uc("click",(function(){l.Wc(e);const i=t.$implicit;return l.yc(2).showConfirmModal(i)})),l.ec(11,"i-feather",21),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=t.$implicit;l.Ob(4),l.gd(e.gateName),l.Ob(2),l.gd(e.comments)}}function O(e,t){if(1&e&&(l.gc(0),l.ic(1,"div",15),l.dd(2,S,12,2,"ng-container",16),l.hc(),l.fc()),2&e){const e=l.yc();l.Ob(2),l.Gc("ngForOf",e.gateListData)}}function C(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Add Gate"),l.hc())}function T(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Edit Gate"),l.hc())}function k(e,t){1&e&&l.ec(0,"app-loader")}function M(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"form",27,28),l.uc("ngSubmit",(function(){l.Wc(e);const t=l.Tc(2);return l.yc(2).submitGateForm(t)})),l.ic(3,"div",29),l.ic(4,"div",30),l.ic(5,"div",31),l.ic(6,"label"),l.fd(7,"Gate Name*"),l.hc(),l.ic(8,"input",32),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).gate.gateName=t})),l.hc(),l.hc(),l.hc(),l.ic(9,"div",33),l.ic(10,"div",31),l.ic(11,"label"),l.fd(12,"Comments"),l.hc(),l.ic(13,"textarea",34),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).gate.comments=t})),l.hc(),l.hc(),l.hc(),l.ic(14,"div",33),l.ic(15,"ul",35),l.ic(16,"li",8),l.ic(17,"button",36),l.fd(18,"Submit"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.Tc(2),t=l.yc(2);l.Ob(8),l.Gc("ngModel",t.gate.gateName),l.Ob(5),l.Gc("ngModel",t.gate.comments),l.Ob(4),l.Gc("disabled",e.invalid)}}function G(e,t){if(1&e){const e=l.jc();l.ic(0,"div",22),l.ic(1,"div",1),l.ic(2,"div",23),l.ic(3,"div",3),l.ic(4,"h5"),l.dd(5,C,2,0,"span",12),l.dd(6,T,2,0,"span",12),l.hc(),l.hc(),l.ic(7,"div",24),l.uc("click",(function(){return l.Wc(e),l.yc().closeGate()})),l.ec(8,"i-feather",25),l.hc(),l.hc(),l.ic(9,"div",26),l.dd(10,k,1,0,"app-loader",12),l.dd(11,M,19,3,"ng-container",12),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(5),l.Gc("ngIf",!e.isEditGate),l.Ob(1),l.Gc("ngIf",e.isEditGate),l.Ob(4),l.Gc("ngIf",!e.isGateLoaded),l.Ob(1),l.Gc("ngIf",e.isGateLoaded)}}let L=(()=>{class e{constructor(e,t,i,a,c,s){this.injector=e,this.dialog=t,this.staffService=i,this.lookupService=a,this.sharedService=c,this.cookieService=s,this.isGateLoaded=!0,this.isGateTableLoaded=!1,this.isAddGateLoaded=!1,this.isEditGate=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.modalService=this.injector.get(o.a)}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}submitGateForm(e){if(this.isGateLoaded=!1,this.isEditGate){let e={gateId:parseInt(this.gate.gateId),apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:this.gate.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateGate(e).subscribe(e=>{e.message&&(this.isGateLoaded=!0,this.sharedService.setAlertMessage("Gate updated Successfully!"),this.getAllGates())},e=>{})}else{let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString()};this.staffService.addGate(e).subscribe(e=>{e.message&&(this.isGateLoaded=!0,this.sharedService.setAlertMessage("Gate added Successfully!"),this.getAllGates())},e=>{})}}getAllGates(){this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.isGateTableLoaded=!0,this.gateListData=e.filter(e=>e.isActive),this.totalItems=this.gateListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems},e=>{})}showConfirmModal(e){this.modalService.showConfirmModal(e)}addGate(){this.isEditGate=!1,this.isAddGateLoaded=!1,setTimeout(()=>{this.isAddGateLoaded=!0},10),setTimeout(()=>{var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})},100)}editGate(e){this.isEditGate=!0,this.isGateLoaded=!1,this.staffService.getGateByGateId(e).subscribe(e=>{this.isGateLoaded=!0,this.gate=e[0],this.isAddGateLoaded=!1,setTimeout(()=>{this.isAddGateLoaded=!0},10),setTimeout(()=>{var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})},100)},e=>{})}closeGate(){this.isAddGateLoaded=!1}ngOnInit(){this.gate={},this.getAllGates(),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){this.isGateTableLoaded=!1;var t={gateId:e.gateId,deleteBy:parseInt(this.cookieService.get("userId"))};this.staffService.deleteGate(t).subscribe(t=>{this.gateListData=this.gateListData.filter(t=>t.gateId!==e.gateId),this.sharedService.setUnitListDeleteIndex(null),this.isGateTableLoaded=!0})}})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(l.x),l.dc(f.b),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-gates"]],decls:20,vars:8,consts:[[1,"staff-gates-wrapper"],[1,"card","mb-30"],[1,"card-header","no-border"],[1,"float-left"],[1,"lh-38"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item"],[1,"btn","lime-green","mt_5",3,"click"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],["class","add-gate-card",4,"ngIf"],[1,"simple-lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],["href","javascript:void(0)",1,"icon-link","mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",1,"icon-link",3,"click"],["name","trash",1,"icon","delete"],[1,"add-gate-card"],[1,"card-header"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addGateForm","novalidate","",3,"ngSubmit"],["addGateForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter text","name","gateName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","some text here","name","healthIssue","required","",3,"ngModel","ngModelChange"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.ic(1,"div",1),l.ic(2,"div",2),l.ic(3,"div",3),l.ic(4,"h5",4),l.fd(5,"Gates List "),l.ic(6,"span",5),l.fd(7),l.hc(),l.hc(),l.hc(),l.ic(8,"div",6),l.ic(9,"ul",7),l.ic(10,"li",8),l.ic(11,"a",9),l.uc("click",(function(){return t.addGate()})),l.ec(12,"i-feather",10),l.ic(13,"span"),l.fd(14,"Add Gate"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(15,"div",11),l.dd(16,v,1,0,"app-loader",12),l.dd(17,O,3,1,"ng-container",12),l.hc(),l.ic(18,"app-pagination",13),l.uc("outputParams",(function(e){return t.getIndexParams(e)})),l.hc(),l.hc(),l.dd(19,G,12,4,"div",14),l.hc()),2&e&&(l.Ob(7),l.gd(t.totalItems),l.Ob(9),l.Gc("ngIf",!t.isGateTableLoaded),l.Ob(1),l.Gc("ngIf",t.isGateTableLoaded),l.Ob(1),l.Gc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit),l.Ob(1),l.Gc("ngIf",t.isAddGateLoaded))},directives:[p.b,a.l,m.a,y.a,a.k,b.B,b.o,b.p,I.a,b.d,b.x,b.n,b.q],styles:[""]}),e})();var D=i("wd/R"),E=i("z17N"),w=i("bvAq");function N(e,t){if(1&e){const e=l.jc();l.ic(0,"tr"),l.ic(1,"td",22),l.fd(2),l.hc(),l.ic(3,"td",23),l.fd(4),l.hc(),l.ic(5,"td",24),l.fd(6),l.hc(),l.ic(7,"td"),l.ic(8,"a",25),l.uc("click",(function(){l.Wc(e);const i=t.$implicit;return l.yc(2).editShift(i)})),l.ec(9,"i-feather",26),l.hc(),l.ic(10,"a",27),l.uc("click",(function(){l.Wc(e);const i=t.$implicit;return l.yc(2).showConfirmModal(i)})),l.ec(11,"i-feather",28),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit,i=l.yc(2);l.Ob(2),l.gd(i.getShiftType(e.shiftTypeId)),l.Ob(2),l.gd(e.startTime),l.Ob(2),l.gd(e.totalHours)}}function x(e,t){if(1&e){const e=l.jc();l.ic(0,"div",15),l.ic(1,"table",16),l.ic(2,"thead"),l.ic(3,"tr"),l.ic(4,"th",17),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("shiftType")})),l.fd(5,"Shift Type"),l.ec(6,"span",18),l.hc(),l.ic(7,"th",17),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("startTime")})),l.fd(8,"Shift Start Time"),l.ec(9,"span",18),l.hc(),l.ic(10,"th",17),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("totalHours")})),l.fd(11,"Total (Hrs)"),l.ec(12,"span",18),l.hc(),l.ic(13,"th",19),l.fd(14,"Action"),l.hc(),l.hc(),l.hc(),l.ic(15,"tbody"),l.dd(16,N,12,3,"tr",20),l.zc(17,"simpleSearch"),l.zc(18,"slice"),l.zc(19,"orderBy"),l.hc(),l.hc(),l.ic(20,"app-pagination",21),l.uc("outputParams",(function(t){return l.Wc(e),l.yc().getIndexParams(t)})),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(1),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("shiftType")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("startTime")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("totalHours")),l.Ob(4),l.Gc("ngForOf",l.Bc(17,9,l.Cc(18,12,l.Cc(19,16,e.shiftsListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.shiftData)),l.Ob(4),l.Gc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}function A(e,t){1&e&&(l.ic(0,"h5"),l.fd(1,"Add Staff Shifts"),l.hc())}function F(e,t){1&e&&(l.ic(0,"h5"),l.fd(1,"Edit Staff Shifts"),l.hc())}function B(e,t){1&e&&l.ec(0,"app-loader")}function W(e,t){if(1&e&&(l.ic(0,"option",53),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.lookupValueId),l.Ob(1),l.gd(e.lookupValueName)}}function V(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"form",35,36),l.uc("ngSubmit",(function(){l.Wc(e);const t=l.Tc(2);return l.yc(2).submitShiftsForm(t)})),l.ic(3,"div",37),l.ic(4,"div",38),l.ic(5,"div",39),l.ic(6,"label"),l.fd(7,"Shift Type*"),l.hc(),l.ic(8,"select",40),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).shiftTypeId=t})),l.ic(9,"option",41),l.fd(10,"Select"),l.hc(),l.dd(11,W,2,2,"option",42),l.hc(),l.hc(),l.hc(),l.ic(12,"div",38),l.ic(13,"div",43),l.ic(14,"label"),l.fd(15,"Shift Start Time"),l.hc(),l.ic(16,"input",44),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).shiftStartTime=t})),l.hc(),l.ec(17,"owl-date-time",45,46),l.ic(19,"div",47),l.ec(20,"i-feather",48),l.hc(),l.hc(),l.hc(),l.ic(21,"div",38),l.ic(22,"div",43),l.ic(23,"label"),l.fd(24,"Total hrs"),l.hc(),l.ic(25,"input",49),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).shiftTotalHrs=t})),l.hc(),l.hc(),l.hc(),l.ic(26,"div",50),l.ic(27,"ul",51),l.ic(28,"li",10),l.ic(29,"button",52),l.fd(30,"Submit"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.Tc(2),t=l.Tc(18),i=l.yc(2);l.Ob(8),l.Gc("ngModel",i.shiftTypeId),l.Ob(3),l.Gc("ngForOf",i.shiftTypeList),l.Ob(5),l.Gc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",i.shiftStartTime),l.Ob(1),l.Gc("pickerType","timer"),l.Ob(2),l.Gc("owlDateTimeTrigger",t),l.Ob(6),l.Gc("ngModel",i.shiftTotalHrs),l.Ob(4),l.Gc("disabled",e.invalid)}}function P(e,t){if(1&e){const e=l.jc();l.ic(0,"div",29),l.ic(1,"div",30),l.ic(2,"div",2),l.ic(3,"div",3),l.dd(4,A,2,0,"h5",31),l.dd(5,F,2,0,"h5",31),l.hc(),l.ic(6,"div",32),l.uc("click",(function(){return l.Wc(e),l.yc().closeShift()})),l.ec(7,"i-feather",33),l.hc(),l.hc(),l.ic(8,"div",34),l.dd(9,B,1,0,"app-loader",31),l.dd(10,V,31,9,"ng-container",31),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(4),l.Gc("ngIf",!e.isEditShift),l.Ob(1),l.Gc("ngIf",e.isEditShift),l.Ob(4),l.Gc("ngIf",!e.isShiftsLoaded),l.Ob(1),l.Gc("ngIf",e.isShiftsLoaded)}}let j=(()=>{class e{constructor(e,t,i,a,c,s){this.injector=e,this.dialog=t,this.staffService=i,this.lookupService=a,this.sharedService=c,this.cookieService=s,this.isShiftsLoaded=!0,this.isShiftTableLoaded=!1,this.shiftTypeId="",this.shiftStartTime="",this.shiftTotalHrs=0,this.shiftData="",this.shiftType="",this.isEditShift=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.isAddShiftLoaded=!1,this.modalService=this.injector.get(o.a)}isMobileView(){return window.innerWidth<=767?"table-responsive":""}getShiftType(e){var t=d.filter(this.shiftTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.shiftType=t[0].lookupValueName,t[0].lookupValueName.toLowerCase())}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}submitShiftsForm(e){if(this.isShiftsLoaded=!1,this.isEditShift){let e={shiftId:this.shiftId,apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:D(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:0,insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateShift(e).subscribe(e=>{e.message&&(this.isShiftsLoaded=!0,this.sharedService.setAlertMessage("Shift updated Successfully!"),this.getAllShifts())},e=>{})}else{let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:D(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:"2019-12-03T06:11:51.972Z"};this.staffService.addShift(e).subscribe(e=>{e.message&&(this.isShiftsLoaded=!0,this.sharedService.setAlertMessage("Shift added Successfully!"),this.getAllShifts())},e=>{})}}addShift(){this.isEditShift=!1,this.isAddShiftLoaded=!1,setTimeout(()=>{this.isAddShiftLoaded=!0},10),setTimeout(()=>{var e=document.querySelector(".add-shift-card").getBoundingClientRect().top;window.scroll({top:e,behavior:"smooth"})},10)}editShift(e){this.isAddShiftLoaded=!1,setTimeout(()=>{this.isAddShiftLoaded=!0},10),this.isEditShift=!0,this.shiftTypeId=e.shiftTypeId,this.shiftStartTime=D(e.startTime,"HH:mm").toDate(),this.shiftTotalHrs=e.totalHours,this.shiftId=e.shiftId,setTimeout(()=>{var e=document.querySelector(".add-shift-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})},100)}closeShift(){this.isAddShiftLoaded=!1}showConfirmModal(e){this.modalService.showConfirmModal(e)}getAllShifts(){this.isShiftTableLoaded=!1,this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.shiftsListData=e.filter(e=>e.isActive),this.totalItems=this.shiftsListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isShiftTableLoaded=!0},e=>{})}ngOnInit(){this.shift={},this.getAllShifts(),this.lookupService.getLookupValueByLookupTypeId(28).subscribe(e=>{this.shiftTypeList=e.filter(e=>e.isActive)},e=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){var t={shiftId:e.shiftId,deleteBy:parseInt(this.cookieService.get("userId"))};this.isShiftTableLoaded=!1,this.staffService.deleteShift(t).subscribe(t=>{this.shiftsListData=this.shiftsListData.filter(t=>t.shiftId!==e.shiftId),this.sharedService.setUnitListDeleteIndex(null),this.isShiftTableLoaded=!0},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(l.x),l.dc(f.b),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-shifts"]],decls:20,vars:4,consts:[[1,"staff-shifts-wrapper"],[1,"card","mb-30","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","lime-green",3,"click"],["name","plus",1,"icon","plus"],["class","card-body p-0",4,"ngIf"],["class","add-shift-card",4,"ngIf"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"name"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"add-shift-card"],[1,"card","mb-30"],[4,"ngIf"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addShiftForm","novalidate","",3,"ngSubmit"],["addShiftForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","shiftTypeId","id","shiftTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["name","startTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["startTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","number","OnlyNumber","true","placeholder","Enter value","name","shiftTotalHrs","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.ic(1,"div",1),l.ic(2,"div",2),l.ic(3,"div",3),l.ic(4,"h5"),l.fd(5,"All Shifts "),l.ic(6,"span",4),l.fd(7),l.hc(),l.hc(),l.hc(),l.ic(8,"div",5),l.ic(9,"ul",6),l.ic(10,"li",7),l.ec(11,"i",8),l.ic(12,"input",9),l.uc("ngModelChange",(function(e){return t.shiftData=e})),l.hc(),l.hc(),l.ic(13,"li",10),l.ic(14,"a",11),l.uc("click",(function(){return t.addShift()})),l.ec(15,"i-feather",12),l.ic(16,"span"),l.fd(17,"Add Shift"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.dd(18,x,21,20,"div",13),l.hc(),l.dd(19,P,11,4,"div",14),l.hc()),2&e&&(l.Ob(7),l.gd(t.totalItems),l.Ob(5),l.Gc("ngModel",t.shiftData),l.Ob(6),l.Gc("ngIf",t.isShiftTableLoaded),l.Ob(1),l.Gc("ngIf",t.isAddShiftLoaded))},directives:[I.c,I.a,b.d,b.n,b.q,p.b,a.l,a.j,a.k,m.a,y.a,b.B,b.o,b.p,b.y,b.x,b.r,b.A,E.b,E.d,E.a,b.s,I.b],pipes:[w.c,a.t,w.b],styles:[""]}),e})();function U(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Add Staff Category"),l.hc())}function q(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Edit Staff Category"),l.hc())}function z(e,t){1&e&&l.ec(0,"app-loader")}function $(e,t){if(1&e&&(l.ic(0,"option",20),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.lookupValueId),l.Ob(1),l.gd(e.lookupValueName)}}function H(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"form",7,8),l.uc("ngSubmit",(function(){l.Wc(e);const t=l.Tc(2);return l.yc().submitStaffForm(t)})),l.ic(3,"div",9),l.ic(4,"div",10),l.ic(5,"div",11),l.ic(6,"label"),l.fd(7,"Category*"),l.hc(),l.ic(8,"select",12),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staffType=t})),l.ic(9,"option",13),l.fd(10,"Select"),l.hc(),l.dd(11,$,2,2,"option",14),l.hc(),l.hc(),l.hc(),l.ic(12,"div",10),l.ic(13,"div",15),l.ic(14,"label"),l.fd(15,"Sub Category*"),l.hc(),l.ic(16,"input",16),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staffCategory=t})),l.hc(),l.hc(),l.hc(),l.ic(17,"div",10),l.ic(18,"ul",17),l.ic(19,"li",18),l.ic(20,"button",19),l.fd(21,"Submit"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.Tc(2),t=l.yc();l.Ob(8),l.Gc("ngModel",t.staffType),l.Ob(3),l.Gc("ngForOf",t.staffCategoryData),l.Ob(5),l.Gc("ngModel",t.staffCategory),l.Ob(4),l.Gc("disabled",e.invalid)}}function Z(e,t){1&e&&l.ec(0,"app-loader")}function R(e,t){if(1&e){const e=l.jc();l.ic(0,"tr"),l.ic(1,"td"),l.fd(2),l.hc(),l.ec(3,"td",30),l.ec(4,"td",30),l.ec(5,"td",30),l.ic(6,"td"),l.ic(7,"a",31),l.uc("click",(function(){l.Wc(e);const i=t.$implicit,a=l.yc(2);return a.staffType=115,a.editStaffCategory(i)})),l.ec(8,"i-feather",32),l.hc(),l.ic(9,"a",33),l.uc("click",(function(){l.Wc(e);const i=t.index,a=l.yc(2);return a.staffDeleteTypeId=115,a.showConfirmModal(i)})),l.ec(10,"i-feather",34),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit;l.Ob(2),l.gd(e.lookupValueName)}}function X(e,t){if(1&e){const e=l.jc();l.ic(0,"div",21),l.ic(1,"div",22),l.ic(2,"div",23),l.ic(3,"h5"),l.fd(4,"Offical Staffs"),l.hc(),l.hc(),l.hc(),l.ic(5,"div",24),l.ic(6,"table",25),l.ic(7,"thead"),l.ic(8,"tr"),l.ic(9,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("status")})),l.fd(10,"Category "),l.ec(11,"span",27),l.hc(),l.ic(12,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("subcategory")})),l.fd(13,"Supervisor "),l.ec(14,"span",27),l.hc(),l.ic(15,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("level1")})),l.fd(16,"Level-1 "),l.ec(17,"span",27),l.hc(),l.ic(18,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("level2")})),l.fd(19,"Level-2 "),l.ec(20,"span",27),l.hc(),l.ic(21,"th",28),l.fd(22,"Action"),l.hc(),l.hc(),l.hc(),l.ic(23,"tbody"),l.dd(24,R,11,1,"tr",29),l.zc(25,"simpleSearch"),l.zc(26,"slice"),l.zc(27,"orderBy"),l.hc(),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(6),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("status")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("subcategory")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("level1")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("level2")),l.Ob(4),l.Gc("ngForOf",l.Bc(25,6,l.Cc(26,9,l.Cc(27,13,e.categoryOffcialListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.categoryOffcialData))}}function J(e,t){if(1&e){const e=l.jc();l.ic(0,"tr"),l.ic(1,"td"),l.fd(2),l.hc(),l.ec(3,"td",30),l.ec(4,"td",30),l.ec(5,"td",30),l.ic(6,"td"),l.ic(7,"a",31),l.uc("click",(function(){l.Wc(e);const i=t.$implicit,a=l.yc(2);return a.staffType=116,a.editStaffCategory(i)})),l.ec(8,"i-feather",32),l.hc(),l.ic(9,"a",33),l.uc("click",(function(){l.Wc(e);const i=t.index,a=l.yc(2);return a.staffDeleteTypeId=116,a.showConfirmModal(i)})),l.ec(10,"i-feather",34),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit;l.Ob(2),l.gd(e.lookupValueName)}}function Y(e,t){if(1&e){const e=l.jc();l.ic(0,"div",21),l.ic(1,"div",22),l.ic(2,"div",23),l.ic(3,"h5"),l.fd(4,"Personal Staffs"),l.hc(),l.hc(),l.hc(),l.ic(5,"div",24),l.ic(6,"table",25),l.ic(7,"thead"),l.ic(8,"tr"),l.ic(9,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("status")})),l.fd(10,"Category "),l.ec(11,"span",27),l.hc(),l.ic(12,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("subcategory")})),l.fd(13,"Supervisor "),l.ec(14,"span",27),l.hc(),l.ic(15,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("level1")})),l.fd(16,"Level-1 "),l.ec(17,"span",27),l.hc(),l.ic(18,"th",26),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("level2")})),l.fd(19,"Level-2 "),l.ec(20,"span",27),l.hc(),l.ic(21,"th",28),l.fd(22,"Action"),l.hc(),l.hc(),l.hc(),l.ic(23,"tbody"),l.dd(24,J,11,1,"tr",29),l.zc(25,"simpleSearch"),l.zc(26,"slice"),l.zc(27,"orderBy"),l.hc(),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(6),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("status")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("subcategory")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("level1")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("level2")),l.Ob(4),l.Gc("ngForOf",l.Bc(25,6,l.Cc(26,9,l.Cc(27,13,e.categoryPersonalListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.categoryPersonalData))}}let _=(()=>{class e{constructor(e,t,i,a,c,s){this.injector=e,this.dialog=t,this.userService=i,this.lookupService=a,this.sharedService=c,this.cookieService=s,this.categoryOffcialData="",this.categoryPersonalData="",this.isCategoryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.isStaffLoaded=!1,this.staffType="",this.staffCategory="",this.staffDeleteTypeId="",this.errorMessage="",this.isError=!1,this.isEditStaffCategory=!1,this.modalService=this.injector.get(o.a)}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(e){this.modalService.showConfirmModal(e)}editStaffCategory(e){this.isEditStaffCategory=!0,this.staffCategory=e.lookupValueName,this.staffCategoryId=e.lookupValueId}submitStaffForm(e){if(this.isError=!1,"115"==this.staffType)if(this.staffTypeId=26,d.some(this.categoryOffcialData,e=>e.lookupValueName===this.staffCategory))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){let e={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(e).subscribe(e=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.isEditStaffCategory=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryOffcialListData=t,this.isCategoryDataLoaded=!0},e=>{})},e=>{})}else{let e={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(e).subscribe(e=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryOffcialListData=t,this.isCategoryDataLoaded=!0},e=>{})},e=>{})}else if(this.staffTypeId=27,d.some(this.categoryPersonalData,e=>e.lookupValueName===this.staffCategory))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){let e={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(e).subscribe(e=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.isEditStaffCategory=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryPersonalListData=t,this.isCategoryDataLoaded=!0},e=>{})},e=>{})}else{let e={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(e).subscribe(e=>{this.isStaffLoaded=!0,this.isCategoryDataLoaded=!1,this.lookupService.getLookupValueByLookupTypeId(this.staffTypeId).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryPersonalListData=t,this.isCategoryDataLoaded=!0},e=>{})},e=>{})}}ngOnInit(){this.lookupService.getLookupValueByLookupTypeId(25).subscribe(e=>{this.staffCategoryData=e,this.isStaffLoaded=!0},e=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryOffcialListData=t,this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{var t=e.filter(e=>e.isActive);this.categoryPersonalListData=t,this.isCategoryDataLoaded=!0},e=>{})},e=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){if("115"==this.staffDeleteTypeId)var t={lookupValueId:this.categoryOffcialListData[e].lookupValueId,updateUserId:parseInt(this.cookieService.get("userId"))};else t={lookupValueId:this.categoryPersonalListData[e].lookupValueId,updateUserId:parseInt(this.cookieService.get("userId"))};this.isCategoryDataLoaded=!1,this.lookupService.deleteLookupvalue(t).subscribe(t=>{"115"==this.staffDeleteTypeId?this.categoryOffcialListData.splice(e,1):this.categoryPersonalListData.splice(e,1),this.isCategoryDataLoaded=!0,this.sharedService.setUnitListDeleteIndex(null)},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(l.x),l.dc(f.b),l.dc(s.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-setup"]],decls:14,vars:9,consts:[[1,"staff-setup-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","mb-30"],[1,"card-body"],[3,"message","isAlert"],["class","card card-table mb-30",4,"ngIf"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffType","id","staffType","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline","mt-25"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],[1,"card","card-table","mb-30"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.ic(1,"h5",1),l.dd(2,U,2,0,"span",2),l.dd(3,q,2,0,"span",2),l.hc(),l.ic(4,"div",3),l.ic(5,"div",4),l.ec(6,"app-alert-message",5),l.dd(7,z,1,0,"app-loader",2),l.dd(8,H,22,4,"ng-container",2),l.hc(),l.hc(),l.dd(9,Z,1,0,"app-loader",2),l.dd(10,X,28,17,"div",6),l.dd(11,Y,28,17,"div",6),l.ec(12,"app-staff-gates"),l.ec(13,"app-staff-shifts"),l.hc()),2&e&&(l.Ob(2),l.Gc("ngIf",!t.isEditStaffCategory),l.Ob(1),l.Gc("ngIf",t.isEditStaffCategory),l.Ob(3),l.Gc("message",t.errorMessage)("isAlert",t.isError),l.Ob(1),l.Gc("ngIf",!t.isStaffLoaded),l.Ob(1),l.Gc("ngIf",t.isStaffLoaded),l.Ob(1),l.Gc("ngIf",!t.isCategoryDataLoaded),l.Ob(1),l.Gc("ngIf",t.isCategoryDataLoaded),l.Ob(1),l.Gc("ngIf",t.isCategoryDataLoaded))},directives:[a.l,u.a,L,j,y.a,b.B,b.o,b.p,b.y,b.x,b.n,b.q,b.r,b.A,a.k,I.a,b.d,a.j,p.b],pipes:[w.c,a.t,w.b],styles:[""]}),e})();var K=i("is7e"),Q=i("1kSV");function ee(e,t){1&e&&l.ec(0,"app-loader")}const te=function(){return{exact:!0}};function ie(e,t){if(1&e){const e=l.jc();l.ic(0,"tr",29),l.ic(1,"td",30),l.fd(2),l.hc(),l.ic(3,"td",30),l.fd(4),l.hc(),l.ic(5,"td",31),l.fd(6),l.hc(),l.ic(7,"td",31),l.fd(8),l.hc(),l.ic(9,"td",32),l.fd(10),l.hc(),l.ic(11,"td",33),l.ic(12,"a",34),l.ec(13,"i-feather",35),l.hc(),l.ic(14,"a",36),l.uc("click",(function(){l.Wc(e);const i=t.$implicit;return l.yc(2).showConfirmModal(i.staffId)})),l.ec(15,"i-feather",37),l.hc(),l.hc(),l.hc()}if(2&e){const e=t.$implicit,i=l.yc(2);l.Gc("ngClass",e.isActive?"active":"notactive"),l.Ob(2),l.gd(e.firstName),l.Ob(2),l.gd(e.emailId),l.Ob(2),l.gd(i.getStaffCategory(e,e.staffCategoryId)),l.Ob(2),l.gd(i.getStaffSubCategory(e,e.staffSubCategoryId)),l.Ob(2),l.gd(e.contactNumber),l.Ob(2),l.Ic("routerLink","/ams/staff/edit-staff/",e.staffId,""),l.Gc("ngbPopover",i.popAddCheckInContent)("routerLinkActiveOptions",l.Mc(9,te))}}function ae(e,t){if(1&e){const e=l.jc();l.ic(0,"div",3),l.ic(1,"div",4),l.ic(2,"div",5),l.ic(3,"h5"),l.fd(4,"All Staffs "),l.ic(5,"span",6),l.fd(6),l.hc(),l.hc(),l.hc(),l.ic(7,"ul",7),l.ic(8,"li",8),l.ec(9,"i",9),l.ic(10,"input",10),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staffData=t})),l.hc(),l.hc(),l.ic(11,"li",11),l.ic(12,"a",12),l.ec(13,"i-feather",13),l.ic(14,"span"),l.fd(15,"Print"),l.hc(),l.hc(),l.hc(),l.ic(16,"li",11),l.ic(17,"a",14),l.ec(18,"i-feather",15),l.ic(19,"span"),l.fd(20,"Add Staff"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(21,"div",16),l.ic(22,"table",17),l.ic(23,"thead"),l.ic(24,"tr"),l.ic(25,"th",18),l.fd(26,"Staff Name "),l.ic(27,"span",19),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("firstName")})),l.hc(),l.ic(28,"input",20),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().columnField.firstName=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().selectColInput("firstName")})),l.hc(),l.hc(),l.ic(29,"th",18),l.fd(30,"Email ID "),l.ic(31,"span",19),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("emailId")})),l.hc(),l.ic(32,"input",21),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().columnField.emailId=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().selectColInput("emailId")})),l.hc(),l.hc(),l.ic(33,"th",18),l.fd(34,"Category "),l.ic(35,"span",19),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("staffCategory")})),l.hc(),l.ic(36,"app-simple-select-box",22),l.uc("inputChange",(function(t){return l.Wc(e),l.yc().onSelectChange(t,"staffCategory","lookupValueName")})),l.hc(),l.hc(),l.ic(37,"th",18),l.fd(38,"Sub Category "),l.ic(39,"span",19),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("staffSubCategory")})),l.hc(),l.ic(40,"app-simple-select-box",23),l.uc("inputChange",(function(t){return l.Wc(e),l.yc().onSelectChange(t,"staffSubCategory","lookupValueName")})),l.hc(),l.hc(),l.ic(41,"th",18),l.fd(42,"Phone Number "),l.ic(43,"span",19),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("contactNumber")})),l.hc(),l.ic(44,"input",24),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().columnField.contactNumber=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().selectColInput("contactNumber")})),l.hc(),l.hc(),l.ic(45,"th",25),l.fd(46," Actions "),l.ic(47,"input",26),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().columnField.action=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().selectColInput("action")})),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(48,"tbody"),l.dd(49,ie,16,10,"tr",27),l.zc(50,"columnSearch"),l.zc(51,"simpleSearch"),l.zc(52,"slice"),l.zc(53,"orderBy"),l.hc(),l.hc(),l.ic(54,"app-pagination",28),l.uc("outputParams",(function(t){return l.Wc(e),l.yc().getIndexParams(t)})),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(6),l.gd(e.totalItems),l.Ob(4),l.Gc("ngModel",e.staffData),l.Ob(7),l.Gc("routerLinkActiveOptions",l.Mc(39,te)),l.Ob(5),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("firstName")),l.Ob(1),l.Gc("ngModel",e.columnField.firstName),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("emailId")),l.Ob(1),l.Gc("ngModel",e.columnField.emailId),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("staffCategory")),l.Ob(1),l.Gc("fieldModel",e.staffCategoryId)("fieldRequired","required")("fieldList",e.staffTypeData),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("staffSubCategory")),l.Ob(1),l.Gc("fieldModel",e.staffSubCategoryId)("fieldRequired","required")("fieldList",e.staffOfficalCategoryData),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("contactNumber")),l.Ob(1),l.Gc("ngModel",e.columnField.contactNumber),l.Ob(3),l.Gc("ngModel",e.columnField.action),l.Ob(2),l.Gc("ngForOf",l.Cc(50,24,l.Bc(51,28,l.Cc(52,31,l.Cc(53,35,e.staffListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.staffData),e.columnField,e.selectedInput)),l.Ob(5),l.Gc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}let ce=(()=>{class e{constructor(e,t,i,a,c,s,n){this.router=e,this.route=t,this.injector=i,this.staffService=a,this.lookupService=c,this.sharedService=s,this.cookieService=n,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.staffData="",this.selectedInput="",this.columnField={},this.modalService=this.injector.get(o.a)}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}selectColInput(e){this.selectedInput=e}onSelectChange(e,t,i){d.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[i])}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(e){this.modalService.showConfirmModal(e)}getTimeFormat(e){return D(e).format("YYYY-MM-DD HH:mm")}getStaffCategory(e,t){var i=d.filter(this.staffTypeData,(function(e){if(e.lookupValueId===t)return e}));return void 0===i||0==i.length?"":(this.staffListData.map(t=>{t.staffId==e.staffId&&(t.staffCategory=i[0].lookupValueName)}),i[0].lookupValueName.toLowerCase())}getStaffSubCategory(e,t){var i;return 115==this.staffTypeId?void 0===(i=d.filter(this.staffOfficalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==i.length?"":(this.staffListData.map(t=>{t.staffId==e.staffId&&(t.staffSubCategory=i[0].lookupValueName)}),i[0].lookupValueName):void 0===(i=d.filter(this.staffPersonalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==i.length?"":(this.staffListData.map(t=>{t.staffId==e.staffId&&(t.staffSubCategory=i[0].lookupValueName)}),i[0].lookupValueName)}ngOnInit(){this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.staffListData=e.filter(e=>e.isActive),this.totalItems=this.staffListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isStaffDataLoaded=!0}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(e=>{this.staffTypeData=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.staffOfficalCategoryData=e.filter(e=>e.isActive),console.log(this.staffOfficalCategoryData)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{this.staffPersonalCategoryData=e.filter(e=>e.isActive)},e=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(e=>{if(null!=e){var t={staffId:e,deleteBy:parseInt(this.cookieService.get("userId"))};this.staffService.deleteStaff(t).subscribe(t=>{d.each(this.staffListData,t=>{t.staffId==e&&(t.isActive=!1)}),setTimeout(()=>{this.staffListData=this.staffListData.filter(t=>t.staffId!==e),this.totalItems=this.staffListData.length,this.sharedService.setAlertMessage("Staff deleted"),this.sharedService.setUnitListDeleteIndex(null)},500)},e=>{console.log(e)})}})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(c.c),l.dc(c.a),l.dc(l.x),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-maintain-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-maintain-staff-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-staff","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","staffCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","staffSubCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,ee,1,0,"app-loader",1),l.dd(2,ae,55,40,"div",2),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isStaffDataLoaded),l.Ob(1),l.Gc("ngIf",t.isStaffDataLoaded))},directives:[a.l,y.a,I.c,I.a,b.d,b.n,b.q,p.b,c.e,c.d,I.f,a.j,K.a,a.k,m.a,Q.c],pipes:[w.a,w.c,a.t,w.b],styles:[""]}),e})();function se(e,t){1&e&&l.ec(0,"app-loader")}function ne(e,t){if(1&e&&(l.ic(0,"tr"),l.ic(1,"td",20),l.fd(2),l.hc(),l.ic(3,"td",20),l.fd(4),l.hc(),l.ic(5,"td",21),l.fd(6),l.hc(),l.ic(7,"td",21),l.fd(8),l.hc(),l.ic(9,"td",22),l.fd(10),l.hc(),l.hc()),2&e){const e=t.$implicit,i=l.yc(2);l.Ob(2),l.gd(e.firstName),l.Ob(2),l.gd(e.emailId),l.Ob(2),l.gd(i.getStaffCategory(e.staffCategoryId)),l.Ob(2),l.gd(i.getStaffSubCategory(e.staffSubCategoryId)),l.Ob(2),l.gd(e.contactNumber)}}function re(e,t){if(1&e){const e=l.jc();l.ic(0,"div",3),l.ic(1,"div",4),l.ic(2,"div",5),l.ic(3,"h5"),l.fd(4,"All Inactive Staffs "),l.ic(5,"span",6),l.fd(6),l.hc(),l.hc(),l.hc(),l.ic(7,"ul",7),l.ic(8,"li",8),l.ec(9,"i",9),l.ic(10,"input",10),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staffData=t})),l.hc(),l.hc(),l.ic(11,"li",11),l.ic(12,"a",12),l.ec(13,"i-feather",13),l.ic(14,"span"),l.fd(15,"Print"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(16,"div",14),l.ic(17,"table",15),l.ic(18,"thead"),l.ic(19,"tr"),l.ic(20,"th",16),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("firstName")})),l.fd(21,"Staff Name "),l.ec(22,"span",17),l.hc(),l.ic(23,"th",16),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("emailId")})),l.fd(24,"Email ID"),l.ec(25,"span",17),l.hc(),l.ic(26,"th",16),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("staffCategory")})),l.fd(27,"Category "),l.ec(28,"span",17),l.hc(),l.ic(29,"th",16),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("staffSubCategory")})),l.fd(30,"Sub Category"),l.ec(31,"span",17),l.hc(),l.ic(32,"th",16),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("contactNumber")})),l.fd(33,"Phone Number "),l.ec(34,"span",17),l.hc(),l.hc(),l.hc(),l.ic(35,"tbody"),l.dd(36,ne,11,5,"tr",18),l.zc(37,"simpleSearch"),l.zc(38,"slice"),l.zc(39,"orderBy"),l.hc(),l.hc(),l.ic(40,"app-pagination",19),l.uc("outputParams",(function(t){return l.Wc(e),l.yc().getIndexParams(t)})),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(6),l.gd(e.totalItems),l.Ob(4),l.Gc("ngModel",e.staffData),l.Ob(7),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("firstName")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("emailId")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("staffCategory")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("staffSubCategory")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("contactNumber")),l.Ob(2),l.Gc("ngForOf",l.Bc(37,13,l.Cc(38,16,l.Cc(39,20,e.staffListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.staffData)),l.Ob(4),l.Gc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}let oe=(()=>{class e{constructor(e,t,i,a){this.staffService=e,this.lookupService=t,this.sharedService=i,this.cookieService=a,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.staffData=""}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}getStaffCategory(e){var t=d.filter(this.staffTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.staffTypeId=t[0].lookupValueId,t[0].lookupValueName.toLowerCase())}getStaffSubCategory(e){var t;return 115==this.staffTypeId?void 0===(t=d.filter(this.staffOfficalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName:void 0===(t=d.filter(this.staffPersonalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName}ngOnInit(){this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.staffListData=e.filter(e=>!e.isActive),this.totalItems=this.staffListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isStaffDataLoaded=!0}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(e=>{this.staffTypeData=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.staffOfficalCategoryData=e.filter(e=>e.isActive),console.log(this.staffOfficalCategoryData)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{this.staffPersonalCategoryData=e.filter(e=>e.isActive)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-inactive-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-inactive-staff-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,se,1,0,"app-loader",1),l.dd(2,re,41,24,"div",2),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isStaffDataLoaded),l.Ob(1),l.Gc("ngIf",t.isStaffDataLoaded))},directives:[a.l,y.a,I.c,I.a,b.d,b.n,b.q,p.b,a.j,a.k,m.a],pipes:[w.c,a.t,w.b],styles:[""]}),e})();function de(e,t){1&e&&l.ec(0,"app-loader")}const le=function(){return{exact:!0}};function fe(e,t){if(1&e&&(l.ic(0,"tr"),l.ic(1,"td",23),l.fd(2),l.hc(),l.ic(3,"td",23),l.fd(4),l.hc(),l.ic(5,"td",24),l.fd(6),l.hc(),l.ic(7,"td",24),l.fd(8),l.hc(),l.ic(9,"td",24),l.fd(10),l.hc(),l.ic(11,"td",24),l.fd(12),l.hc(),l.ic(13,"td",25),l.fd(14),l.hc(),l.ic(15,"td"),l.ic(16,"a",26),l.ec(17,"i-feather",27),l.hc(),l.hc(),l.hc()),2&e){const e=t.$implicit,i=l.yc(2);l.Ob(2),l.gd(i.getStaffName(e.staffId)),l.Ob(2),l.gd(i.getJobTitle(e.staffId)),l.Ob(2),l.gd(e.inTime),l.Ob(2),l.gd(e.outTime),l.Ob(2),l.gd(i.getInGateName(e.inGateId)),l.Ob(2),l.gd(i.getOutGateName(e.outGateId)),l.Ob(2),l.gd(e.notes),l.Ob(2),l.Ic("routerLink","/ams/staff/edit-entry/",e.attendanceId,""),l.Gc("ngbPopover",i.popAddCheckInContent)("routerLinkActiveOptions",l.Mc(10,le))}}function he(e,t){if(1&e){const e=l.jc();l.ic(0,"div",3),l.ic(1,"div",4),l.ic(2,"div",5),l.ic(3,"h5"),l.fd(4,"All Entries "),l.ic(5,"span",6),l.fd(6),l.hc(),l.hc(),l.hc(),l.ic(7,"ul",7),l.ic(8,"li",8),l.ec(9,"i",9),l.ic(10,"input",10),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entryData=t})),l.hc(),l.hc(),l.ic(11,"li",11),l.ic(12,"a",12),l.ec(13,"i-feather",13),l.ic(14,"span"),l.fd(15,"Print"),l.hc(),l.hc(),l.hc(),l.ic(16,"li",11),l.ic(17,"a",14),l.ec(18,"i-feather",15),l.ic(19,"span"),l.fd(20,"Add Attendance"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(21,"div",16),l.ic(22,"table",17),l.ic(23,"thead"),l.ic(24,"tr"),l.ic(25,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("firstName")})),l.fd(26,"Name "),l.ec(27,"span",19),l.hc(),l.ic(28,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("jobTitle")})),l.fd(29,"Job Title"),l.ec(30,"span",19),l.hc(),l.ic(31,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("inTime")})),l.fd(32,"In Time "),l.ec(33,"span",19),l.hc(),l.ic(34,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("outTime")})),l.fd(35,"Out Time"),l.ec(36,"span",19),l.hc(),l.ic(37,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("inGate")})),l.fd(38,"In Gate "),l.ec(39,"span",19),l.hc(),l.ic(40,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("outGate")})),l.fd(41,"Out Gate "),l.ec(42,"span",19),l.hc(),l.ic(43,"th",18),l.uc("click",(function(){return l.Wc(e),l.yc().sortUnitData("notes")})),l.fd(44,"comments "),l.ec(45,"span",19),l.hc(),l.ic(46,"th",20),l.fd(47,"Action"),l.hc(),l.hc(),l.hc(),l.ic(48,"tbody"),l.dd(49,fe,18,11,"tr",21),l.zc(50,"simpleSearch"),l.zc(51,"slice"),l.zc(52,"orderBy"),l.hc(),l.hc(),l.ic(53,"app-pagination",22),l.uc("outputParams",(function(t){return l.Wc(e),l.yc().getIndexParams(t)})),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc();l.Ob(6),l.gd(e.totalItems),l.Ob(4),l.Gc("ngModel",e.entryData),l.Ob(7),l.Gc("routerLinkActiveOptions",l.Mc(27,le)),l.Ob(5),l.Gc("ngClass",e.isMobileView()),l.Ob(5),l.Gc("ngClass",e.getFieldOrderBy("firstName")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("jobTitle")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("inTime")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("outTime")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("inGate")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("outGate")),l.Ob(3),l.Gc("ngClass",e.getFieldOrderBy("notes")),l.Ob(4),l.Gc("ngForOf",l.Bc(50,16,l.Cc(51,19,l.Cc(52,23,e.entryListData,e.unitFieldType,e.unitOrder),e.ItemUserStartIndex,e.ItemUserEndIndex),e.staffData)),l.Ob(4),l.Gc("totalItems",e.totalItems)("ItemStartIndex",e.ItemStartIndex)("ItemEndIndex",e.ItemEndIndex)("itemLimit",e.itemLimit)}}let ue=(()=>{class e{constructor(e,t,i,a,c,s){this.router=e,this.route=t,this.staffService=i,this.lookupService=a,this.sharedService=c,this.cookieService=s,this.isEntryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.entryData=""}getIndexParams(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}sortUnitData(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}getFieldOrderBy(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}isMobileView(){return window.innerWidth<=767?"table-responsive":""}getInGateName(e){var t=this.gateDataList.filter(t=>t.gateId==e);return void 0===t||0===t.length?(this.entry.inGateId="",""):(this.entry.inGateId=t[0].gateName,t[0].gateName)}getOutGateName(e){var t=this.gateDataList.filter(t=>t.gateId==e);return void 0===t||0===t.length?(this.entry.outGateId="",""):(this.entry.outGateId=t[0].gateName,t[0].gateName)}getStaffName(e){var t=this.staffDetails.filter(t=>t.staffId==e);return void 0===t||0===t.length?(this.entry.firstName="",""):(this.entry.firstName=t[0].firstName,t[0].firstName)}getJobTitle(e){var t=this.staffDetails.filter(t=>t.staffId==e);if(void 0===t||0===t.length)return this.entry.jobTitle="","";var i=t[0].staffSubCategoryId;if(115==t[0].staffCategoryId){let e=this.officalStaffsDataList.filter(e=>{if(e.lookupValueId==i)return e.lookupValueName});return void 0===e||0==e.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=e[0].lookupValueName,e[0].lookupValueName)}{let e=this.personalStaffsDataList.filter(e=>{if(e.lookupValueId==i)return e.lookupValueName});return void 0===e||0==e.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=e[0].lookupValueName,e[0].lookupValueName)}}ngOnInit(){this.entry={},this.staffDetails=[],this.gateDataList=[],this.officalStaffsDataList=[],this.personalStaffsDataList=[],this.staffService.getAllAttendancesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.entryListData=e.filter(e=>e.isActive),d.each(this.entryListData,e=>{this.staffService.getStaffByStaffId(e.staffId).subscribe(e=>{this.staffDetails.push(e[0])})}),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.gateDataList=e}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.officalStaffsDataList=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{this.personalStaffsDataList=e.filter(e=>e.isActive)},e=>{}),this.totalItems=this.entryListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isEntryDataLoaded=!0})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(c.c),l.dc(c.a),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-attendance"]],decls:3,vars:2,consts:[[1,"staff-attendance-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-entry","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(e,t){1&e&&(l.ic(0,"div",0),l.dd(1,de,1,0,"app-loader",1),l.dd(2,he,54,28,"div",2),l.hc()),2&e&&(l.Ob(1),l.Gc("ngIf",!t.isEntryDataLoaded),l.Ob(1),l.Gc("ngIf",t.isEntryDataLoaded))},directives:[a.l,y.a,I.c,I.a,b.d,b.n,b.q,p.b,c.e,c.d,a.j,a.k,m.a,Q.c],pipes:[w.c,a.t,w.b],styles:[""]}),e})(),ge=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-payroll"]],decls:2,vars:0,template:function(e,t){1&e&&(l.ic(0,"p"),l.fd(1," staff-payroll works!\n"),l.hc())},styles:[""]}),e})(),pe=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-overtime"]],decls:2,vars:0,template:function(e,t){1&e&&(l.ic(0,"p"),l.fd(1," staff-overtime works!\n"),l.hc())},styles:[""]}),e})(),me=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-reports"]],decls:2,vars:0,template:function(e,t){1&e&&(l.ic(0,"p"),l.fd(1," staff-reports works!\n"),l.hc())},styles:[""]}),e})();function ye(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Add Staff"),l.hc())}function be(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Edit Staff"),l.hc())}function Ie(e,t){1&e&&l.ec(0,"app-loader")}function ve(e,t){if(1&e){const e=l.jc();l.ic(0,"div",18),l.ic(1,"div",19),l.ic(2,"label"),l.fd(3,"Password*"),l.hc(),l.ic(4,"input",84),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).staff.password=t})),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc(2);l.Ob(4),l.Gc("ngModel",e.staff.password)}}function Se(e,t){if(1&e&&(l.ic(0,"option"),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Ob(1),l.gd(e.lookupValueName)}}function Oe(e,t){if(1&e&&(l.ic(0,"option"),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Ob(1),l.gd(e.lookupValueName)}}function Ce(e,t){if(1&e){const e=l.jc();l.ic(0,"div",18),l.ic(1,"div",32),l.ic(2,"label"),l.fd(3,"Vendor Name*"),l.hc(),l.ic(4,"select",85),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).staff.vendorId=t})),l.ic(5,"option",34),l.fd(6,"Select"),l.hc(),l.dd(7,Oe,2,1,"option",35),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc(2);l.Ob(4),l.Gc("ngModel",e.staff.vendorId),l.Ob(3),l.Gc("ngForOf",e.vendorNameList)}}function Te(e,t){if(1&e){const e=l.jc();l.ic(0,"div"),l.ic(1,"span",87),l.fd(2),l.hc(),l.ic(3,"span",88),l.fd(4),l.hc(),l.ic(5,"i-feather",89),l.uc("click",(function(){l.Wc(e);const i=t.index;return l.yc(3).deletePhoto(i)})),l.hc(),l.hc()}if(2&e){const e=t.$implicit,i=l.yc(3);l.Ob(2),l.gd(e.name),l.Ob(2),l.gd(i.bytesToSize(e.size))}}function ke(e,t){if(1&e&&(l.ic(0,"div",86),l.dd(1,Te,6,2,"div",35),l.hc()),2&e){const e=l.yc(2);l.Ob(1),l.Gc("ngForOf",e.listOfPhotos)}}function Me(e,t){if(1&e){const e=l.jc();l.ic(0,"div"),l.ic(1,"span",87),l.fd(2),l.hc(),l.ic(3,"span",88),l.fd(4),l.hc(),l.ic(5,"i-feather",89),l.uc("click",(function(){l.Wc(e);const i=t.index;return l.yc(3).deleteFile(i)})),l.hc(),l.hc()}if(2&e){const e=t.$implicit,i=l.yc(3);l.Ob(2),l.gd(e.name),l.Ob(2),l.gd(i.bytesToSize(e.size))}}function Ge(e,t){if(1&e&&(l.ic(0,"div",86),l.dd(1,Me,6,2,"div",35),l.hc()),2&e){const e=l.yc(2);l.Ob(1),l.Gc("ngForOf",e.listOfFiles)}}function Le(e,t){if(1&e&&(l.ic(0,"option",90),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.lookupValueId),l.Ob(1),l.gd(e.lookupValueName)}}function De(e,t){if(1&e&&(l.ic(0,"option",90),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.lookupValueId),l.Ob(1),l.gd(e.lookupValueName)}}function Ee(e,t){if(1&e){const e=l.jc();l.ic(0,"div",18),l.ic(1,"div",32),l.ic(2,"label"),l.fd(3,"Sub Category*"),l.hc(),l.ic(4,"select",91),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).staff.staffSubCategoryId=t})),l.ic(5,"option",34),l.fd(6,"Select"),l.hc(),l.dd(7,De,2,2,"option",75),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc(2);l.Ob(4),l.Gc("ngModel",e.staff.staffSubCategoryId),l.Ob(3),l.Gc("ngForOf",e.staffCategoryData)}}function we(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"ul",13),l.ic(2,"li",14),l.fd(3,"Personal Info"),l.hc(),l.ic(4,"div",15),l.ic(5,"div",16),l.ic(6,"div",17),l.ic(7,"div",18),l.ic(8,"div",19),l.ic(9,"label"),l.fd(10,"First Name*"),l.hc(),l.ic(11,"input",20),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.firstName=t})),l.hc(),l.hc(),l.hc(),l.ic(12,"div",18),l.ic(13,"div",19),l.ic(14,"label"),l.fd(15,"Last Name*"),l.hc(),l.ic(16,"input",21),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.lastName=t})),l.hc(),l.hc(),l.hc(),l.dd(17,ve,5,1,"div",22),l.ic(18,"div",18),l.ic(19,"div",19),l.ic(20,"label"),l.fd(21,"Date Of Birth"),l.hc(),l.ic(22,"input",23),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.dob=t})),l.hc(),l.ec(23,"owl-date-time",24,25),l.ic(25,"div",26),l.ec(26,"i-feather",27),l.hc(),l.hc(),l.hc(),l.ic(27,"div",18),l.ic(28,"div",19),l.ic(29,"label"),l.fd(30,"Address"),l.hc(),l.ic(31,"input",28),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.address=t})),l.hc(),l.hc(),l.hc(),l.ic(32,"div",18),l.ic(33,"div",19),l.ic(34,"label"),l.fd(35,"Email*"),l.hc(),l.ic(36,"input",29),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.emailId=t})),l.hc(),l.hc(),l.hc(),l.ic(37,"div",18),l.ic(38,"div",19),l.ic(39,"label"),l.fd(40,"Contact Number"),l.hc(),l.ic(41,"input",30),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.contactNumber=t})),l.hc(),l.hc(),l.hc(),l.ic(42,"div",18),l.ic(43,"div",19),l.ic(44,"label"),l.fd(45,"Alternate Contact Number"),l.hc(),l.ic(46,"input",31),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.alternateContact=t})),l.hc(),l.hc(),l.hc(),l.ic(47,"div",18),l.ic(48,"div",32),l.ic(49,"label"),l.fd(50,"Blood Group"),l.hc(),l.ic(51,"select",33),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.bloodGroup=t})),l.ic(52,"option",34),l.fd(53,"Select"),l.hc(),l.dd(54,Se,2,1,"option",35),l.hc(),l.hc(),l.hc(),l.ic(55,"div",18),l.ic(56,"div",19),l.ic(57,"label"),l.fd(58,"Vehicle ID"),l.hc(),l.ic(59,"input",36),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.vehicleId=t})),l.hc(),l.hc(),l.hc(),l.ic(60,"div",18),l.ic(61,"div",37),l.ic(62,"label"),l.fd(63,"Gender*"),l.hc(),l.ic(64,"div",38),l.ic(65,"input",39),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().genderType=t})),l.hc(),l.ic(66,"label",40),l.fd(67,"Male"),l.hc(),l.hc(),l.ic(68,"div",38),l.ic(69,"input",41),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().genderType=t})),l.hc(),l.ic(70,"label",42),l.fd(71,"Female"),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(72,"div",18),l.ic(73,"div",37),l.ic(74,"label"),l.fd(75,"Is Vendor*"),l.hc(),l.ic(76,"div",38),l.ic(77,"input",43),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().vendorType=t})),l.hc(),l.ic(78,"label",44),l.fd(79,"Yes"),l.hc(),l.hc(),l.ic(80,"div",38),l.ic(81,"input",45),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().vendorType=t})),l.hc(),l.ic(82,"label",46),l.fd(83,"No"),l.hc(),l.hc(),l.hc(),l.hc(),l.dd(84,Ce,8,2,"div",22),l.ic(85,"div",47),l.ic(86,"div",19),l.ic(87,"label"),l.fd(88,"Health Issue Notes ( 35 characters)"),l.hc(),l.ic(89,"textarea",48),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.healthIssue=t})),l.hc(),l.hc(),l.hc(),l.ic(90,"div",47),l.ic(91,"div",19),l.ic(92,"label"),l.fd(93,"Comments"),l.hc(),l.ic(94,"textarea",49),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.comments=t})),l.hc(),l.hc(),l.hc(),l.ic(95,"div",50),l.ic(96,"div",19),l.ic(97,"label",51),l.uc("click",(function(){return l.Wc(e),l.Tc(99).click()})),l.ic(98,"input",52,53),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.file=t}))("change",(function(t){return l.Wc(e),l.yc().uploadPhoto(t)})),l.hc(),l.ec(100,"i",54),l.fd(101," Upload Photo"),l.hc(),l.dd(102,ke,2,1,"div",55),l.hc(),l.hc(),l.ic(103,"div",50),l.ic(104,"div",19),l.ic(105,"label",56),l.uc("click",(function(){return l.Wc(e),l.Tc(107).click()})),l.ic(106,"input",57,58),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.multifile=t}))("change",(function(t){return l.Wc(e),l.yc().uploadFile(t)})),l.hc(),l.ec(108,"i",54),l.fd(109," Upload ID Card Docs"),l.hc(),l.dd(110,Ge,2,1,"div",55),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(111,"li",59),l.fd(112,"Salary & Leave"),l.hc(),l.ic(113,"div",60),l.ic(114,"div",16),l.ic(115,"div",17),l.ic(116,"div",18),l.ic(117,"div",19),l.ic(118,"label"),l.fd(119,"Base Pay*"),l.hc(),l.ic(120,"input",61),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.basePay=t})),l.hc(),l.hc(),l.hc(),l.ic(121,"div",18),l.ic(122,"div",19),l.ic(123,"label"),l.fd(124,"Allowance 1"),l.hc(),l.ic(125,"input",62),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.allowance1=t})),l.hc(),l.hc(),l.hc(),l.ic(126,"div",18),l.ic(127,"div",19),l.ic(128,"label"),l.fd(129,"Allowance 2"),l.hc(),l.ic(130,"input",63),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.allowance2=t})),l.hc(),l.hc(),l.hc(),l.ic(131,"div",18),l.ic(132,"div",19),l.ic(133,"label"),l.fd(134,"Allowance 3"),l.hc(),l.ic(135,"input",64),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.allowance3=t})),l.hc(),l.hc(),l.hc(),l.ic(136,"div",18),l.ic(137,"div",19),l.ic(138,"label"),l.fd(139,"Overtime Pay Per Hour"),l.hc(),l.ic(140,"input",65),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.overtimePayperhour=t})),l.hc(),l.hc(),l.hc(),l.ic(141,"div",18),l.ic(142,"div",19),l.ic(143,"label"),l.fd(144,"Deduction 1"),l.hc(),l.ic(145,"input",66),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.deduction1=t})),l.hc(),l.hc(),l.hc(),l.ic(146,"div",18),l.ic(147,"div",19),l.ic(148,"label"),l.fd(149,"Deduction 2"),l.hc(),l.ic(150,"input",67),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.deduction2=t})),l.hc(),l.hc(),l.hc(),l.ic(151,"div",18),l.ic(152,"div",19),l.ic(153,"label"),l.fd(154,"Deduction 3"),l.hc(),l.ic(155,"input",68),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.deduction3=t})),l.hc(),l.hc(),l.hc(),l.ic(156,"div",18),l.ic(157,"div",19),l.ic(158,"label"),l.fd(159,"Salary Per Day"),l.hc(),l.ic(160,"input",69),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.perDaySalary=t})),l.hc(),l.hc(),l.hc(),l.ic(161,"div",18),l.ic(162,"div",19),l.ic(163,"label"),l.fd(164,"Vacation Leave Days"),l.hc(),l.ic(165,"input",70),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.vacationLeaveDays=t})),l.hc(),l.hc(),l.hc(),l.ic(166,"div",18),l.ic(167,"div",19),l.ic(168,"label"),l.fd(169,"Sick Leave Days"),l.hc(),l.ic(170,"input",71),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.sickLeaveDays=t})),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.ic(171,"li",72),l.fd(172,"Work Information"),l.hc(),l.ic(173,"div",73),l.ic(174,"div",16),l.ic(175,"div",17),l.ic(176,"div",18),l.ic(177,"div",32),l.ic(178,"label"),l.fd(179,"Category*"),l.hc(),l.ic(180,"select",74),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.staffCategoryId=t}))("ngModelChange",(function(){l.Wc(e);const t=l.yc();return t.getStaffType(t.staff.staffCategoryId)})),l.ic(181,"option",34),l.fd(182,"Select"),l.hc(),l.dd(183,Le,2,2,"option",75),l.hc(),l.hc(),l.hc(),l.dd(184,Ee,8,2,"div",22),l.ic(185,"div",18),l.ic(186,"div",19),l.ic(187,"label"),l.fd(188,"Job Start Date"),l.hc(),l.ic(189,"input",76),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.jobStartDate=t})),l.hc(),l.ec(190,"owl-date-time",24,77),l.ic(192,"div",26),l.ec(193,"i-feather",27),l.hc(),l.hc(),l.hc(),l.ic(194,"div",18),l.ic(195,"div",19),l.ic(196,"label"),l.fd(197,"Job End Date"),l.hc(),l.ic(198,"input",78),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.jobEndDate=t})),l.hc(),l.ec(199,"owl-date-time",24,79),l.ic(201,"div",26),l.ec(202,"i-feather",27),l.hc(),l.hc(),l.hc(),l.ic(203,"div",18),l.ic(204,"div",19),l.ic(205,"label"),l.fd(206,"Planned Entry Time"),l.hc(),l.ic(207,"input",80),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.plannedEntryTime=t})),l.hc(),l.ec(208,"owl-date-time",null,81),l.ic(210,"div",26),l.ec(211,"i-feather",27),l.hc(),l.hc(),l.hc(),l.ic(212,"div",18),l.ic(213,"div",19),l.ic(214,"label"),l.fd(215,"Planned Exit Time"),l.hc(),l.ic(216,"input",82),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().staff.plannedExitTime=t})),l.hc(),l.ec(217,"owl-date-time",null,83),l.ic(219,"div",26),l.ec(220,"i-feather",27),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.Tc(24),t=l.Tc(191),i=l.Tc(200),a=l.Tc(209),c=l.Tc(218),s=l.yc();l.Ob(11),l.Gc("ngModel",s.staff.firstName),l.Ob(5),l.Gc("ngModel",s.staff.lastName),l.Ob(1),l.Gc("ngIf",!s.isEditStaff),l.Ob(5),l.Gc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",s.staff.dob),l.Ob(1),l.Gc("pickerType","calendar"),l.Ob(2),l.Gc("owlDateTimeTrigger",e),l.Ob(6),l.Gc("ngModel",s.staff.address),l.Ob(5),l.Gc("ngModel",s.staff.emailId),l.Ob(5),l.Gc("ngModel",s.staff.contactNumber),l.Ob(5),l.Gc("ngModel",s.staff.alternateContact),l.Ob(5),l.Gc("ngModel",s.staff.bloodGroup),l.Ob(3),l.Gc("ngForOf",s.bloodGroupData),l.Ob(5),l.Gc("ngModel",s.staff.vehicleId),l.Ob(6),l.Gc("ngModel",s.genderType),l.Ob(4),l.Gc("ngModel",s.genderType),l.Ob(8),l.Gc("ngModel",s.vendorType),l.Ob(4),l.Gc("ngModel",s.vendorType),l.Ob(3),l.Gc("ngIf",s.isVendor()),l.Ob(5),l.Gc("ngModel",s.staff.healthIssue),l.Ob(5),l.Gc("ngModel",s.staff.comments),l.Ob(4),l.Gc("ngModel",s.staff.file),l.Ob(4),l.Gc("ngIf",s.isPhotoAdded),l.Ob(4),l.Gc("ngModel",s.staff.multifile),l.Ob(4),l.Gc("ngIf",s.isFileAdded),l.Ob(10),l.Gc("ngModel",s.staff.basePay),l.Ob(5),l.Gc("ngModel",s.staff.allowance1),l.Ob(5),l.Gc("ngModel",s.staff.allowance2),l.Ob(5),l.Gc("ngModel",s.staff.allowance3),l.Ob(5),l.Gc("ngModel",s.staff.overtimePayperhour),l.Ob(5),l.Gc("ngModel",s.staff.deduction1),l.Ob(5),l.Gc("ngModel",s.staff.deduction2),l.Ob(5),l.Gc("ngModel",s.staff.deduction3),l.Ob(5),l.Gc("ngModel",s.staff.perDaySalary),l.Ob(5),l.Gc("ngModel",s.staff.vacationLeaveDays),l.Ob(5),l.Gc("ngModel",s.staff.sickLeaveDays),l.Ob(10),l.Gc("ngModel",s.staff.staffCategoryId),l.Ob(3),l.Gc("ngForOf",s.staffTypeData),l.Ob(1),l.Gc("ngIf",s.isCategoryEnabled()),l.Ob(5),l.Gc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",s.staff.jobStartDate),l.Ob(1),l.Gc("pickerType","calendar"),l.Ob(2),l.Gc("owlDateTimeTrigger",t),l.Ob(6),l.Gc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",s.staff.jobEndDate),l.Ob(1),l.Gc("pickerType","calendar"),l.Ob(2),l.Gc("owlDateTimeTrigger",i),l.Ob(6),l.Gc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",s.staff.plannedEntryTime),l.Ob(3),l.Gc("owlDateTimeTrigger",a),l.Ob(6),l.Gc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",s.staff.plannedExitTime),l.Ob(3),l.Gc("owlDateTimeTrigger",c)}}function Ne(e,t){if(1&e&&(l.ic(0,"div",17),l.ic(1,"div",92),l.ic(2,"ul",93),l.ic(3,"li",94),l.ic(4,"button",95),l.fd(5,"Submit"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc()),2&e){l.yc();const e=l.Tc(2);l.Ob(4),l.Gc("disabled",e.invalid)}}const xe=function(){return{exact:!0}};let Ae=(()=>{class e{constructor(e,t,i,a,c,s,n){this.router=e,this.route=t,this.userService=i,this.staffService=a,this.lookupService=c,this.sharedService=s,this.cookieService=n,this.isEditStaff=!1,this.isStaffSubmitted=!1,this.isStaffAdded=!1,this.isStaffError=!1,this.isStaffSuccess=!1,this.alertStaffMessage="",this.vendorType="",this.isTypeSelected=!1,this.isFileAdded=!1,this.fileList=[],this.listOfFiles=[],this.isPhotoAdded=!1,this.photoList=[],this.listOfPhotos=[],this.userId=null,this.staffId=null,this.genderType=null,this.outputParams=new l.q}isArrayOne(){return this.staffArray.length>1}deleteStaff(){this.staffArray.splice(this.index,1),this.outputParams.emit(this.staffArray)}uploadFile(e){this.isFileAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var i=e.target.files[t];this.fileList.push(i),this.listOfFiles.push({name:i.name,size:i.size})}}deleteFile(e){this.listOfFiles.splice(e,1),this.fileList.splice(e,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}uploadPhoto(e){this.isPhotoAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var i=e.target.files[t];this.photoList.push(i),this.listOfPhotos.push({name:i.name,size:i.size})}}deletePhoto(e){this.listOfPhotos.splice(e,1),this.photoList.splice(e,1),this.selectedPhoto=null,0==this.photoList.length&&0==this.listOfPhotos.length&&(this.isPhotoAdded=!1)}bytesToSize(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"}isCategoryEnabled(){return!!this.isEditStaff||!!this.isTypeSelected}getStaffType(e){this.isTypeSelected=!0,"115"==e?this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.staffCategoryData=e.filter(e=>e.isActive)},e=>{}):this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{this.staffCategoryData=e.filter(e=>e.isActive)},e=>{})}isVendor(){return"Yes"==this.vendorType}submitAddStaffForm(e){if(this.isStaffSubmitted=!0,this.isStaffError=!1,this.isEditStaff){this.isStaffSubmitted=!0,this.isStaffError=!1;let e={userId:this.userId,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(e).subscribe(e=>{if(e.message){let t={staffId:this.route.params.value.id,apartmentId:parseInt(this.cookieService.get("apartmentId")),userId:this.userId,firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,contactNumber:this.staff.contactNumber.toString(),alternateContact:this.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(this.staff.staffCategoryId),staffSubCategoryId:parseInt(this.staff.staffSubCategoryId),dob:this.staff.dob,genderId:parseInt(this.genderType),bloodGroup:this.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:this.staff.healthIssue,comments:this.staff.comments,plannedEntryTime:this.staff.plannedEntryTime,plannedExitTime:this.staff.plannedExitTime,jobStartDate:this.staff.jobStartDate,jobEndDate:this.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(this.staff.vacationLeaveDays),sickLeaveDays:parseInt(this.staff.sickLeaveDays),basePay:this.staff.basePay,overtimePayperhour:this.staff.overtimePayperhour,allowance1:this.staff.allowance1,allowance2:this.staff.allowance2,allowance3:this.staff.allowance3,deduction1:this.staff.deduction1,deduction2:this.staff.deduction2,deduction3:this.staff.deduction3,perDaySalary:this.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(this.staff.staffSubCategoryId),isActive:!0,insertedBy:0,insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};this.staffService.updateStaff(t).subscribe(e=>{this.isStaffSubmitted=!1,e.message?(this.sharedService.setAlertMessage("Staff updated successfully"),this.router.navigate(["ams/staff/maintain-staff"])):(this.isStaffError=!0,this.alertStaffMessage=e.alertTicketMessage)},t=>{this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=e.errorMessage})}else this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=e.errorMessage})}else{let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0};this.userService.addUser(e).subscribe(e=>{if(e.message){this.userId=e.message;let t={userId:this.userId,roleId:5,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};this.userService.addUserRole(t).subscribe(e=>{if(e.message){let t={apartmentId:parseInt(this.cookieService.get("apartmentId")),userId:this.userId,firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,contactNumber:this.staff.contactNumber.toString(),alternateContact:this.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(this.staff.staffCategoryId),staffSubCategoryId:parseInt(this.staff.staffSubCategoryId),dob:this.staff.dob,genderId:parseInt(this.genderType),bloodGroup:this.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:this.staff.healthIssue,comments:this.staff.comments,plannedEntryTime:this.staff.plannedEntryTime,plannedExitTime:this.staff.plannedExitTime,jobStartDate:this.staff.jobStartDate,jobEndDate:this.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(this.staff.vacationLeaveDays),sickLeaveDays:parseInt(this.staff.sickLeaveDays),basePay:this.staff.basePay,overtimePayperhour:this.staff.overtimePayperhour,allowance1:this.staff.allowance1,allowance2:this.staff.allowance2,allowance3:this.staff.allowance3,deduction1:this.staff.deduction1,deduction2:this.staff.deduction2,deduction3:this.staff.deduction3,perDaySalary:this.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(this.staff.staffSubCategoryId),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};this.staffService.addStaff(t).subscribe(e=>{this.isStaffSubmitted=!1,e.message?(this.sharedService.setAlertMessage("Staff added successfully"),this.router.navigate(["ams/staff/maintain-staff"])):(this.isStaffError=!0,this.alertStaffMessage=e.alertTicketMessage)},t=>{this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=e.errorMessage})}},e=>{console.log(e)})}else this.isStaffSubmitted=!1,this.isStaffError=!0,this.alertStaffMessage=e.errorMessage},e=>{})}}ngOnInit(){this.staff={},this.staff.bloodGroup="",this.staff.staffCategoryId="",this.staff.staffSubCategoryId="",this.staff.contactNumber="",this.staff.alternateContact="",null!=this.route.params.value.id&&(this.isEditStaff=!0,this.isStaffAdded=!0,this.staffId=this.route.params.value.id,this.staffService.getStaffByStaffId(this.route.params.value.id).subscribe(e=>{this.staff=e[0],this.userId=this.staff.userId,this.genderType=this.staff.genderId.toString(),this.getStaffType(this.staff.staffCategoryId)},e=>{})),this.lookupService.getLookupValueByLookupTypeId(24).subscribe(e=>{this.bloodGroupData=e}),this.lookupService.getLookupValueByLookupTypeId(25).subscribe(e=>{this.staffTypeData=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.staffCategoryData=e.filter(e=>e.isActive)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(c.c),l.dc(c.a),l.dc(s.a),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-add-staff"]],inputs:{index:"index",staffArray:["array","staffArray"]},outputs:{outputParams:"outputParams"},decls:17,vars:10,consts:[[1,"staff-add-staff-wrapper"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/maintain-staff","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["id","accordion",1,"card-body","p-0"],[3,"message","isError","isSuccess"],["class","row",4,"ngIf"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#staffCollapseOne","aria-expanded","true","aria-controls","CollapseOne",1,"list-group-item"],["id","staffCollapseOne","aria-labelledby","CollapseOne","data-parent","#accordion",1,"collapse","show"],[1,"details"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],["name","staffDOB","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["staffDOB",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","text","placeholder","Enter value","name","address",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","staffEmail","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","contactNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","alternateContact",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","bloodGroup","id","bloodGroup",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[4,"ngFor","ngForOf"],["type","text","placeholder","Enter value","name","staffVehicleId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],["name","vendorType","id","Yes","value","Yes","type","radio",3,"ngModel","ngModelChange"],["for","Yes",1,"radio-inline"],["name","vendorType","id","No","value","No","type","radio",3,"ngModel","ngModelChange"],["for","No",1,"radio-inline"],[1,"col-sm-6"],["placeholder","some text here","name","healthIssue",3,"ngModel","ngModelChange"],["placeholder","some text here","name","staffComments",3,"ngModel","ngModelChange"],[1,"col-sm-3"],["for","my-photo-selector",1,"btn","sf","lime-green",3,"click"],["type","file",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderPhoto",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["type","file","multiple","",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderFile",""],["data-toggle","collapse","data-target","#staffCollapseTwo","aria-expanded","true","aria-controls","CollapseTwo",1,"list-group-item","collapsed"],["id","staffCollapseTwo","aria-labelledby","CollapseTwo","data-parent","#accordion",1,"collapse"],["type","number","OnlyNumber","true","placeholder","Enter value","name","basePay","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","overtimePayperhour",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","perDaySalary",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","vacationLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","sickLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["data-toggle","collapse","data-target","#staffCollapseThree","aria-expanded","true","aria-controls","CollapseThree",1,"list-group-item","collapsed"],["id","staffCollapseThree","aria-labelledby","CollapseThree","data-parent","#accordion",1,"collapse"],["name","staffCategory","id","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","jobStartDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobStartDate",""],["name","jobEndDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobEndDate",""],["name","plannedEntryTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedEntryTime",""],["name","plannedExitTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedExitTime",""],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","vendorName","id","vendorName",1,"form-control",3,"ngModel","ngModelChange"],[1,"file-desp"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"],[3,"value"],["name","staffSubCategory","id","staffSubCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){if(1&e){const e=l.jc();l.ic(0,"div",0),l.ic(1,"form",1,2),l.uc("ngSubmit",(function(){l.Wc(e);const i=l.Tc(2);return t.submitAddStaffForm(i)})),l.ic(3,"div",3),l.ic(4,"div",4),l.ic(5,"div",5),l.ic(6,"h5"),l.dd(7,ye,2,0,"span",6),l.dd(8,be,2,0,"span",6),l.hc(),l.hc(),l.ic(9,"div",7),l.ic(10,"a",8),l.ec(11,"i-feather",9),l.hc(),l.hc(),l.hc(),l.ic(12,"div",10),l.ec(13,"app-alert-message",11),l.dd(14,Ie,1,0,"app-loader",6),l.dd(15,we,221,58,"ng-container",6),l.hc(),l.hc(),l.dd(16,Ne,6,1,"div",12),l.hc(),l.hc()}2&e&&(l.Ob(7),l.Gc("ngIf",!t.isEditStaff),l.Ob(1),l.Gc("ngIf",t.isEditStaff),l.Ob(2),l.Gc("routerLinkActiveOptions",l.Mc(9,xe)),l.Ob(3),l.Gc("message",t.alertStaffMessage)("isError",t.isStaffError)("isSuccess",t.isStaffSuccess),l.Ob(1),l.Gc("ngIf",t.isStaffSubmitted),l.Ob(1),l.Gc("ngIf",!t.isStaffSubmitted),l.Ob(1),l.Gc("ngIf",!t.isStaffSubmitted))},directives:[b.B,b.o,b.p,a.l,c.e,c.d,p.b,u.a,y.a,I.a,b.d,b.x,b.n,b.q,E.b,E.d,E.a,b.s,I.b,b.y,b.r,b.A,a.k,b.u],styles:[""]}),e})();function Fe(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Add Entry"),l.hc())}function Be(e,t){1&e&&(l.ic(0,"span"),l.fd(1,"Edit Entry"),l.hc())}function We(e,t){1&e&&l.ec(0,"app-loader")}function Ve(e,t){if(1&e&&(l.ic(0,"option",42),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.staffId),l.Ob(1),l.gd(e.firstName)}}function Pe(e,t){if(1&e){const e=l.jc();l.ic(0,"i-feather",43),l.uc("click",(function(){return l.Wc(e),l.yc(2).entry.inTime=""})),l.hc()}}function je(e,t){if(1&e){const e=l.jc();l.ic(0,"i-feather",43),l.uc("click",(function(){return l.Wc(e),l.yc(2).entry.outTime=""})),l.hc()}}function Ue(e,t){if(1&e&&(l.ic(0,"option",42),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.gateId),l.Ob(1),l.gd(e.gateName)}}function qe(e,t){if(1&e&&(l.ic(0,"option",42),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.gateId),l.Ob(1),l.gd(e.gateName)}}function ze(e,t){if(1&e&&(l.ic(0,"option",42),l.fd(1),l.hc()),2&e){const e=t.$implicit;l.Gc("value",e.shiftId),l.Ob(1),l.gd(e.startTime)}}function $e(e,t){if(1&e){const e=l.jc();l.ic(0,"div",13),l.ic(1,"div",14),l.ic(2,"label"),l.fd(3,"Start Time*"),l.hc(),l.ic(4,"select",44),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc(2).entry.shiftId=t})),l.ic(5,"option",16),l.fd(6,"Select"),l.hc(),l.dd(7,ze,2,2,"option",17),l.hc(),l.hc(),l.hc()}if(2&e){const e=l.yc(2);l.Ob(4),l.Gc("ngModel",e.entry.shiftId),l.Ob(3),l.Gc("ngForOf",e.shiftsFilteredDataList)}}function He(e,t){if(1&e){const e=l.jc();l.gc(0),l.ic(1,"div",12),l.ic(2,"div",13),l.ic(3,"div",14),l.ic(4,"label"),l.fd(5,"Name*"),l.hc(),l.ic(6,"select",15),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.staffId=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().getStaffJobTitle()})),l.ic(7,"option",16),l.fd(8,"Select"),l.hc(),l.dd(9,Ve,2,2,"option",17),l.hc(),l.hc(),l.hc(),l.ic(10,"div",13),l.ic(11,"div",18),l.ic(12,"label"),l.fd(13,"Job title*"),l.hc(),l.ic(14,"input",19),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.jobTitle=t})),l.hc(),l.hc(),l.hc(),l.ic(15,"div",13),l.ic(16,"div",18),l.ic(17,"label"),l.fd(18,"In-time*"),l.hc(),l.ic(19,"input",20),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.inTime=t})),l.hc(),l.ec(20,"owl-date-time",null,21),l.ic(22,"div",22),l.dd(23,Pe,1,0,"i-feather",23),l.ec(24,"i-feather",24),l.hc(),l.hc(),l.hc(),l.ic(25,"div",13),l.ic(26,"div",18),l.ic(27,"label"),l.fd(28,"Out-time"),l.hc(),l.ic(29,"input",25),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.outTime=t})),l.hc(),l.ec(30,"owl-date-time",null,26),l.ic(32,"div",22),l.dd(33,je,1,0,"i-feather",23),l.ec(34,"i-feather",24),l.hc(),l.hc(),l.hc(),l.ic(35,"div",13),l.ic(36,"div",14),l.ic(37,"label"),l.fd(38,"In Gate*"),l.hc(),l.ic(39,"select",27),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.inGateId=t})),l.ic(40,"option",16),l.fd(41,"Select"),l.hc(),l.dd(42,Ue,2,2,"option",17),l.hc(),l.hc(),l.hc(),l.ic(43,"div",13),l.ic(44,"div",14),l.ic(45,"label"),l.fd(46,"Out Gate*"),l.hc(),l.ic(47,"select",28),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entry.outGateId=t})),l.ic(48,"option",16),l.fd(49,"Select"),l.hc(),l.dd(50,qe,2,2,"option",17),l.hc(),l.hc(),l.hc(),l.ic(51,"div",13),l.ic(52,"div",29),l.ic(53,"label"),l.fd(54,"shift Type*"),l.hc(),l.ic(55,"div",30),l.ic(56,"input",31),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().shiftType=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().getShifts()})),l.hc(),l.ic(57,"label",32),l.fd(58,"Morning"),l.hc(),l.hc(),l.ic(59,"div",30),l.ic(60,"input",33),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().shiftType=t}))("ngModelChange",(function(){return l.Wc(e),l.yc().getShifts()})),l.hc(),l.ic(61,"label",34),l.fd(62,"Night"),l.hc(),l.hc(),l.hc(),l.hc(),l.dd(63,$e,8,2,"div",35),l.ic(64,"div",36),l.ic(65,"div",18),l.ic(66,"label"),l.fd(67,"Comments"),l.hc(),l.ic(68,"textarea",37),l.uc("ngModelChange",(function(t){return l.Wc(e),l.yc().entryComments=t})),l.hc(),l.hc(),l.hc(),l.ic(69,"div",38),l.ic(70,"ul",39),l.ic(71,"li",40),l.ic(72,"button",41),l.fd(73,"Submit"),l.hc(),l.hc(),l.hc(),l.hc(),l.hc(),l.fc()}if(2&e){const e=l.Tc(21),t=l.Tc(31),i=l.yc(),a=l.Tc(11);l.Ob(6),l.Gc("ngModel",i.entry.staffId),l.Ob(3),l.Gc("ngForOf",i.staffDataList),l.Ob(5),l.Gc("ngModel",i.entry.jobTitle),l.Ob(5),l.Gc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",i.entry.inTime),l.Ob(3),l.Gc("owlDateTimeTrigger",e),l.Ob(1),l.Gc("ngIf",""!=i.entry.inTime&&null!=i.entry.inTime),l.Ob(6),l.Gc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",i.entry.outTime),l.Ob(3),l.Gc("owlDateTimeTrigger",t),l.Ob(1),l.Gc("ngIf",""!=i.entry.outTime&&null!=i.entry.outTime),l.Ob(6),l.Gc("ngModel",i.entry.inGateId),l.Ob(3),l.Gc("ngForOf",i.gatesDataList),l.Ob(5),l.Gc("ngModel",i.entry.outGateId),l.Ob(3),l.Gc("ngForOf",i.gatesDataList),l.Ob(6),l.Gc("ngModel",i.shiftType),l.Ob(4),l.Gc("ngModel",i.shiftType),l.Ob(3),l.Gc("ngIf",i.isShiftSelected()),l.Ob(5),l.Gc("ngModel",i.entryComments),l.Ob(4),l.Gc("disabled",a.invalid)}}const Ze=function(){return{exact:!0}};let Re=(()=>{class e{constructor(e,t,i,a,c,s){this.router=e,this.route=t,this.staffService=i,this.lookupService=a,this.sharedService=c,this.cookieService=s,this.isEditEntry=!1,this.isEntrySubmitted=!0,this.isEntryError=!1,this.isEntrySuccess=!1,this.alertEntryMessage="",this.shiftType="",this.jobTitle="",this.entryComments=""}isAdmin(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}isShiftSelected(){return""!=this.shiftType}getShifts(){this.shiftsFilteredDataList=this.shiftsDataList.filter(e=>e.shiftTypeId==this.shiftType)}getStaffJobTitle(){this.staffService.getStaffByStaffId(this.entry.staffId).subscribe(e=>{if(this.selectedStaffCateogryId=e[0].staffCategoryId||null,this.selectedSubStaffCateogryId=e[0].staffSubCategoryId||null,null!=this.selectedStaffCateogryId)if(115==this.selectedStaffCateogryId){let e=this.officalStaffsDataList.filter(e=>{if(e.lookupValueId==this.selectedSubStaffCateogryId)return e.lookupValueName});this.entry.jobTitle=void 0===e||0==e.length?"":e[0].lookupValueName}else{let e=this.personalStaffsDataList.filter(e=>{if(e.lookupValueId==this.selectedSubStaffCateogryId)return e.lookupValueName});this.entry.jobTitle=void 0===e||0==e.length?"":e[0].lookupValueName}else this.entry.jobTitle=""})}submitEntryForm(e){if(this.isEntrySubmitted=!1,this.isEditEntry){let e={attendanceId:parseInt(this.route.params.value.id),apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:0,insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.updateAttendance(e).subscribe(e=>{e.message?(this.isEntrySubmitted=!0,this.sharedService.setAlertMessage("Entry updated successfully"),this.router.navigate(["ams/staff/attendance"])):(this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage=e.errorMessage)},e=>{this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage="Some error occured"})}else{let e={apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:0,updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.addAttendance(e).subscribe(e=>{e.message?(this.isEntrySubmitted=!0,this.sharedService.setAlertMessage("Entry added successfully"),this.router.navigate(["ams/staff/attendance"])):(this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage=e.errorMessage)},e=>{this.isEntrySubmitted=!0,this.isEntryError=!0,this.alertEntryMessage="Some error occured"})}}ngOnInit(){this.entry={},this.entry.staffId="",this.entry.inGateId="",this.entry.outGateId="",this.entry.shiftId="",null!=this.route.params.value.id&&(this.isEditEntry=!0,this.attendanceId=this.route.params.value.id,this.staffService.getAttendanceByAttendanceId(this.route.params.value.id).subscribe(e=>{this.entry=e[0],this.getStaffJobTitle(),this.staffService.getShiftByShiftId(this.entry.shiftId).subscribe(e=>{this.shiftType=e[0].shiftTypeId.toString(),this.getShifts()},e=>{})},e=>{})),this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.staffDataList=e.filter(e=>e.isActive)},e=>{}),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.gatesDataList=e.filter(e=>e.isActive)},e=>{}),this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(e=>{this.shiftsDataList=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(28).subscribe(e=>{this.shiftTypeList=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(26).subscribe(e=>{this.officalStaffsDataList=e.filter(e=>e.isActive)},e=>{}),this.lookupService.getLookupValueByLookupTypeId(27).subscribe(e=>{this.personalStaffsDataList=e.filter(e=>e.isActive)},e=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.dc(c.c),l.dc(c.a),l.dc(g.a),l.dc(n.a),l.dc(r.a),l.dc(h.a))},e.\u0275cmp=l.Xb({type:e,selectors:[["app-add-entry"]],decls:16,vars:8,consts:[[1,"staff-add-entry-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/attendance","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["name","addEntryForm","novalidate","",3,"ngSubmit"],["addEntryForm","ngForm"],[1,"card-body"],[3,"message","isError"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffId","id","staffId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","ticketSubject","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","staffInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["class","icon del-c float-left mr-1","name","x-circle","width","18",3,"click",4,"ngIf"],["name","calendar","width","18",1,"icon","date","float-left"],["name","staffOutTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffOutTime",""],["name","inGateId","id","inGateId","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","outGateId","id","outGateId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","shiftType","id","Morning","value","127","type","radio","required","",3,"ngModel","ngModelChange"],["for","Morning",1,"radio-inline"],["name","shiftType","id","Night","value","128","type","radio","required","",3,"ngModel","ngModelChange"],["for","Night",1,"radio-inline"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-6"],["placeholder","some text here","name","comments",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],["name","x-circle","width","18",1,"icon","del-c","float-left","mr-1",3,"click"],["name","startTime","id","startTime","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){const e=l.jc();l.ic(0,"div",0),l.ic(1,"div",1),l.ic(2,"div",2),l.ic(3,"div",3),l.ic(4,"h5"),l.dd(5,Fe,2,0,"span",4),l.dd(6,Be,2,0,"span",4),l.hc(),l.hc(),l.ic(7,"div",5),l.ic(8,"a",6),l.ec(9,"i-feather",7),l.hc(),l.hc(),l.hc(),l.ic(10,"form",8,9),l.uc("ngSubmit",(function(){l.Wc(e);const i=l.Tc(11);return t.submitEntryForm(i)})),l.ic(12,"div",10),l.ec(13,"app-alert-message",11),l.dd(14,We,1,0,"app-loader",4),l.dd(15,He,74,22,"ng-container",4),l.hc(),l.hc(),l.hc(),l.hc()}2&e&&(l.Ob(5),l.Gc("ngIf",!t.isEditEntry),l.Ob(1),l.Gc("ngIf",t.isEditEntry),l.Ob(2),l.Gc("routerLinkActiveOptions",l.Mc(7,Ze)),l.Ob(5),l.Gc("message",t.alertEntryMessage)("isError",t.isEntryError),l.Ob(1),l.Gc("ngIf",!t.isEntrySubmitted),l.Ob(1),l.Gc("ngIf",t.isEntrySubmitted))},directives:[a.l,c.e,c.d,p.b,b.B,b.o,b.p,u.a,y.a,b.y,b.x,b.n,b.q,b.r,b.A,a.k,I.a,b.d,E.b,E.d,E.a,b.u],styles:[""]}),e})();const Xe=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:_},{path:"maintain-staff",component:ce},{path:"add-staff",component:Ae},{path:"edit-staff/:id",component:Ae},{path:"inactive-staff",component:oe},{path:"overtime",component:pe},{path:"attendance",component:ue},{path:"add-entry",component:Re},{path:"edit-entry/:id",component:Re},{path:"payroll",component:ge},{path:"reports",component:me},{path:"**",redirectTo:"settings",pathMatch:"full"}];let Je=(()=>{class e{}return e.\u0275mod=l.bc({type:e}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},imports:[[c.f.forChild(Xe)],c.f]}),e})();var Ye=i("PCNd");let _e=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xb({type:e,selectors:[["app-staff-manager"]],decls:1,vars:0,template:function(e,t){1&e&&l.ec(0,"router-outlet")},directives:[c.g],styles:[""]}),e})();i.d(t,"StaffManagerModule",(function(){return Ke}));let Ke=(()=>{class e{}return e.\u0275mod=l.bc({type:e,bootstrap:[_e]}),e.\u0275inj=l.ac({factory:function(t){return new(t||e)},imports:[[a.b,Ye.a,Je]]}),e})()}}]);