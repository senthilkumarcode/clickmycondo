{"version":3,"sources":["./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.html","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic-routing.module.ts","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.scss","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.component.ts","./src/app/modules/ams/my-property/property-view-graphic/property-view-graphic.module.ts"],"names":[],"mappings":"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","file":"modules-ams-my-property-property-view-graphic-property-view-graphic-module-es2015.js","sourcesContent":["export default \"<div class=\\\"poiManagement m-5\\\">\\n    <div class=\\\"topBar\\\">\\n      <div class=\\\"row pos-r\\\">\\n        <div class=\\\"col-md-12 col-lg-12 col-sm-12 col-xs-12 d-flex\\\">\\n          <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\">\\n            <label>Select Tower</label>\\n            <select class=\\\"form-control\\\" name=\\\"tower\\\" [(ngModel)]=\\\"selectedTower\\\" (change)=\\\"getFloorList()\\\" >\\n              <option *ngFor=\\\"let tower of towerList\\\"  [(value)]=\\\"tower.apartmentBlockId\\\">{{tower.description}}</option>\\n            </select>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\">\\n            <label>Select Floor</label>\\n            <select class=\\\"form-control\\\" name=\\\"floor\\\" [(ngModel)]=\\\"selectedFloor\\\" (change)=\\\"selectFloor()\\\">\\n              <option *ngFor=\\\"let floor of floorList\\\"  [(value)]=\\\"floor.apartmentBlockFloorId\\\">{{floor.floorLabel}}</option>\\n            </select>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\" *ngIf=\\\"selectedFloor\\\" >\\n            <label>Property Type</label>\\n            <select  name=\\\"selectedPropertyType\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"selectedPropertyType\\\" (change)=\\\"selectPropertyType()\\\" >\\n              <option value=\\\"\\\" disabled selected hidden>Select</option>\\n              <option *ngFor=\\\"let item of propertyTypeList\\\" value=\\\"{{item.lookupValueId}}\\\">\\n                  {{item.lookupValueName}}</option>\\n          </select>\\n          </div>\\n          <div class=\\\"col-lg-3 col-md-3 col-sm-3 col-xs-12\\\" *ngIf=\\\"selectedFloor\\\" >\\n            <label>Unit Category</label>\\n            <select [(ngModel)]=\\\"selectedUnitFilterValue\\\" name=\\\"selectedUnitFilterValue\\\" class=\\\"form-control\\\" (change)=\\\"selectedUnitFilter()\\\" >\\n              <option value=\\\"\\\" disabled selected hidden>Select</option>\\n              <option *ngFor=\\\"let item of unitFilterList\\\" value=\\\"{{item.id}}\\\">{{item?.name}}</option>\\n          </select>\\n          </div>\\n        </div>\\n        <div [hidden]=\\\"true\\\">\\n          <input type=\\\"text\\\" id=\\\"buildingNo\\\" value=\\\"\\\" placeholder=\\\"Building No\\\" [(ngModel)]=\\\"bNo\\\">\\n          <input type=\\\"text\\\" id=\\\"floorNo\\\" value=\\\"\\\" placeholder=\\\"Floor No\\\" [(ngModel)]=\\\"fNo\\\">\\n        <input  #nodeId type=\\\"text\\\" id=\\\"spanNode\\\">\\n        <input  #poiId type=\\\"text\\\" id=\\\"poiId\\\">\\n        <input  #nodeKind type=\\\"text\\\" id=\\\"nodeKind\\\">\\n        <input  #type type=\\\"text\\\" id=\\\"type\\\">\\n        </div>\\n      </div>\\n    </div>\\n  <div class=\\\"pathBuilder\\\">\\n      <!--<md-progress-bar mode=\\\"indeterminate\\\"></md-progress-bar>-->\\n      <div class=\\\"dragContainer\\\" id=\\\"lcanvas\\\" [ngStyle]=\\\"isShowBuilder ? {'display':'flex','justify-content':'center'} : ''\\\">\\n        <!--<div class=\\\"floor\\\" id=\\\"lcanvas\\\">-->\\n        <!--<div id=\\\"image-wrapper\\\" *ngIf=\\\"isShowBuilder\\\">-->\\n        <!--</div>-->\\n        <!--</div>-->\\n        <ng-template #property>\\n          <div>\\n              <span>Unit</span>\\n          </div>\\n      </ng-template>\\n        <div class=\\\"upload\\\" [appDragAndDrop] *ngIf=\\\"!isShowBuilder\\\"\\n             id=\\\"setFloorImg\\\">    \\n          <!-- <img class=\\\"mb-5\\\" src=\\\"../../../../../assets/images/plus-circle-icon.png\\\" alt=\\\"\\\"> -->\\n          <p  class=\\\"addFloor\\\">Floor Plan Not Configured</p>\\n          <div class=\\\"legends\\\">\\n            <!-- <span class=\\\"d-flex\\\" >\\n             <img class=\\\"mr-20\\\" src=\\\"../../../../../assets/images/folder-icon.png\\\" alt=\\\"\\\">\\n              Browse File Computer</span> -->\\n          </div>\\n          <div class=\\\"borderLine\\\"></div>\\n          <span class=\\\"support\\\" >Supported File Formats</span>\\n          <div class=\\\"brandIcons\\\">\\n            <img src=\\\"../../../../../assets/images/jpg-icon.png\\\" alt=\\\"\\\">\\n            <img src=\\\"../../../../../assets/images/png-icon.png\\\" alt=\\\"\\\">\\n          </div>\\n          <span class=\\\"smallText\\\">Supported File Formats<span [style.direction]=\\\"'LTR'\\\">1000*1200 px</span></span>\\n        </div>\\n        <!-- <input type=\\\"file\\\" #fileInput (change)=\\\"uploadFile($event.target.files)\\\" id=\\\"hidden-bg-upload\\\" accept=\\\"image/x-png,image/jpeg\\\"> -->\\n        <!--<input type=\\\"file\\\" id=\\\"hidden-graph-upload\\\">-->\\n        <!--<img *ngIf=\\\"false\\\" id=\\\"pinch-zoom-image-id\\\" class=\\\"pinch-zoom-image\\\" src=\\\"../assets/images/floor_plan.jpg\\\">-->\\n      </div>\\n      <div class=\\\"customPopOver\\\" [style.display]=\\\"isShowOver\\\" [style.top]=\\\"styleTop\\\" [style.left]=\\\"styleLeft\\\" >\\n        <div class=\\\"customPopOverContent\\\">\\n          Property Details...\\n        </div>\\n      </div>\\n      <!-- <div class=\\\"floorLegendLeft\\\" *ngIf=\\\"isShowBuilder\\\">\\n        <img src=\\\"../../assets/icons/legend.png\\\" alt=\\\"\\\" (click)=\\\"isShowLegend = !isShowLegend\\\">\\n        <app-floating-btn class=\\\"applgout\\\"   [position]=\\\"{ top: '-6px', left: '40px'}\\\"\\n                          [custom]=\\\"true\\\"\\n                          *ngIf=\\\"isShowLegend\\\">\\n          <div class=\\\"legendBody\\\">\\n            <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.poi}}<span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#0fce21'\\\">{{rawPOIList?.poiCount ? rawPOIList?.poiCount : 0}}</span></span>\\n            <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.facility}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#440084'\\\">{{rawPOIList?.facilityCount ? rawPOIList?.facilityCount : 0}}</span></span>\\n            <span class=\\\"legendData\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.active}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#12991f'\\\">{{rawPOIList?.activeCount ? rawPOIList?.activeCount : 0}}</span></span>\\n            <span class=\\\"dataLastChild\\\" [style.direction]=\\\"langDirection\\\">{{langObj?.inactive}} <span class=\\\"ml-2\\\">:</span> <span class=\\\"ml-2\\\" [style.color]=\\\"'#fd001a'\\\">{{rawPOIList?.inActiveCount ? rawPOIList?.inActiveCount : 0}}</span></span>\\n          </div>\\n        </app-floating-btn>\\n      </div> -->\\n      <!-- <div class=\\\"floorLegend\\\" *ngIf=\\\"isShowBuilder\\\">\\n        <div class=\\\"mb-12\\\">\\n          <label class=\\\"mr-8\\\"> To Add POI</label>\\n          <span>Shift+Click</span>\\n        </div>\\n        <div>\\n          <label  class=\\\"mr-8 ml-12\\\">To Delete POI/Path</label>\\n          <span>Shift+Delete</span>\\n        </div>\\n      </div> -->\\n    </div>\\n    </div>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PropertyViewGraphicComponent } from './property-view-graphic.component';\n\n\nexport const routes: Routes = [\n  { path: '', component: PropertyViewGraphicComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class PropertyViewGraphicRoutingModule { }\n\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvYW1zL215LXByb3BlcnR5L3Byb3BlcnR5LXZpZXctZ3JhcGhpYy9wcm9wZXJ0eS12aWV3LWdyYXBoaWMuY29tcG9uZW50LnNjc3MifQ== */\";","import { Component, OnInit, ViewChild, ElementRef, HostListener } from '@angular/core';\nimport { ApartmentService } from 'src/app/api/controllers/Apartment';\nimport { DocumentService } from 'src/app/api/controllers/Document';\nimport { CookieService } from 'ngx-cookie-service';\nimport { FileUploadService } from 'src/app/shared/services/file-upload.service';\nimport { FileDownloadService } from 'src/app/shared/services/file-download.service';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { LookupService } from 'src/app/api/controllers/Lookup';\nimport { MatDialog } from '@angular/material/dialog';\nimport { FileDetailsService } from 'src/app/api/controllers/FileDetails';\nimport { AddPropertyDialogComponent } from 'src/app/modules/ams/profile-settings/components/add-property-dialog/add-property-dialog.component';\nimport { SessionService } from 'src/app/core/session/session.service';\nimport { PropertyManagerService } from 'src/app/api/controllers/PropertyManager';\ndeclare var d3: any;\ndeclare var GraphCreator: any;\nvar graph;\n\n@Component({\n  selector: 'app-property-view-graphic',\n  templateUrl: './property-view-graphic.component.html',\n  styleUrls: ['./property-view-graphic.component.scss']\n})\nexport class PropertyViewGraphicComponent implements OnInit {\n\n  loading: boolean = true;\n  isShowBuilder: boolean = false;\n  savePFNode: any;\n  bNo: any = 0;\n  fNo: any = 0;\n  public towerList: Array<any> = [];\n  public floorList: Array<any> = [];\n  public floorPropertyData: any;\n  public updatedGraph: any;\n  public selectedTower: any;\n  public selectedFloor: any;\n  public selectedFloorLabel: any;\n  public selectedFloorNo: any;\n  public uploadResponse: any;\n  public onChangeVal: any;\n  public currentPOIId: any;\n  public propertyTypeList: Array<any> = [];\n  public unitFilterList: Array<any> = [];\n  public selectedUnitFilterValue: any;\n  public selectedPropertyType: any;\n  public styleTop: any;\n  public styleLeft: any;\n  public isShowOver = 'none';\n\n  @ViewChild('poiId') poiId: ElementRef;\n  @ViewChild('nodeId') nodeId: ElementRef;\n  @ViewChild('nodeKind') nodeKind: ElementRef;\n  @ViewChild('type') Nodetype: ElementRef;\n\n\n\n\n  @HostListener('document:keydown', ['$event']) onKeyDown(event) {\n    let e = <KeyboardEvent>event;\n    if (e.shiftKey && e.keyCode === 46) {\n      graph.deleteSelected();\n      // this.updateGraph();\n\n    }\n  }\n  @HostListener('document:mouseover', ['$event']) onKeyHover(event) {\n    if (localStorage.getItem('poiInfo')) {\n      let poiInfo = JSON.parse(localStorage.getItem('poiInfo'));\n      if (poiInfo && poiInfo.poiId) {\n        this.styleTop = poiInfo.y + 'px';\n        this.styleLeft = poiInfo.x + 'px';\n        this.isShowOver = 'block'\n      }\n    } else {\n      this.isShowOver = 'none';\n    }\n  }\n  @HostListener('document:click', ['$event'])\n  closePopup(event) {\n    if (localStorage.getItem('onchange')) {\n      this.onChangeVal = JSON.parse(localStorage.getItem('onchange'));\n      if (this.onChangeVal.nodeId >= 0 && this.onChangeVal.poiId) {\n        localStorage.removeItem('onchange');\n        this.currentPOIId = this.onChangeVal.poiId;\n        this.addProperty('edit');\n      } else if (this.onChangeVal.nodeId >= 0) {\n        localStorage.removeItem('onchange');\n        this.addProperty('add');\n      }\n    }\n  }\n\n  constructor(private element: ElementRef,\n    private apartmentService: ApartmentService,\n    private documentService: DocumentService,\n    private cookieService: CookieService,\n    private fileUploadService: FileUploadService,\n    private fileDownloadService: FileDownloadService,\n    private sanitizer: DomSanitizer,\n    private lookupService: LookupService,\n    private propertyManagerService : PropertyManagerService,\n    public dialog: MatDialog,\n    private sessionService: SessionService,\n    private fileDetailService: FileDetailsService) { }\n\n  ngOnInit(): void {\n    this.bootMe();\n    this.getBlockList();\n    this.getPropertyType();\n    this.unitFilterList = [\n      {\n        id: 'isAvailableForRent',\n        name: \"Available For Rent\"\n      },\n      {\n        id: 'isPetsAllowed',\n        name: \"Pets Allowed\"\n      },\n      {\n        id: 'isFurnished',\n        name: \"Furnished\"\n      },\n      {\n        id: 'isVacant',\n        name: \"Vacant\"\n      },\n      {\n        id: 'isSold',\n        name: \"Sold\"\n      },\n      {\n        id: 'constructionInProgress',\n        name: \"Construction In Progress\"\n      },\n      {\n        id: 'twoBR',\n        name: \"2 BR\"\n      }\n    ]\n  }\n\n  selectPropertyType() {\n    switch (Number(this.selectedPropertyType)) {\n      case 318:\n        this.getUnitProperty();\n        break;\n      case 319:\n        this.getAssetProperty();\n        break;\n      case 320:\n        this.getFacilityProperty();\n        break;\n      case 321:\n        this.getMaintananceProperty();\n        break;\n      default:\n        break;\n    }\n  }\n\n  getUnitProperty(){\n    let getParam = {\n      apartmentId:this.sessionService.apartmentId,\n      propertyPOIType:this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiUnitByPropertyPoiType(getParam).subscribe(\n      resp =>{\n\n      }\n    )\n  }\n\n  getAssetProperty(){\n    let getParam = {\n      apartmentId:this.sessionService.apartmentId,\n      propertyPOIType:this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiAssetByPropertyPoiType(getParam).subscribe(\n      resp =>{\n\n      }\n    )\n  }\n\n  getFacilityProperty(){\n    let getParam = {\n      apartmentId:this.sessionService.apartmentId,\n      propertyPOIType:this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiFacilityByPropertyPoiType(getParam).subscribe(\n      resp =>{\n\n      }\n    )\n  }\n\n  getMaintananceProperty(){\n    let getParam = {\n      apartmentId:this.sessionService.apartmentId,\n      propertyPOIType:this.selectedPropertyType\n    }\n    this.propertyManagerService.getAllPropertyPoiOpMaintenanceByPropertyPoiType(getParam).subscribe(\n      resp =>{\n\n      }\n    )\n  }\n\n  getBlockList() {\n    let param = {\n      apartmentId: this.sessionService.apartmentId\n    }\n    this.apartmentService.getApartmentBlockByApartmentId(param).subscribe(\n      (resp: any) => {\n        this.towerList = resp;\n        this.selectedTower = this.towerList[0].apartmentBlockId;\n        this.getFloorList();\n      },\n      error => {\n\n      }\n    )\n  }\n\n  getFloorList() {\n    let getFloorParam = {\n      apartmentId: this.sessionService.apartmentId,\n      apartmentblockId: this.selectedTower\n    }\n    this.apartmentService.getApartmentBlockFloorByApartmentIdBlockId(getFloorParam).subscribe(\n      (resp: any) => {\n        if (resp && resp.length) {\n          this.floorList = resp;\n          this.selectedFloor = this.floorList[0].apartmentBlockFloorId;\n          this.selectFloor();\n          // this.getPropertyMap(this.floorList[0].propertyMapFileId);\n        }\n      },\n      error => {\n\n      }\n    )\n  }\n\n  selectFloor() {\n    if (this.selectedFloor) {\n      this.floorList.filter(key => {\n        if (key.apartmentBlockFloorId == this.selectedFloor) {\n          this.selectedFloorLabel = key.floorLabel;\n          this.selectedFloorNo = key.floorno;\n          this.getPropertyMap(key.propertyMapFileId);\n        }\n      })\n    }\n  }\n\n\n  getPropertyType() {\n    let getLookUpParam = {\n      ApartmentId: this.sessionService.apartmentId,\n      LookupTypeId: 196\n    }\n    this.lookupService.getLookupValueByLookupTypeId(getLookUpParam).subscribe(\n      (resp: any) => {\n        this.propertyTypeList = resp;\n      },\n      error => {\n\n      }\n    )\n  }\n\n  addProperty(type): void {\n    let data: any = this.onChangeVal;\n    data['type'] = type;\n    data['apartmentBlockId'] = this.selectedFloor;\n    const dialogRef = this.dialog.open(AddPropertyDialogComponent, {\n      width: '20%',\n      position: {\n        right: '10%'\n      },\n      data: data\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        let objectVal: Array<string> = [];\n        for (const key in result) {\n          objectVal.push(key)\n        }\n        objectVal.splice(0, 2);\n        // let arrObjVal = JSON.stringify(objectVal);\n        console.log(objectVal.toString());\n        $('#nodeKind').val(objectVal.toString());\n        $('#spanNode').val(this.onChangeVal.nodeId);\n        $('#poiId').val(result.poiId);\n        $('#type').val(result.type);\n        this.updatePOI();\n      }\n    });\n  }\n\n  isUploadCompleted() {\n    return this.uploadResponse.status == \"completed\" ? true : false;\n  }\n\n  uploadFile(event) {\n    let file = event[0];\n    let userId = parseInt(this.cookieService.get('userId'))\n\n    this.fileUploadService.upload(file, userId).subscribe((res: any) => {\n\n      if (res != undefined) {\n        this.uploadResponse = res;\n      }\n      if (this.isUploadCompleted()) {\n        this.addPropertyMap(this.uploadResponse.fileId)\n      }\n    })\n  }\n\n\n  getPropertyMap(propertyId) {\n    let getFloorProperty = {\n      propertyMapFileId: propertyId\n    }\n    this.apartmentService.getPropertyMapFileById(getFloorProperty).subscribe(\n      (resp: any) => {\n        if (resp && resp.length) {\n          this.floorPropertyData = resp[0];\n          this.assignData(this.floorPropertyData)\n        }\n      },\n      error => {\n\n      }\n    )\n  }\n\n  assignData(data) {\n    if (data && data.floorPictureFileDetailsId && data.floorPictureFileDetailsId != 0 && data.mapJsonFile != \"\") {\n      this.isShowBuilder = true;\n      setTimeout(() => {\n        let svgElem = document.getElementById('bgimage');\n        if (svgElem) {\n          svgElem.parentNode.removeChild(svgElem);\n        }\n        this.getFileDetails(data.floorPictureFileDetailsId);\n        graph.deleteGraph();\n        graph.customGraphUpdate(data.mapJsonFile, undefined);\n      }, 1)\n    } else if (data && data.floorPictureFileDetailsId && data.floorPictureFileDetailsId != 0) {\n      this.isShowBuilder = true;\n      setTimeout(() => {\n        let svgElem = document.getElementById('bgimage');\n        if (svgElem) {\n          svgElem.parentNode.removeChild(svgElem);\n        }\n        this.getFileDetails(data.floorPictureFileDetailsId);\n        // graph.customImageUpdalod(this.getImage(data.floorPictureFileDetailsId));\n      }, 1)\n    } else {\n      this.isShowBuilder = false;\n    }\n  }\n\n  getFileDetails(imageId) {\n    let newParams = {\n      fileDetailsId: imageId,\n      apartmentId: this.sessionService.apartmentId\n    }\n\n    this.fileDetailService.getFileDetailsById(newParams).subscribe((res: any) => {\n      this.downloadFile(res[0].filePath)\n    })\n  }\n\n  downloadFile(filePath) {\n    this.fileDownloadService.downloadFile(filePath).subscribe((res: any) => {\n      const blob = res.body\n      let objectURL = URL.createObjectURL(blob);\n      let sanitizeUrl: any = this.sanitizer.bypassSecurityTrustUrl(objectURL);\n      graph.customImageUpdalod(sanitizeUrl.changingThisBreaksApplicationSecurity);\n    })\n\n  }\n\n  getImage(floorPictureFileDetailsId) {\n    let downloadParam = {\n      fileNameOnBlob: floorPictureFileDetailsId,\n      savefileNameWithPath: ''\n    }\n    this.fileDetailService.downloadAsync(downloadParam).subscribe(\n      resp => {\n        return resp;\n      },\n      error => {\n\n      }\n    )\n  }\n\n  bootMe() {\n    let docEl = document.documentElement,\n      bodyEl = document.getElementsByTagName('body')[0];\n\n    let width = window.innerWidth || docEl.clientWidth || bodyEl.clientWidth,\n      height = window.innerHeight || docEl.clientHeight || bodyEl.clientHeight;\n    // initial node data\n    var nodes = [];\n    var edges = [];\n    /** MAIN SVG **/\n    var svg = d3.select(\"#lcanvas\").append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    graph = new GraphCreator(svg, nodes, edges);\n    graph.setIdCt(0);\n    // this.graph.updateGraph();\n  }\n\n  addPropertyMap(imageId) {\n    this.downloadGraph();\n    let addPropertyMap = {\n      propertyMapFile: {\n        \"propertyMapFileId\": 0,\n        \"apartmentId\": this.sessionService.apartmentId,\n        \"apartmentBlockId\": this.selectedTower,\n        \"description\": \"\",\n        \"isIndoor\": true,\n        \"floorno\": this.selectedFloorNo,\n        \"floorLabel\": this.selectedFloorLabel,\n        \"floorPictureFileDetailsId\": imageId,\n        \"mapJsonFile\": JSON.stringify(this.updatedGraph),\n        \"isActive\": true,\n        \"insertedBy\": parseInt(this.cookieService.get('userId')),\n        \"insertedOn\": new Date().toISOString(),\n        \"updatedBy\": 0,\n        \"updatedOn\": new Date().toISOString(),\n        \"apartmentBlockFloorId\": this.selectedFloor\n      }\n    }\n    this.apartmentService.addPropertyMapFile(addPropertyMap).subscribe(\n      (resp: any) => {\n        this.floorPropertyData = resp;\n        this.assignData(this.floorPropertyData)\n      },\n      error => {\n\n      }\n    )\n  }\n\n  updateProperty() {\n    this.downloadGraph();\n    let updatePropertyMap = {\n      propertyMapFile: {\n        \"propertyMapFileId\": this.floorPropertyData.propertyMapFileId,\n        \"apartmentId\": this.sessionService.apartmentId,\n        \"apartmentBlockId\": this.selectedFloor,\n        \"description\": \"\",\n        \"isIndoor\": true,\n        \"floorno\": this.selectedFloorNo,\n        \"floorLabel\": this.selectedFloorLabel,\n        \"floorPictureFileDetailsId\": this.floorPropertyData.floorPictureFileDetailsId,\n        \"mapJsonFile\": JSON.stringify(this.updatedGraph),\n        \"isActive\": true,\n        \"insertedBy\": 0,\n        \"insertedOn\": new Date().toISOString(),\n        \"updatedBy\": parseInt(this.cookieService.get('userId')),\n        \"updatedOn\": new Date().toISOString(),\n        \"apartmentBlockFloorId\": this.selectedTower\n      }\n    }\n    this.apartmentService.updatePropertyMapFile(updatePropertyMap).subscribe(\n      (resp: any) => {\n        this.floorPropertyData = resp;\n        // this.assignData(this.floorPropertyData)\n      },\n      error => {\n\n      }\n    )\n  }\n\n  downloadGraph() {\n    var savePFNodes = [];\n    var saveEdges = [];\n    var savePFEdges = [];\n\n    var prefix = this.bNo + \"_\" + this.fNo + \"_\";\n    var sid, tid;\n    var nobj;\n    this.savePFNode = [];\n    graph.nodes.forEach(function (val, i) {\n      nobj = {}\n      nobj.id = prefix + val.id\n      nobj.x = val.x\n      nobj.y = val.y\n      nobj.poiId = val.poiId\n      nobj.kind = val.kind\n      savePFNodes.push(nobj)\n    });\n    this.savePFNode = savePFNodes;\n    graph.edges.forEach(function (val, i) {\n      saveEdges.push({ source: val.source.id, target: val.target.id });\n      sid = prefix + val.source.id;\n      tid = prefix + val.target.id;\n      savePFEdges.push({ source: sid, target: tid });\n    });\n    var fullObj = {\n      maponly: {\n        idct: graph.idct,\n        buildingNo: this.bNo,\n        floorNo: this.fNo,\n        nodes: graph.nodes,\n        edges: saveEdges\n      }, output: {\n        floorNo: this.fNo,\n        nodes: savePFNodes,\n        edges: savePFEdges\n      }\n    };\n    this.updatedGraph = fullObj;\n    /*fullObj.maponly.idct = graph.idct\n    fullObj.maponly.buildingNo = this.bNo\n    fullObj.maponly.floorNo = this.fNo\n    fullObj.maponly.nodes = graph.nodes\n    fullObj.maponly.edges = saveEdges\n    fullObj.output.floorNo = this.fNo\n    fullObj.output.nodes = savePFNodes\n    fullObj.output.edges = savePFEdges*/\n\n    // var blob = new Blob([JSON.stringify(fullObj)], {type: \"text/plain;charset=utf-8\"});\n    // //for time being commented out\n    // saveAs(blob, \"mydag.json\");\n  }\n\n  selectedUnitFilter() {\n    let selectedObj = { type: this.selectedPropertyType, selectedCategory: this.selectedUnitFilterValue }\n    graph.customGraphUpdate(this.floorPropertyData.mapJsonFile, selectedObj);\n  }\n\n  updatePOI() {\n    if ($('#poiId').val() && $('#nodeKind').val() && $('#spanNode').val()) {\n      graph.setPOIId();\n      this.updateProperty();\n    }\n  }\n\n  browseFile() {\n    var fileUpload = $(this.element.nativeElement).find(\"input[id='hidden-bg-upload']\");\n    fileUpload.trigger(\"click\");\n  }\n\n  \n  ngOnDestroy(){\n    let svgElem = document.getElementById('bgimage');\n    if(svgElem){\n      svgElem.parentNode.removeChild(svgElem);\n    }\n    graph.deleteGraph();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { RouterModule } from '@angular/router';\nimport { routes } from './property-view-graphic-routing.module';\nimport { PropertyViewGraphicRoutingModule } from './property-view-graphic-routing.module';\n\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { CondoCardModule } from 'src/app/modules/ui/card/card.module';\nimport { SelectModule } from 'src/app/modules/ui/select/select.module';\n\nimport { PropertyViewGraphicComponent } from './property-view-graphic.component';\n\n\n@NgModule({\n  declarations: [ PropertyViewGraphicComponent ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    CondoCardModule,\n    SelectModule,\n    RouterModule.forChild(routes),\n    PropertyViewGraphicRoutingModule\n  ],\n  bootstrap: [\n    PropertyViewGraphicComponent\n  ]\n})\nexport class PropertyViewGraphicModule { }\n"],"sourceRoot":"webpack:///"}