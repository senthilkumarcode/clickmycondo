function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{YsBZ:function(e,t,i){"use strict";i.r(t);var a=i("ofXK"),c=i("tyNb"),n=i("NutR"),r=i("ThaB"),o=i("wbvY"),s=i("JK/P"),d=i("F/us"),f=i("fXoL"),l=i("0IaG"),u=i("b6Qw"),h=i("wlDI"),g=i("Buwz"),p=i("8mtn"),m=i("NhFE"),y=i("668k"),v=i("3Pt+"),b=i("BR9Y");function I(e,t){1&e&&f.ec(0,"app-loader")}function S(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"li",17),f.ic(2,"div",3),f.ic(3,"h5"),f.fd(4),f.hc(),f.ic(5,"p"),f.fd(6),f.hc(),f.hc(),f.ic(7,"div",6),f.ic(8,"a",18),f.uc("click",(function(){f.Wc(i);var e=t.$implicit;return f.yc(2).editGate(e.gateId)})),f.ec(9,"i-feather",19),f.hc(),f.ic(10,"a",20),f.uc("click",(function(){f.Wc(i);var e=t.$implicit;return f.yc(2).showConfirmModal(e)})),f.ec(11,"i-feather",21),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=t.$implicit;f.Ob(4),f.gd(a.gateName),f.Ob(2),f.gd(a.comments)}}function O(e,t){if(1&e&&(f.gc(0),f.ic(1,"div",15),f.dd(2,S,12,2,"ng-container",16),f.hc(),f.fc()),2&e){var i=f.yc();f.Ob(2),f.Gc("ngForOf",i.gateListData)}}function k(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Add Gate"),f.hc())}function C(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Edit Gate"),f.hc())}function T(e,t){1&e&&f.ec(0,"app-loader")}function M(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"form",27,28),f.uc("ngSubmit",(function(){f.Wc(i);var e=f.Tc(2);return f.yc(2).submitGateForm(e)})),f.ic(3,"div",29),f.ic(4,"div",30),f.ic(5,"div",31),f.ic(6,"label"),f.fd(7,"Gate Name*"),f.hc(),f.ic(8,"input",32),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).gate.gateName=e})),f.hc(),f.hc(),f.hc(),f.ic(9,"div",33),f.ic(10,"div",31),f.ic(11,"label"),f.fd(12,"Comments"),f.hc(),f.ic(13,"textarea",34),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).gate.comments=e})),f.hc(),f.hc(),f.hc(),f.ic(14,"div",33),f.ic(15,"ul",35),f.ic(16,"li",8),f.ic(17,"button",36),f.fd(18,"Submit"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=f.Tc(2),c=f.yc(2);f.Ob(8),f.Gc("ngModel",c.gate.gateName),f.Ob(5),f.Gc("ngModel",c.gate.comments),f.Ob(4),f.Gc("disabled",a.invalid)}}function G(e,t){if(1&e){var i=f.jc();f.ic(0,"div",22),f.ic(1,"div",1),f.ic(2,"div",23),f.ic(3,"div",3),f.ic(4,"h5"),f.dd(5,k,2,0,"span",12),f.dd(6,C,2,0,"span",12),f.hc(),f.hc(),f.ic(7,"div",24),f.uc("click",(function(){return f.Wc(i),f.yc().closeGate()})),f.ec(8,"i-feather",25),f.hc(),f.hc(),f.ic(9,"div",26),f.dd(10,T,1,0,"app-loader",12),f.dd(11,M,19,3,"ng-container",12),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(5),f.Gc("ngIf",!a.isEditGate),f.Ob(1),f.Gc("ngIf",a.isEditGate),f.Ob(4),f.Gc("ngIf",!a.isGateLoaded),f.Ob(1),f.Gc("ngIf",a.isGateLoaded)}}var D,L=((D=function(){function e(t,i,a,c,n,r){_classCallCheck(this,e),this.injector=t,this.dialog=i,this.staffService=a,this.lookupService=c,this.sharedService=n,this.cookieService=r,this.isGateLoaded=!0,this.isGateTableLoaded=!1,this.isAddGateLoaded=!1,this.isEditGate=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"submitGateForm",value:function(e){var t=this;if(this.isGateLoaded=!1,this.isEditGate){var i={gateId:parseInt(this.gate.gateId),apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:this.gate.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateGate(i).subscribe((function(e){e.message&&(t.isGateLoaded=!0,t.sharedService.setAlertMessage("Gate updated Successfully!"),t.getAllGates())}),(function(e){}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString()};this.staffService.addGate(a).subscribe((function(e){e.message&&(t.isGateLoaded=!0,t.sharedService.setAlertMessage("Gate added Successfully!"),t.getAllGates())}),(function(e){}))}}},{key:"getAllGates",value:function(){var e=this;this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.isGateTableLoaded=!0,e.gateListData=t.filter((function(e){return e.isActive})),e.totalItems=e.gateListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems}),(function(e){}))}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"addGate",value:function(){var e=this;this.isEditGate=!1,this.isAddGateLoaded=!1,setTimeout((function(){e.isAddGateLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}},{key:"editGate",value:function(e){var t=this;this.isEditGate=!0,this.isGateLoaded=!1,this.staffService.getGateByGateId(e).subscribe((function(e){t.isGateLoaded=!0,t.gate=e[0],t.isAddGateLoaded=!1,setTimeout((function(){t.isAddGateLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}),(function(e){}))}},{key:"closeGate",value:function(){this.isAddGateLoaded=!1}},{key:"ngOnInit",value:function(){var e=this;this.gate={},this.getAllGates(),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){e.isGateTableLoaded=!1;var i={gateId:t.gateId,deleteBy:parseInt(e.cookieService.get("userId"))};e.staffService.deleteGate(i).subscribe((function(i){e.gateListData=e.gateListData.filter((function(e){return e.gateId!==t.gateId})),e.sharedService.setUnitListDeleteIndex(null),e.isGateTableLoaded=!0}))}}))}}]),e}()).\u0275fac=function(e){return new(e||D)(f.dc(f.x),f.dc(l.b),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},D.\u0275cmp=f.Xb({type:D,selectors:[["app-staff-gates"]],decls:20,vars:8,consts:[[1,"staff-gates-wrapper"],[1,"card","mb-30"],[1,"card-header","no-border"],[1,"float-left"],[1,"lh-38"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item"],[1,"btn","lime-green","mt_5",3,"click"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],["class","add-gate-card",4,"ngIf"],[1,"simple-lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],["href","javascript:void(0)",1,"icon-link","mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",1,"icon-link",3,"click"],["name","trash",1,"icon","delete"],[1,"add-gate-card"],[1,"card-header"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addGateForm","novalidate","",3,"ngSubmit"],["addGateForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter text","name","gateName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","some text here","name","healthIssue","required","",3,"ngModel","ngModelChange"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.ic(1,"div",1),f.ic(2,"div",2),f.ic(3,"div",3),f.ic(4,"h5",4),f.fd(5,"Gates List "),f.ic(6,"span",5),f.fd(7),f.hc(),f.hc(),f.hc(),f.ic(8,"div",6),f.ic(9,"ul",7),f.ic(10,"li",8),f.ic(11,"a",9),f.uc("click",(function(){return t.addGate()})),f.ec(12,"i-feather",10),f.ic(13,"span"),f.fd(14,"Add Gate"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(15,"div",11),f.dd(16,I,1,0,"app-loader",12),f.dd(17,O,3,1,"ng-container",12),f.hc(),f.ic(18,"app-pagination",13),f.uc("outputParams",(function(e){return t.getIndexParams(e)})),f.hc(),f.hc(),f.dd(19,G,12,4,"div",14),f.hc()),2&e&&(f.Ob(7),f.gd(t.totalItems),f.Ob(9),f.Gc("ngIf",!t.isGateTableLoaded),f.Ob(1),f.Gc("ngIf",t.isGateTableLoaded),f.Ob(1),f.Gc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit),f.Ob(1),f.Gc("ngIf",t.isAddGateLoaded))},directives:[p.b,a.l,m.a,y.a,a.k,v.B,v.o,v.p,b.a,v.d,v.x,v.n,v.q],styles:[""]}),D),w=i("wd/R"),E=i("z17N"),A=i("bvAq");function x(e,t){if(1&e){var i=f.jc();f.ic(0,"tr"),f.ic(1,"td",22),f.fd(2),f.hc(),f.ic(3,"td",23),f.fd(4),f.hc(),f.ic(5,"td",24),f.fd(6),f.hc(),f.ic(7,"td"),f.ic(8,"a",25),f.uc("click",(function(){f.Wc(i);var e=t.$implicit;return f.yc(2).editShift(e)})),f.ec(9,"i-feather",26),f.hc(),f.ic(10,"a",27),f.uc("click",(function(){f.Wc(i);var e=t.$implicit;return f.yc(2).showConfirmModal(e)})),f.ec(11,"i-feather",28),f.hc(),f.hc(),f.hc()}if(2&e){var a=t.$implicit,c=f.yc(2);f.Ob(2),f.gd(c.getShiftType(a.shiftTypeId)),f.Ob(2),f.gd(a.startTime),f.Ob(2),f.gd(a.totalHours)}}function N(e,t){if(1&e){var i=f.jc();f.ic(0,"div",15),f.ic(1,"table",16),f.ic(2,"thead"),f.ic(3,"tr"),f.ic(4,"th",17),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("shiftType")})),f.fd(5,"Shift Type"),f.ec(6,"span",18),f.hc(),f.ic(7,"th",17),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("startTime")})),f.fd(8,"Shift Start Time"),f.ec(9,"span",18),f.hc(),f.ic(10,"th",17),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("totalHours")})),f.fd(11,"Total (Hrs)"),f.ec(12,"span",18),f.hc(),f.ic(13,"th",19),f.fd(14,"Action"),f.hc(),f.hc(),f.hc(),f.ic(15,"tbody"),f.dd(16,x,12,3,"tr",20),f.zc(17,"simpleSearch"),f.zc(18,"slice"),f.zc(19,"orderBy"),f.hc(),f.hc(),f.ic(20,"app-pagination",21),f.uc("outputParams",(function(e){return f.Wc(i),f.yc().getIndexParams(e)})),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(1),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("shiftType")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("startTime")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("totalHours")),f.Ob(4),f.Gc("ngForOf",f.Bc(17,9,f.Cc(18,12,f.Cc(19,16,a.shiftsListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.shiftData)),f.Ob(4),f.Gc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}function F(e,t){1&e&&(f.ic(0,"h5"),f.fd(1,"Add Staff Shifts"),f.hc())}function B(e,t){1&e&&(f.ic(0,"h5"),f.fd(1,"Edit Staff Shifts"),f.hc())}function W(e,t){1&e&&f.ec(0,"app-loader")}function V(e,t){if(1&e&&(f.ic(0,"option",53),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.lookupValueId),f.Ob(1),f.gd(i.lookupValueName)}}function P(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"form",35,36),f.uc("ngSubmit",(function(){f.Wc(i);var e=f.Tc(2);return f.yc(2).submitShiftsForm(e)})),f.ic(3,"div",37),f.ic(4,"div",38),f.ic(5,"div",39),f.ic(6,"label"),f.fd(7,"Shift Type*"),f.hc(),f.ic(8,"select",40),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).shiftTypeId=e})),f.ic(9,"option",41),f.fd(10,"Select"),f.hc(),f.dd(11,V,2,2,"option",42),f.hc(),f.hc(),f.hc(),f.ic(12,"div",38),f.ic(13,"div",43),f.ic(14,"label"),f.fd(15,"Shift Start Time"),f.hc(),f.ic(16,"input",44),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).shiftStartTime=e})),f.hc(),f.ec(17,"owl-date-time",45,46),f.ic(19,"div",47),f.ec(20,"i-feather",48),f.hc(),f.hc(),f.hc(),f.ic(21,"div",38),f.ic(22,"div",43),f.ic(23,"label"),f.fd(24,"Total hrs"),f.hc(),f.ic(25,"input",49),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).shiftTotalHrs=e})),f.hc(),f.hc(),f.hc(),f.ic(26,"div",50),f.ic(27,"ul",51),f.ic(28,"li",10),f.ic(29,"button",52),f.fd(30,"Submit"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=f.Tc(2),c=f.Tc(18),n=f.yc(2);f.Ob(8),f.Gc("ngModel",n.shiftTypeId),f.Ob(3),f.Gc("ngForOf",n.shiftTypeList),f.Ob(5),f.Gc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",n.shiftStartTime),f.Ob(1),f.Gc("pickerType","timer"),f.Ob(2),f.Gc("owlDateTimeTrigger",c),f.Ob(6),f.Gc("ngModel",n.shiftTotalHrs),f.Ob(4),f.Gc("disabled",a.invalid)}}function j(e,t){if(1&e){var i=f.jc();f.ic(0,"div",29),f.ic(1,"div",30),f.ic(2,"div",2),f.ic(3,"div",3),f.dd(4,F,2,0,"h5",31),f.dd(5,B,2,0,"h5",31),f.hc(),f.ic(6,"div",32),f.uc("click",(function(){return f.Wc(i),f.yc().closeShift()})),f.ec(7,"i-feather",33),f.hc(),f.hc(),f.ic(8,"div",34),f.dd(9,W,1,0,"app-loader",31),f.dd(10,P,31,9,"ng-container",31),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(4),f.Gc("ngIf",!a.isEditShift),f.Ob(1),f.Gc("ngIf",a.isEditShift),f.Ob(4),f.Gc("ngIf",!a.isShiftsLoaded),f.Ob(1),f.Gc("ngIf",a.isShiftsLoaded)}}var U,_=((U=function(){function e(t,i,a,c,n,r){_classCallCheck(this,e),this.injector=t,this.dialog=i,this.staffService=a,this.lookupService=c,this.sharedService=n,this.cookieService=r,this.isShiftsLoaded=!0,this.isShiftTableLoaded=!1,this.shiftTypeId="",this.shiftStartTime="",this.shiftTotalHrs=0,this.shiftData="",this.shiftType="",this.isEditShift=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.isAddShiftLoaded=!1,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"getShiftType",value:function(e){var t=d.filter(this.shiftTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.shiftType=t[0].lookupValueName,t[0].lookupValueName.toLowerCase())}},{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"submitShiftsForm",value:function(e){var t=this;if(this.isShiftsLoaded=!1,this.isEditShift){var i={shiftId:this.shiftId,apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:w(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:0,insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateShift(i).subscribe((function(e){e.message&&(t.isShiftsLoaded=!0,t.sharedService.setAlertMessage("Shift updated Successfully!"),t.getAllShifts())}),(function(e){}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:w(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:"2019-12-03T06:11:51.972Z"};this.staffService.addShift(a).subscribe((function(e){e.message&&(t.isShiftsLoaded=!0,t.sharedService.setAlertMessage("Shift added Successfully!"),t.getAllShifts())}),(function(e){}))}}},{key:"addShift",value:function(){var e=this;this.isEditShift=!1,this.isAddShiftLoaded=!1,setTimeout((function(){e.isAddShiftLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-shift-card").getBoundingClientRect().top;window.scroll({top:e,behavior:"smooth"})}),10)}},{key:"editShift",value:function(e){var t=this;this.isAddShiftLoaded=!1,setTimeout((function(){t.isAddShiftLoaded=!0}),10),this.isEditShift=!0,this.shiftTypeId=e.shiftTypeId,this.shiftStartTime=w(e.startTime,"HH:mm").toDate(),this.shiftTotalHrs=e.totalHours,this.shiftId=e.shiftId,setTimeout((function(){var e=document.querySelector(".add-shift-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}},{key:"closeShift",value:function(){this.isAddShiftLoaded=!1}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"getAllShifts",value:function(){var e=this;this.isShiftTableLoaded=!1,this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.shiftsListData=t.filter((function(e){return e.isActive})),e.totalItems=e.shiftsListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isShiftTableLoaded=!0}),(function(e){}))}},{key:"ngOnInit",value:function(){var e=this;this.shift={},this.getAllShifts(),this.lookupService.getLookupValueByLookupTypeId(28).subscribe((function(t){e.shiftTypeList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var i={shiftId:t.shiftId,deleteBy:parseInt(e.cookieService.get("userId"))};e.isShiftTableLoaded=!1,e.staffService.deleteShift(i).subscribe((function(i){e.shiftsListData=e.shiftsListData.filter((function(e){return e.shiftId!==t.shiftId})),e.sharedService.setUnitListDeleteIndex(null),e.isShiftTableLoaded=!0}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||U)(f.dc(f.x),f.dc(l.b),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},U.\u0275cmp=f.Xb({type:U,selectors:[["app-staff-shifts"]],decls:20,vars:4,consts:[[1,"staff-shifts-wrapper"],[1,"card","mb-30","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","lime-green",3,"click"],["name","plus",1,"icon","plus"],["class","card-body p-0",4,"ngIf"],["class","add-shift-card",4,"ngIf"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"name"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"add-shift-card"],[1,"card","mb-30"],[4,"ngIf"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addShiftForm","novalidate","",3,"ngSubmit"],["addShiftForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","shiftTypeId","id","shiftTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["name","startTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["startTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","number","OnlyNumber","true","placeholder","Enter value","name","shiftTotalHrs","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.ic(1,"div",1),f.ic(2,"div",2),f.ic(3,"div",3),f.ic(4,"h5"),f.fd(5,"All Shifts "),f.ic(6,"span",4),f.fd(7),f.hc(),f.hc(),f.hc(),f.ic(8,"div",5),f.ic(9,"ul",6),f.ic(10,"li",7),f.ec(11,"i",8),f.ic(12,"input",9),f.uc("ngModelChange",(function(e){return t.shiftData=e})),f.hc(),f.hc(),f.ic(13,"li",10),f.ic(14,"a",11),f.uc("click",(function(){return t.addShift()})),f.ec(15,"i-feather",12),f.ic(16,"span"),f.fd(17,"Add Shift"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.dd(18,N,21,20,"div",13),f.hc(),f.dd(19,j,11,4,"div",14),f.hc()),2&e&&(f.Ob(7),f.gd(t.totalItems),f.Ob(5),f.Gc("ngModel",t.shiftData),f.Ob(6),f.Gc("ngIf",t.isShiftTableLoaded),f.Ob(1),f.Gc("ngIf",t.isAddShiftLoaded))},directives:[b.c,b.a,v.d,v.n,v.q,p.b,a.l,a.j,a.k,m.a,y.a,v.B,v.o,v.p,v.y,v.x,v.r,v.A,E.b,E.d,E.a,v.s,b.b],pipes:[A.c,a.t,A.b],styles:[""]}),U);function q(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Add Staff Category"),f.hc())}function z(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Edit Staff Category"),f.hc())}function $(e,t){1&e&&f.ec(0,"app-loader")}function H(e,t){if(1&e&&(f.ic(0,"option",20),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.lookupValueId),f.Ob(1),f.gd(i.lookupValueName)}}function Z(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"form",7,8),f.uc("ngSubmit",(function(){f.Wc(i);var e=f.Tc(2);return f.yc().submitStaffForm(e)})),f.ic(3,"div",9),f.ic(4,"div",10),f.ic(5,"div",11),f.ic(6,"label"),f.fd(7,"Category*"),f.hc(),f.ic(8,"select",12),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staffType=e})),f.ic(9,"option",13),f.fd(10,"Select"),f.hc(),f.dd(11,H,2,2,"option",14),f.hc(),f.hc(),f.hc(),f.ic(12,"div",10),f.ic(13,"div",15),f.ic(14,"label"),f.fd(15,"Sub Category*"),f.hc(),f.ic(16,"input",16),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staffCategory=e})),f.hc(),f.hc(),f.hc(),f.ic(17,"div",10),f.ic(18,"ul",17),f.ic(19,"li",18),f.ic(20,"button",19),f.fd(21,"Submit"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=f.Tc(2),c=f.yc();f.Ob(8),f.Gc("ngModel",c.staffType),f.Ob(3),f.Gc("ngForOf",c.staffCategoryData),f.Ob(5),f.Gc("ngModel",c.staffCategory),f.Ob(4),f.Gc("disabled",a.invalid)}}function X(e,t){1&e&&f.ec(0,"app-loader")}function J(e,t){if(1&e){var i=f.jc();f.ic(0,"tr"),f.ic(1,"td"),f.fd(2),f.hc(),f.ec(3,"td",30),f.ec(4,"td",30),f.ec(5,"td",30),f.ic(6,"td"),f.ic(7,"a",31),f.uc("click",(function(){f.Wc(i);var e=t.$implicit,a=f.yc(2);return a.staffType=115,a.editStaffCategory(e)})),f.ec(8,"i-feather",32),f.hc(),f.ic(9,"a",33),f.uc("click",(function(){f.Wc(i);var e=t.index,a=f.yc(2);return a.staffDeleteTypeId=115,a.showConfirmModal(e)})),f.ec(10,"i-feather",34),f.hc(),f.hc(),f.hc()}if(2&e){var a=t.$implicit;f.Ob(2),f.gd(a.lookupValueName)}}function Y(e,t){if(1&e){var i=f.jc();f.ic(0,"div",21),f.ic(1,"div",22),f.ic(2,"div",23),f.ic(3,"h5"),f.fd(4,"Offical Staffs"),f.hc(),f.hc(),f.hc(),f.ic(5,"div",24),f.ic(6,"table",25),f.ic(7,"thead"),f.ic(8,"tr"),f.ic(9,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("status")})),f.fd(10,"Category "),f.ec(11,"span",27),f.hc(),f.ic(12,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("subcategory")})),f.fd(13,"Supervisor "),f.ec(14,"span",27),f.hc(),f.ic(15,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("level1")})),f.fd(16,"Level-1 "),f.ec(17,"span",27),f.hc(),f.ic(18,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("level2")})),f.fd(19,"Level-2 "),f.ec(20,"span",27),f.hc(),f.ic(21,"th",28),f.fd(22,"Action"),f.hc(),f.hc(),f.hc(),f.ic(23,"tbody"),f.dd(24,J,11,1,"tr",29),f.zc(25,"simpleSearch"),f.zc(26,"slice"),f.zc(27,"orderBy"),f.hc(),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(6),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("status")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("subcategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("level1")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("level2")),f.Ob(4),f.Gc("ngForOf",f.Bc(25,6,f.Cc(26,9,f.Cc(27,13,a.categoryOffcialListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.categoryOffcialData))}}function R(e,t){if(1&e){var i=f.jc();f.ic(0,"tr"),f.ic(1,"td"),f.fd(2),f.hc(),f.ec(3,"td",30),f.ec(4,"td",30),f.ec(5,"td",30),f.ic(6,"td"),f.ic(7,"a",31),f.uc("click",(function(){f.Wc(i);var e=t.$implicit,a=f.yc(2);return a.staffType=116,a.editStaffCategory(e)})),f.ec(8,"i-feather",32),f.hc(),f.ic(9,"a",33),f.uc("click",(function(){f.Wc(i);var e=t.index,a=f.yc(2);return a.staffDeleteTypeId=116,a.showConfirmModal(e)})),f.ec(10,"i-feather",34),f.hc(),f.hc(),f.hc()}if(2&e){var a=t.$implicit;f.Ob(2),f.gd(a.lookupValueName)}}function K(e,t){if(1&e){var i=f.jc();f.ic(0,"div",21),f.ic(1,"div",22),f.ic(2,"div",23),f.ic(3,"h5"),f.fd(4,"Personal Staffs"),f.hc(),f.hc(),f.hc(),f.ic(5,"div",24),f.ic(6,"table",25),f.ic(7,"thead"),f.ic(8,"tr"),f.ic(9,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("status")})),f.fd(10,"Category "),f.ec(11,"span",27),f.hc(),f.ic(12,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("subcategory")})),f.fd(13,"Supervisor "),f.ec(14,"span",27),f.hc(),f.ic(15,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("level1")})),f.fd(16,"Level-1 "),f.ec(17,"span",27),f.hc(),f.ic(18,"th",26),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("level2")})),f.fd(19,"Level-2 "),f.ec(20,"span",27),f.hc(),f.ic(21,"th",28),f.fd(22,"Action"),f.hc(),f.hc(),f.hc(),f.ic(23,"tbody"),f.dd(24,R,11,1,"tr",29),f.zc(25,"simpleSearch"),f.zc(26,"slice"),f.zc(27,"orderBy"),f.hc(),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(6),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("status")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("subcategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("level1")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("level2")),f.Ob(4),f.Gc("ngForOf",f.Bc(25,6,f.Cc(26,9,f.Cc(27,13,a.categoryPersonalListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.categoryPersonalData))}}var Q,ee=((Q=function(){function e(t,i,a,c,n,r){_classCallCheck(this,e),this.injector=t,this.dialog=i,this.userService=a,this.lookupService=c,this.sharedService=n,this.cookieService=r,this.categoryOffcialData="",this.categoryPersonalData="",this.isCategoryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.isStaffLoaded=!1,this.staffType="",this.staffCategory="",this.staffDeleteTypeId="",this.errorMessage="",this.isError=!1,this.isEditStaffCategory=!1,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"editStaffCategory",value:function(e){this.isEditStaffCategory=!0,this.staffCategory=e.lookupValueName,this.staffCategoryId=e.lookupValueId}},{key:"submitStaffForm",value:function(e){var t=this;if(this.isError=!1,"115"==this.staffType)if(this.staffTypeId=26,d.some(this.categoryOffcialData,(function(e){return e.lookupValueName===t.staffCategory})))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){var i={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(i).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.isEditStaffCategory=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var i=e.filter((function(e){return e.isActive}));t.categoryOffcialListData=i,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else{var a={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(a).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var i=e.filter((function(e){return e.isActive}));t.categoryOffcialListData=i,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else if(this.staffTypeId=27,d.some(this.categoryPersonalData,(function(e){return e.lookupValueName===t.staffCategory})))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){var c={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(c).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.isEditStaffCategory=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var i=e.filter((function(e){return e.isActive}));t.categoryPersonalListData=i,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else{var n={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(n).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var i=e.filter((function(e){return e.isActive}));t.categoryPersonalListData=i,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffCategoryData=t,e.isStaffLoaded=!0}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){var i=t.filter((function(e){return e.isActive}));e.categoryOffcialListData=i,e.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){var i=t.filter((function(e){return e.isActive}));e.categoryPersonalListData=i,e.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){if("115"==e.staffDeleteTypeId)var i={lookupValueId:e.categoryOffcialListData[t].lookupValueId,updateUserId:parseInt(e.cookieService.get("userId"))};else i={lookupValueId:e.categoryPersonalListData[t].lookupValueId,updateUserId:parseInt(e.cookieService.get("userId"))};e.isCategoryDataLoaded=!1,e.lookupService.deleteLookupvalue(i).subscribe((function(i){"115"==e.staffDeleteTypeId?e.categoryOffcialListData.splice(t,1):e.categoryPersonalListData.splice(t,1),e.isCategoryDataLoaded=!0,e.sharedService.setUnitListDeleteIndex(null)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||Q)(f.dc(f.x),f.dc(l.b),f.dc(n.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},Q.\u0275cmp=f.Xb({type:Q,selectors:[["app-staff-setup"]],decls:14,vars:9,consts:[[1,"staff-setup-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","mb-30"],[1,"card-body"],[3,"message","isAlert"],["class","card card-table mb-30",4,"ngIf"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffType","id","staffType","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline","mt-25"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],[1,"card","card-table","mb-30"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.ic(1,"h5",1),f.dd(2,q,2,0,"span",2),f.dd(3,z,2,0,"span",2),f.hc(),f.ic(4,"div",3),f.ic(5,"div",4),f.ec(6,"app-alert-message",5),f.dd(7,$,1,0,"app-loader",2),f.dd(8,Z,22,4,"ng-container",2),f.hc(),f.hc(),f.dd(9,X,1,0,"app-loader",2),f.dd(10,Y,28,17,"div",6),f.dd(11,K,28,17,"div",6),f.ec(12,"app-staff-gates"),f.ec(13,"app-staff-shifts"),f.hc()),2&e&&(f.Ob(2),f.Gc("ngIf",!t.isEditStaffCategory),f.Ob(1),f.Gc("ngIf",t.isEditStaffCategory),f.Ob(3),f.Gc("message",t.errorMessage)("isAlert",t.isError),f.Ob(1),f.Gc("ngIf",!t.isStaffLoaded),f.Ob(1),f.Gc("ngIf",t.isStaffLoaded),f.Ob(1),f.Gc("ngIf",!t.isCategoryDataLoaded),f.Ob(1),f.Gc("ngIf",t.isCategoryDataLoaded),f.Ob(1),f.Gc("ngIf",t.isCategoryDataLoaded))},directives:[a.l,h.a,L,_,y.a,v.B,v.o,v.p,v.y,v.x,v.n,v.q,v.r,v.A,a.k,b.a,v.d,a.j,p.b],pipes:[A.c,a.t,A.b],styles:[""]}),Q),te=i("1kSV");function ie(e,t){1&e&&f.ec(0,"app-loader")}var ae=function(){return{exact:!0}};function ce(e,t){if(1&e){var i=f.jc();f.ic(0,"tr"),f.ic(1,"td",23),f.fd(2),f.hc(),f.ic(3,"td",23),f.fd(4),f.hc(),f.ic(5,"td",24),f.fd(6),f.hc(),f.ic(7,"td",24),f.fd(8),f.hc(),f.ic(9,"td",25),f.fd(10),f.hc(),f.ic(11,"td"),f.ic(12,"a",26),f.ec(13,"i-feather",27),f.hc(),f.ic(14,"a",28),f.uc("click",(function(){f.Wc(i);var e=t.index;return f.yc(2).showConfirmModal(e)})),f.ec(15,"i-feather",29),f.hc(),f.hc(),f.hc()}if(2&e){var a=t.$implicit,c=f.yc(2);f.Ob(2),f.gd(a.firstName),f.Ob(2),f.gd(a.emailId),f.Ob(2),f.gd(c.getStaffCategory(a.staffCategoryId)),f.Ob(2),f.gd(c.getStaffSubCategory(a.staffSubCategoryId)),f.Ob(2),f.gd(a.contactNumber),f.Ob(2),f.Ic("routerLink","/ams/staff/edit-staff/",a.staffId,""),f.Gc("ngbPopover",c.popAddCheckInContent)("routerLinkActiveOptions",f.Mc(8,ae))}}function ne(e,t){if(1&e){var i=f.jc();f.ic(0,"div",3),f.ic(1,"div",4),f.ic(2,"div",5),f.ic(3,"h5"),f.fd(4,"All Staffs "),f.ic(5,"span",6),f.fd(6),f.hc(),f.hc(),f.hc(),f.ic(7,"ul",7),f.ic(8,"li",8),f.ec(9,"i",9),f.ic(10,"input",10),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staffData=e})),f.hc(),f.hc(),f.ic(11,"li",11),f.ic(12,"a",12),f.ec(13,"i-feather",13),f.ic(14,"span"),f.fd(15,"Print"),f.hc(),f.hc(),f.hc(),f.ic(16,"li",11),f.ic(17,"a",14),f.ec(18,"i-feather",15),f.ic(19,"span"),f.fd(20,"Add Staff"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(21,"div",16),f.ic(22,"table",17),f.ic(23,"thead"),f.ic(24,"tr"),f.ic(25,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("firstName")})),f.fd(26,"Staff Name "),f.ec(27,"span",19),f.hc(),f.ic(28,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("emailId")})),f.fd(29,"Email ID"),f.ec(30,"span",19),f.hc(),f.ic(31,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("staffCategory")})),f.fd(32,"Category "),f.ec(33,"span",19),f.hc(),f.ic(34,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("staffSubCategory")})),f.fd(35,"Sub Category"),f.ec(36,"span",19),f.hc(),f.ic(37,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("contactNumber")})),f.fd(38,"Phone Number "),f.ec(39,"span",19),f.hc(),f.ic(40,"th",20),f.fd(41,"Action"),f.hc(),f.hc(),f.hc(),f.ic(42,"tbody"),f.dd(43,ce,16,9,"tr",21),f.zc(44,"simpleSearch"),f.zc(45,"slice"),f.zc(46,"orderBy"),f.hc(),f.hc(),f.ic(47,"app-pagination",22),f.uc("outputParams",(function(e){return f.Wc(i),f.yc().getIndexParams(e)})),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(6),f.gd(a.totalItems),f.Ob(4),f.Gc("ngModel",a.staffData),f.Ob(7),f.Gc("routerLinkActiveOptions",f.Mc(25,ae)),f.Ob(5),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("firstName")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("emailId")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("staffCategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("staffSubCategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("contactNumber")),f.Ob(4),f.Gc("ngForOf",f.Bc(44,14,f.Cc(45,17,f.Cc(46,21,a.staffListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.staffData)),f.Ob(4),f.Gc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}var re,oe=((re=function(){function e(t,i,a,c,n,r,o){_classCallCheck(this,e),this.router=t,this.route=i,this.injector=a,this.staffService=c,this.lookupService=n,this.sharedService=r,this.cookieService=o,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.staffData="",this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"getTimeFormat",value:function(e){return w(e).format("YYYY-MM-DD HH:mm")}},{key:"getStaffCategory",value:function(e){var t=d.filter(this.staffTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.staffTypeId=t[0].lookupValueId,t[0].lookupValueName.toLowerCase())}},{key:"getStaffSubCategory",value:function(e){var t;return 115==this.staffTypeId?void 0===(t=d.filter(this.staffOfficalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName:void 0===(t=d.filter(this.staffPersonalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName}},{key:"ngOnInit",value:function(){var e=this;this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffListData=t.filter((function(e){return e.isActive})),e.totalItems=e.staffListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isStaffDataLoaded=!0})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffOfficalCategoryData=t.filter((function(e){return e.isActive})),console.log(e.staffOfficalCategoryData)}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.staffPersonalCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var i={staffId:e.staffListData[t].staffId,deleteBy:parseInt(e.cookieService.get("userId"))};e.isStaffDataLoaded=!1,e.staffService.deleteStaff(i).subscribe((function(i){e.staffListData.splice(t,1),e.totalItems=e.staffListData.length,e.isStaffDataLoaded=!0,e.sharedService.setUnitListDeleteIndex(null)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||re)(f.dc(c.c),f.dc(c.a),f.dc(f.x),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},re.\u0275cmp=f.Xb({type:re,selectors:[["app-staff-maintain-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-maintain-staff-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-staff","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.dd(1,ie,1,0,"app-loader",1),f.dd(2,ne,48,26,"div",2),f.hc()),2&e&&(f.Ob(1),f.Gc("ngIf",!t.isStaffDataLoaded),f.Ob(1),f.Gc("ngIf",t.isStaffDataLoaded))},directives:[a.l,y.a,b.c,b.a,v.d,v.n,v.q,p.b,c.e,c.d,a.j,a.k,m.a,te.c],pipes:[A.c,a.t,A.b],styles:[""]}),re);function se(e,t){1&e&&f.ec(0,"app-loader")}function de(e,t){if(1&e&&(f.ic(0,"tr"),f.ic(1,"td",20),f.fd(2),f.hc(),f.ic(3,"td",20),f.fd(4),f.hc(),f.ic(5,"td",21),f.fd(6),f.hc(),f.ic(7,"td",21),f.fd(8),f.hc(),f.ic(9,"td",22),f.fd(10),f.hc(),f.hc()),2&e){var i=t.$implicit,a=f.yc(2);f.Ob(2),f.gd(i.firstName),f.Ob(2),f.gd(i.emailId),f.Ob(2),f.gd(a.getStaffCategory(i.staffCategoryId)),f.Ob(2),f.gd(a.getStaffSubCategory(i.staffSubCategoryId)),f.Ob(2),f.gd(i.contactNumber)}}function fe(e,t){if(1&e){var i=f.jc();f.ic(0,"div",3),f.ic(1,"div",4),f.ic(2,"div",5),f.ic(3,"h5"),f.fd(4,"All Inactive Staffs "),f.ic(5,"span",6),f.fd(6),f.hc(),f.hc(),f.hc(),f.ic(7,"ul",7),f.ic(8,"li",8),f.ec(9,"i",9),f.ic(10,"input",10),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staffData=e})),f.hc(),f.hc(),f.ic(11,"li",11),f.ic(12,"a",12),f.ec(13,"i-feather",13),f.ic(14,"span"),f.fd(15,"Print"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(16,"div",14),f.ic(17,"table",15),f.ic(18,"thead"),f.ic(19,"tr"),f.ic(20,"th",16),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("firstName")})),f.fd(21,"Staff Name "),f.ec(22,"span",17),f.hc(),f.ic(23,"th",16),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("emailId")})),f.fd(24,"Email ID"),f.ec(25,"span",17),f.hc(),f.ic(26,"th",16),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("staffCategory")})),f.fd(27,"Category "),f.ec(28,"span",17),f.hc(),f.ic(29,"th",16),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("staffSubCategory")})),f.fd(30,"Sub Category"),f.ec(31,"span",17),f.hc(),f.ic(32,"th",16),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("contactNumber")})),f.fd(33,"Phone Number "),f.ec(34,"span",17),f.hc(),f.hc(),f.hc(),f.ic(35,"tbody"),f.dd(36,de,11,5,"tr",18),f.zc(37,"simpleSearch"),f.zc(38,"slice"),f.zc(39,"orderBy"),f.hc(),f.hc(),f.ic(40,"app-pagination",19),f.uc("outputParams",(function(e){return f.Wc(i),f.yc().getIndexParams(e)})),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(6),f.gd(a.totalItems),f.Ob(4),f.Gc("ngModel",a.staffData),f.Ob(7),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("firstName")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("emailId")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("staffCategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("staffSubCategory")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("contactNumber")),f.Ob(2),f.Gc("ngForOf",f.Bc(37,13,f.Cc(38,16,f.Cc(39,20,a.staffListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.staffData)),f.Ob(4),f.Gc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}var le,ue=((le=function(){function e(t,i,a,c){_classCallCheck(this,e),this.staffService=t,this.lookupService=i,this.sharedService=a,this.cookieService=c,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.staffData=""}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"getStaffCategory",value:function(e){var t=d.filter(this.staffTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.staffTypeId=t[0].lookupValueId,t[0].lookupValueName.toLowerCase())}},{key:"getStaffSubCategory",value:function(e){var t;return 115==this.staffTypeId?void 0===(t=d.filter(this.staffOfficalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName:void 0===(t=d.filter(this.staffPersonalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName}},{key:"ngOnInit",value:function(){var e=this;this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffListData=t.filter((function(e){return!e.isActive})),e.totalItems=e.staffListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isStaffDataLoaded=!0})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffOfficalCategoryData=t.filter((function(e){return e.isActive})),console.log(e.staffOfficalCategoryData)}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.staffPersonalCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||le)(f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},le.\u0275cmp=f.Xb({type:le,selectors:[["app-staff-inactive-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-inactive-staff-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.dd(1,se,1,0,"app-loader",1),f.dd(2,fe,41,24,"div",2),f.hc()),2&e&&(f.Ob(1),f.Gc("ngIf",!t.isStaffDataLoaded),f.Ob(1),f.Gc("ngIf",t.isStaffDataLoaded))},directives:[a.l,y.a,b.c,b.a,v.d,v.n,v.q,p.b,a.j,a.k,m.a],pipes:[A.c,a.t,A.b],styles:[""]}),le);function he(e,t){1&e&&f.ec(0,"app-loader")}var ge=function(){return{exact:!0}};function pe(e,t){if(1&e&&(f.ic(0,"tr"),f.ic(1,"td",23),f.fd(2),f.hc(),f.ic(3,"td",23),f.fd(4),f.hc(),f.ic(5,"td",24),f.fd(6),f.hc(),f.ic(7,"td",24),f.fd(8),f.hc(),f.ic(9,"td",24),f.fd(10),f.hc(),f.ic(11,"td",24),f.fd(12),f.hc(),f.ic(13,"td",25),f.fd(14),f.hc(),f.ic(15,"td"),f.ic(16,"a",26),f.ec(17,"i-feather",27),f.hc(),f.hc(),f.hc()),2&e){var i=t.$implicit,a=f.yc(2);f.Ob(2),f.gd(a.getStaffName(i.staffId)),f.Ob(2),f.gd(a.getJobTitle(i.staffId)),f.Ob(2),f.gd(i.inTime),f.Ob(2),f.gd(i.outTime),f.Ob(2),f.gd(a.getInGateName(i.inGateId)),f.Ob(2),f.gd(a.getOutGateName(i.outGateId)),f.Ob(2),f.gd(i.notes),f.Ob(2),f.Ic("routerLink","/ams/staff/edit-entry/",i.attendanceId,""),f.Gc("ngbPopover",a.popAddCheckInContent)("routerLinkActiveOptions",f.Mc(10,ge))}}function me(e,t){if(1&e){var i=f.jc();f.ic(0,"div",3),f.ic(1,"div",4),f.ic(2,"div",5),f.ic(3,"h5"),f.fd(4,"All Entries "),f.ic(5,"span",6),f.fd(6),f.hc(),f.hc(),f.hc(),f.ic(7,"ul",7),f.ic(8,"li",8),f.ec(9,"i",9),f.ic(10,"input",10),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entryData=e})),f.hc(),f.hc(),f.ic(11,"li",11),f.ic(12,"a",12),f.ec(13,"i-feather",13),f.ic(14,"span"),f.fd(15,"Print"),f.hc(),f.hc(),f.hc(),f.ic(16,"li",11),f.ic(17,"a",14),f.ec(18,"i-feather",15),f.ic(19,"span"),f.fd(20,"Add Attendance"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(21,"div",16),f.ic(22,"table",17),f.ic(23,"thead"),f.ic(24,"tr"),f.ic(25,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("firstName")})),f.fd(26,"Name "),f.ec(27,"span",19),f.hc(),f.ic(28,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("jobTitle")})),f.fd(29,"Job Title"),f.ec(30,"span",19),f.hc(),f.ic(31,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("inTime")})),f.fd(32,"In Time "),f.ec(33,"span",19),f.hc(),f.ic(34,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("outTime")})),f.fd(35,"Out Time"),f.ec(36,"span",19),f.hc(),f.ic(37,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("inGate")})),f.fd(38,"In Gate "),f.ec(39,"span",19),f.hc(),f.ic(40,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("outGate")})),f.fd(41,"Out Gate "),f.ec(42,"span",19),f.hc(),f.ic(43,"th",18),f.uc("click",(function(){return f.Wc(i),f.yc().sortUnitData("notes")})),f.fd(44,"comments "),f.ec(45,"span",19),f.hc(),f.ic(46,"th",20),f.fd(47,"Action"),f.hc(),f.hc(),f.hc(),f.ic(48,"tbody"),f.dd(49,pe,18,11,"tr",21),f.zc(50,"simpleSearch"),f.zc(51,"slice"),f.zc(52,"orderBy"),f.hc(),f.hc(),f.ic(53,"app-pagination",22),f.uc("outputParams",(function(e){return f.Wc(i),f.yc().getIndexParams(e)})),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc();f.Ob(6),f.gd(a.totalItems),f.Ob(4),f.Gc("ngModel",a.entryData),f.Ob(7),f.Gc("routerLinkActiveOptions",f.Mc(27,ge)),f.Ob(5),f.Gc("ngClass",a.isMobileView()),f.Ob(5),f.Gc("ngClass",a.getFieldOrderBy("firstName")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("jobTitle")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("inTime")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("outTime")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("inGate")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("outGate")),f.Ob(3),f.Gc("ngClass",a.getFieldOrderBy("notes")),f.Ob(4),f.Gc("ngForOf",f.Bc(50,16,f.Cc(51,19,f.Cc(52,23,a.entryListData,a.unitFieldType,a.unitOrder),a.ItemUserStartIndex,a.ItemUserEndIndex),a.staffData)),f.Ob(4),f.Gc("totalItems",a.totalItems)("ItemStartIndex",a.ItemStartIndex)("ItemEndIndex",a.ItemEndIndex)("itemLimit",a.itemLimit)}}var ye,ve,be,Ie,Se=((Ie=function(){function e(t,i,a,c,n,r){_classCallCheck(this,e),this.router=t,this.route=i,this.staffService=a,this.lookupService=c,this.sharedService=n,this.cookieService=r,this.isEntryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.entryData=""}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"desc":"asc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"getInGateName",value:function(e){var t=this.gateDataList.filter((function(t){return t.gateId==e}));return void 0===t||0===t.length?(this.entry.inGateId="",""):(this.entry.inGateId=t[0].gateName,t[0].gateName)}},{key:"getOutGateName",value:function(e){var t=this.gateDataList.filter((function(t){return t.gateId==e}));return void 0===t||0===t.length?(this.entry.outGateId="",""):(this.entry.outGateId=t[0].gateName,t[0].gateName)}},{key:"getStaffName",value:function(e){var t=this.staffDetails.filter((function(t){return t.staffId==e}));return void 0===t||0===t.length?(this.entry.firstName="",""):(this.entry.firstName=t[0].firstName,t[0].firstName)}},{key:"getJobTitle",value:function(e){var t=this.staffDetails.filter((function(t){return t.staffId==e}));if(void 0===t||0===t.length)return this.entry.jobTitle="","";var i=t[0].staffSubCategoryId;if(115==t[0].staffCategoryId){var a=this.officalStaffsDataList.filter((function(e){if(e.lookupValueId==i)return e.lookupValueName}));return void 0===a||0==a.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=a[0].lookupValueName,a[0].lookupValueName)}var c=this.personalStaffsDataList.filter((function(e){if(e.lookupValueId==i)return e.lookupValueName}));return void 0===c||0==c.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=c[0].lookupValueName,c[0].lookupValueName)}},{key:"ngOnInit",value:function(){var e=this;this.entry={},this.staffDetails=[],this.gateDataList=[],this.officalStaffsDataList=[],this.personalStaffsDataList=[],this.staffService.getAllAttendancesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.entryListData=t.filter((function(e){return e.isActive})),d.each(e.entryListData,(function(t){e.staffService.getStaffByStaffId(t.staffId).subscribe((function(t){e.staffDetails.push(t[0])}))})),e.staffService.getAllGatesByApartmentId(parseInt(e.cookieService.get("apartmentId"))).subscribe((function(t){e.gateDataList=t})),e.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.officalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),e.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.personalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),e.totalItems=e.entryListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isEntryDataLoaded=!0}))}}]),e}()).\u0275fac=function(e){return new(e||Ie)(f.dc(c.c),f.dc(c.a),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},Ie.\u0275cmp=f.Xb({type:Ie,selectors:[["app-staff-attendance"]],decls:3,vars:2,consts:[[1,"staff-attendance-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-entry","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(e,t){1&e&&(f.ic(0,"div",0),f.dd(1,he,1,0,"app-loader",1),f.dd(2,me,54,28,"div",2),f.hc()),2&e&&(f.Ob(1),f.Gc("ngIf",!t.isEntryDataLoaded),f.Ob(1),f.Gc("ngIf",t.isEntryDataLoaded))},directives:[a.l,y.a,b.c,b.a,v.d,v.n,v.q,p.b,c.e,c.d,a.j,a.k,m.a,te.c],pipes:[A.c,a.t,A.b],styles:[""]}),Ie),Oe=((be=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||be)},be.\u0275cmp=f.Xb({type:be,selectors:[["app-staff-payroll"]],decls:2,vars:0,template:function(e,t){1&e&&(f.ic(0,"p"),f.fd(1," staff-payroll works!\n"),f.hc())},styles:[""]}),be),ke=((ve=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ve)},ve.\u0275cmp=f.Xb({type:ve,selectors:[["app-staff-overtime"]],decls:2,vars:0,template:function(e,t){1&e&&(f.ic(0,"p"),f.fd(1," staff-overtime works!\n"),f.hc())},styles:[""]}),ve),Ce=((ye=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=f.Xb({type:ye,selectors:[["app-staff-reports"]],decls:2,vars:0,template:function(e,t){1&e&&(f.ic(0,"p"),f.fd(1," staff-reports works!\n"),f.hc())},styles:[""]}),ye);function Te(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Add Staff"),f.hc())}function Me(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Edit Staff"),f.hc())}function Ge(e,t){1&e&&f.ec(0,"app-loader")}function De(e,t){if(1&e){var i=f.jc();f.ic(0,"div",18),f.ic(1,"div",19),f.ic(2,"label"),f.fd(3,"Password*"),f.hc(),f.ic(4,"input",84),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).staff.password=e})),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc(2);f.Ob(4),f.Gc("ngModel",a.staff.password)}}function Le(e,t){if(1&e&&(f.ic(0,"option"),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Ob(1),f.gd(i.lookupValueName)}}function we(e,t){if(1&e&&(f.ic(0,"option"),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Ob(1),f.gd(i.lookupValueName)}}function Ee(e,t){if(1&e){var i=f.jc();f.ic(0,"div",18),f.ic(1,"div",32),f.ic(2,"label"),f.fd(3,"Vendor Name*"),f.hc(),f.ic(4,"select",85),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).staff.vendorId=e})),f.ic(5,"option",34),f.fd(6,"Select"),f.hc(),f.dd(7,we,2,1,"option",35),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc(2);f.Ob(4),f.Gc("ngModel",a.staff.vendorId),f.Ob(3),f.Gc("ngForOf",a.vendorNameList)}}function Ae(e,t){if(1&e){var i=f.jc();f.ic(0,"div"),f.ic(1,"span",87),f.fd(2),f.hc(),f.ic(3,"span",88),f.fd(4),f.hc(),f.ic(5,"i-feather",89),f.uc("click",(function(){f.Wc(i);var e=t.index;return f.yc(3).deletePhoto(e)})),f.hc(),f.hc()}if(2&e){var a=t.$implicit,c=f.yc(3);f.Ob(2),f.gd(a.name),f.Ob(2),f.gd(c.bytesToSize(a.size))}}function xe(e,t){if(1&e&&(f.ic(0,"div",86),f.dd(1,Ae,6,2,"div",35),f.hc()),2&e){var i=f.yc(2);f.Ob(1),f.Gc("ngForOf",i.listOfPhotos)}}function Ne(e,t){if(1&e){var i=f.jc();f.ic(0,"div"),f.ic(1,"span",87),f.fd(2),f.hc(),f.ic(3,"span",88),f.fd(4),f.hc(),f.ic(5,"i-feather",89),f.uc("click",(function(){f.Wc(i);var e=t.index;return f.yc(3).deleteFile(e)})),f.hc(),f.hc()}if(2&e){var a=t.$implicit,c=f.yc(3);f.Ob(2),f.gd(a.name),f.Ob(2),f.gd(c.bytesToSize(a.size))}}function Fe(e,t){if(1&e&&(f.ic(0,"div",86),f.dd(1,Ne,6,2,"div",35),f.hc()),2&e){var i=f.yc(2);f.Ob(1),f.Gc("ngForOf",i.listOfFiles)}}function Be(e,t){if(1&e&&(f.ic(0,"option",90),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.lookupValueId),f.Ob(1),f.gd(i.lookupValueName)}}function We(e,t){if(1&e&&(f.ic(0,"option",90),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.lookupValueId),f.Ob(1),f.gd(i.lookupValueName)}}function Ve(e,t){if(1&e){var i=f.jc();f.ic(0,"div",18),f.ic(1,"div",32),f.ic(2,"label"),f.fd(3,"Sub Category*"),f.hc(),f.ic(4,"select",91),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).staff.staffSubCategoryId=e})),f.ic(5,"option",34),f.fd(6,"Select"),f.hc(),f.dd(7,We,2,2,"option",75),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc(2);f.Ob(4),f.Gc("ngModel",a.staff.staffSubCategoryId),f.Ob(3),f.Gc("ngForOf",a.staffCategoryData)}}function Pe(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"ul",13),f.ic(2,"li",14),f.fd(3,"Personal Info"),f.hc(),f.ic(4,"div",15),f.ic(5,"div",16),f.ic(6,"div",17),f.ic(7,"div",18),f.ic(8,"div",19),f.ic(9,"label"),f.fd(10,"First Name*"),f.hc(),f.ic(11,"input",20),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.firstName=e})),f.hc(),f.hc(),f.hc(),f.ic(12,"div",18),f.ic(13,"div",19),f.ic(14,"label"),f.fd(15,"Last Name*"),f.hc(),f.ic(16,"input",21),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.lastName=e})),f.hc(),f.hc(),f.hc(),f.dd(17,De,5,1,"div",22),f.ic(18,"div",18),f.ic(19,"div",19),f.ic(20,"label"),f.fd(21,"Date Of Birth"),f.hc(),f.ic(22,"input",23),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.dob=e})),f.hc(),f.ec(23,"owl-date-time",24,25),f.ic(25,"div",26),f.ec(26,"i-feather",27),f.hc(),f.hc(),f.hc(),f.ic(27,"div",18),f.ic(28,"div",19),f.ic(29,"label"),f.fd(30,"Address"),f.hc(),f.ic(31,"input",28),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.address=e})),f.hc(),f.hc(),f.hc(),f.ic(32,"div",18),f.ic(33,"div",19),f.ic(34,"label"),f.fd(35,"Email*"),f.hc(),f.ic(36,"input",29),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.emailId=e})),f.hc(),f.hc(),f.hc(),f.ic(37,"div",18),f.ic(38,"div",19),f.ic(39,"label"),f.fd(40,"Contact Number"),f.hc(),f.ic(41,"input",30),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.contactNumber=e})),f.hc(),f.hc(),f.hc(),f.ic(42,"div",18),f.ic(43,"div",19),f.ic(44,"label"),f.fd(45,"Alternate Contact Number"),f.hc(),f.ic(46,"input",31),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.alternateContact=e})),f.hc(),f.hc(),f.hc(),f.ic(47,"div",18),f.ic(48,"div",32),f.ic(49,"label"),f.fd(50,"Blood Group"),f.hc(),f.ic(51,"select",33),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.bloodGroup=e})),f.ic(52,"option",34),f.fd(53,"Select"),f.hc(),f.dd(54,Le,2,1,"option",35),f.hc(),f.hc(),f.hc(),f.ic(55,"div",18),f.ic(56,"div",19),f.ic(57,"label"),f.fd(58,"Vehicle ID"),f.hc(),f.ic(59,"input",36),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.vehicleId=e})),f.hc(),f.hc(),f.hc(),f.ic(60,"div",18),f.ic(61,"div",37),f.ic(62,"label"),f.fd(63,"Gender*"),f.hc(),f.ic(64,"div",38),f.ic(65,"input",39),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().genderType=e})),f.hc(),f.ic(66,"label",40),f.fd(67,"Male"),f.hc(),f.hc(),f.ic(68,"div",38),f.ic(69,"input",41),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().genderType=e})),f.hc(),f.ic(70,"label",42),f.fd(71,"Female"),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(72,"div",18),f.ic(73,"div",37),f.ic(74,"label"),f.fd(75,"Is Vendor*"),f.hc(),f.ic(76,"div",38),f.ic(77,"input",43),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().vendorType=e})),f.hc(),f.ic(78,"label",44),f.fd(79,"Yes"),f.hc(),f.hc(),f.ic(80,"div",38),f.ic(81,"input",45),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().vendorType=e})),f.hc(),f.ic(82,"label",46),f.fd(83,"No"),f.hc(),f.hc(),f.hc(),f.hc(),f.dd(84,Ee,8,2,"div",22),f.ic(85,"div",47),f.ic(86,"div",19),f.ic(87,"label"),f.fd(88,"Health Issue Notes ( 35 characters)"),f.hc(),f.ic(89,"textarea",48),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.healthIssue=e})),f.hc(),f.hc(),f.hc(),f.ic(90,"div",47),f.ic(91,"div",19),f.ic(92,"label"),f.fd(93,"Comments"),f.hc(),f.ic(94,"textarea",49),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.comments=e})),f.hc(),f.hc(),f.hc(),f.ic(95,"div",50),f.ic(96,"div",19),f.ic(97,"label",51),f.uc("click",(function(){return f.Wc(i),f.Tc(99).click()})),f.ic(98,"input",52,53),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.file=e}))("change",(function(e){return f.Wc(i),f.yc().uploadPhoto(e)})),f.hc(),f.ec(100,"i",54),f.fd(101," Upload Photo"),f.hc(),f.dd(102,xe,2,1,"div",55),f.hc(),f.hc(),f.ic(103,"div",50),f.ic(104,"div",19),f.ic(105,"label",56),f.uc("click",(function(){return f.Wc(i),f.Tc(107).click()})),f.ic(106,"input",57,58),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.multifile=e}))("change",(function(e){return f.Wc(i),f.yc().uploadFile(e)})),f.hc(),f.ec(108,"i",54),f.fd(109," Upload ID Card Docs"),f.hc(),f.dd(110,Fe,2,1,"div",55),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(111,"li",59),f.fd(112,"Salary & Leave"),f.hc(),f.ic(113,"div",60),f.ic(114,"div",16),f.ic(115,"div",17),f.ic(116,"div",18),f.ic(117,"div",19),f.ic(118,"label"),f.fd(119,"Base Pay*"),f.hc(),f.ic(120,"input",61),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.basePay=e})),f.hc(),f.hc(),f.hc(),f.ic(121,"div",18),f.ic(122,"div",19),f.ic(123,"label"),f.fd(124,"Allowance 1"),f.hc(),f.ic(125,"input",62),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.allowance1=e})),f.hc(),f.hc(),f.hc(),f.ic(126,"div",18),f.ic(127,"div",19),f.ic(128,"label"),f.fd(129,"Allowance 2"),f.hc(),f.ic(130,"input",63),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.allowance2=e})),f.hc(),f.hc(),f.hc(),f.ic(131,"div",18),f.ic(132,"div",19),f.ic(133,"label"),f.fd(134,"Allowance 3"),f.hc(),f.ic(135,"input",64),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.allowance3=e})),f.hc(),f.hc(),f.hc(),f.ic(136,"div",18),f.ic(137,"div",19),f.ic(138,"label"),f.fd(139,"Overtime Pay Per Hour"),f.hc(),f.ic(140,"input",65),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.overtimePayperhour=e})),f.hc(),f.hc(),f.hc(),f.ic(141,"div",18),f.ic(142,"div",19),f.ic(143,"label"),f.fd(144,"Deduction 1"),f.hc(),f.ic(145,"input",66),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.deduction1=e})),f.hc(),f.hc(),f.hc(),f.ic(146,"div",18),f.ic(147,"div",19),f.ic(148,"label"),f.fd(149,"Deduction 2"),f.hc(),f.ic(150,"input",67),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.deduction2=e})),f.hc(),f.hc(),f.hc(),f.ic(151,"div",18),f.ic(152,"div",19),f.ic(153,"label"),f.fd(154,"Deduction 3"),f.hc(),f.ic(155,"input",68),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.deduction3=e})),f.hc(),f.hc(),f.hc(),f.ic(156,"div",18),f.ic(157,"div",19),f.ic(158,"label"),f.fd(159,"Salary Per Day"),f.hc(),f.ic(160,"input",69),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.perDaySalary=e})),f.hc(),f.hc(),f.hc(),f.ic(161,"div",18),f.ic(162,"div",19),f.ic(163,"label"),f.fd(164,"Vacation Leave Days"),f.hc(),f.ic(165,"input",70),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.vacationLeaveDays=e})),f.hc(),f.hc(),f.hc(),f.ic(166,"div",18),f.ic(167,"div",19),f.ic(168,"label"),f.fd(169,"Sick Leave Days"),f.hc(),f.ic(170,"input",71),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.sickLeaveDays=e})),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.ic(171,"li",72),f.fd(172,"Work Information"),f.hc(),f.ic(173,"div",73),f.ic(174,"div",16),f.ic(175,"div",17),f.ic(176,"div",18),f.ic(177,"div",32),f.ic(178,"label"),f.fd(179,"Category*"),f.hc(),f.ic(180,"select",74),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.staffCategoryId=e}))("ngModelChange",(function(){f.Wc(i);var e=f.yc();return e.getStaffType(e.staff.staffCategoryId)})),f.ic(181,"option",34),f.fd(182,"Select"),f.hc(),f.dd(183,Be,2,2,"option",75),f.hc(),f.hc(),f.hc(),f.dd(184,Ve,8,2,"div",22),f.ic(185,"div",18),f.ic(186,"div",19),f.ic(187,"label"),f.fd(188,"Job Start Date"),f.hc(),f.ic(189,"input",76),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.jobStartDate=e})),f.hc(),f.ec(190,"owl-date-time",24,77),f.ic(192,"div",26),f.ec(193,"i-feather",27),f.hc(),f.hc(),f.hc(),f.ic(194,"div",18),f.ic(195,"div",19),f.ic(196,"label"),f.fd(197,"Job End Date"),f.hc(),f.ic(198,"input",78),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.jobEndDate=e})),f.hc(),f.ec(199,"owl-date-time",24,79),f.ic(201,"div",26),f.ec(202,"i-feather",27),f.hc(),f.hc(),f.hc(),f.ic(203,"div",18),f.ic(204,"div",19),f.ic(205,"label"),f.fd(206,"Planned Entry Time"),f.hc(),f.ic(207,"input",80),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.plannedEntryTime=e})),f.hc(),f.ec(208,"owl-date-time",null,81),f.ic(210,"div",26),f.ec(211,"i-feather",27),f.hc(),f.hc(),f.hc(),f.ic(212,"div",18),f.ic(213,"div",19),f.ic(214,"label"),f.fd(215,"Planned Exit Time"),f.hc(),f.ic(216,"input",82),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().staff.plannedExitTime=e})),f.hc(),f.ec(217,"owl-date-time",null,83),f.ic(219,"div",26),f.ec(220,"i-feather",27),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=f.Tc(24),c=f.Tc(191),n=f.Tc(200),r=f.Tc(209),o=f.Tc(218),s=f.yc();f.Ob(11),f.Gc("ngModel",s.staff.firstName),f.Ob(5),f.Gc("ngModel",s.staff.lastName),f.Ob(1),f.Gc("ngIf",!s.isEditStaff),f.Ob(5),f.Gc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",s.staff.dob),f.Ob(1),f.Gc("pickerType","calendar"),f.Ob(2),f.Gc("owlDateTimeTrigger",a),f.Ob(6),f.Gc("ngModel",s.staff.address),f.Ob(5),f.Gc("ngModel",s.staff.emailId),f.Ob(5),f.Gc("ngModel",s.staff.contactNumber),f.Ob(5),f.Gc("ngModel",s.staff.alternateContact),f.Ob(5),f.Gc("ngModel",s.staff.bloodGroup),f.Ob(3),f.Gc("ngForOf",s.bloodGroupData),f.Ob(5),f.Gc("ngModel",s.staff.vehicleId),f.Ob(6),f.Gc("ngModel",s.genderType),f.Ob(4),f.Gc("ngModel",s.genderType),f.Ob(8),f.Gc("ngModel",s.vendorType),f.Ob(4),f.Gc("ngModel",s.vendorType),f.Ob(3),f.Gc("ngIf",s.isVendor()),f.Ob(5),f.Gc("ngModel",s.staff.healthIssue),f.Ob(5),f.Gc("ngModel",s.staff.comments),f.Ob(4),f.Gc("ngModel",s.staff.file),f.Ob(4),f.Gc("ngIf",s.isPhotoAdded),f.Ob(4),f.Gc("ngModel",s.staff.multifile),f.Ob(4),f.Gc("ngIf",s.isFileAdded),f.Ob(10),f.Gc("ngModel",s.staff.basePay),f.Ob(5),f.Gc("ngModel",s.staff.allowance1),f.Ob(5),f.Gc("ngModel",s.staff.allowance2),f.Ob(5),f.Gc("ngModel",s.staff.allowance3),f.Ob(5),f.Gc("ngModel",s.staff.overtimePayperhour),f.Ob(5),f.Gc("ngModel",s.staff.deduction1),f.Ob(5),f.Gc("ngModel",s.staff.deduction2),f.Ob(5),f.Gc("ngModel",s.staff.deduction3),f.Ob(5),f.Gc("ngModel",s.staff.perDaySalary),f.Ob(5),f.Gc("ngModel",s.staff.vacationLeaveDays),f.Ob(5),f.Gc("ngModel",s.staff.sickLeaveDays),f.Ob(10),f.Gc("ngModel",s.staff.staffCategoryId),f.Ob(3),f.Gc("ngForOf",s.staffTypeData),f.Ob(1),f.Gc("ngIf",s.isCategoryEnabled()),f.Ob(5),f.Gc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",s.staff.jobStartDate),f.Ob(1),f.Gc("pickerType","calendar"),f.Ob(2),f.Gc("owlDateTimeTrigger",c),f.Ob(6),f.Gc("owlDateTime",n)("owlDateTimeTrigger",n)("ngModel",s.staff.jobEndDate),f.Ob(1),f.Gc("pickerType","calendar"),f.Ob(2),f.Gc("owlDateTimeTrigger",n),f.Ob(6),f.Gc("owlDateTime",r)("owlDateTimeTrigger",r)("ngModel",s.staff.plannedEntryTime),f.Ob(3),f.Gc("owlDateTimeTrigger",r),f.Ob(6),f.Gc("owlDateTime",o)("owlDateTimeTrigger",o)("ngModel",s.staff.plannedExitTime),f.Ob(3),f.Gc("owlDateTimeTrigger",o)}}function je(e,t){if(1&e&&(f.ic(0,"div",17),f.ic(1,"div",92),f.ic(2,"ul",93),f.ic(3,"li",94),f.ic(4,"button",95),f.fd(5,"Submit"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc()),2&e){f.yc();var i=f.Tc(2);f.Ob(4),f.Gc("disabled",i.invalid)}}var Ue,_e=function(){return{exact:!0}},qe=((Ue=function(){function e(t,i,a,c,n,r,o){_classCallCheck(this,e),this.router=t,this.route=i,this.userService=a,this.staffService=c,this.lookupService=n,this.sharedService=r,this.cookieService=o,this.isEditStaff=!1,this.isStaffSubmitted=!1,this.isStaffAdded=!1,this.isStaffError=!1,this.isStaffSuccess=!1,this.alertStaffMessage="",this.vendorType="",this.isTypeSelected=!1,this.isFileAdded=!1,this.fileList=[],this.listOfFiles=[],this.isPhotoAdded=!1,this.photoList=[],this.listOfPhotos=[],this.userId=null,this.staffId=null,this.genderType=null,this.outputParams=new f.q}return _createClass(e,[{key:"isArrayOne",value:function(){return this.staffArray.length>1}},{key:"deleteStaff",value:function(){this.staffArray.splice(this.index,1),this.outputParams.emit(this.staffArray)}},{key:"uploadFile",value:function(e){this.isFileAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var i=e.target.files[t];this.fileList.push(i),this.listOfFiles.push({name:i.name,size:i.size})}}},{key:"deleteFile",value:function(e){this.listOfFiles.splice(e,1),this.fileList.splice(e,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}},{key:"uploadPhoto",value:function(e){this.isPhotoAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var i=e.target.files[t];this.photoList.push(i),this.listOfPhotos.push({name:i.name,size:i.size})}}},{key:"deletePhoto",value:function(e){this.listOfPhotos.splice(e,1),this.photoList.splice(e,1),this.selectedPhoto=null,0==this.photoList.length&&0==this.listOfPhotos.length&&(this.isPhotoAdded=!1)}},{key:"bytesToSize",value:function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"}},{key:"isCategoryEnabled",value:function(){return!!this.isEditStaff||!!this.isTypeSelected}},{key:"getStaffType",value:function(e){var t=this;this.isTypeSelected=!0,"115"==e?this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(e){t.staffCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){})):this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(e){t.staffCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){}))}},{key:"isVendor",value:function(){return"Yes"==this.vendorType}},{key:"submitAddStaffForm",value:function(e){var t=this;if(this.isStaffSubmitted=!0,this.isStaffError=!1,this.isEditStaff){this.isStaffSubmitted=!0,this.isStaffError=!1;var i={userId:this.userId,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(i).subscribe((function(e){if(e.message){var i={staffId:t.route.params.value.id,apartmentId:parseInt(t.cookieService.get("apartmentId")),userId:t.userId,firstName:t.staff.firstName,middleName:"string",lastName:t.staff.lastName,emailId:t.staff.emailId,contactNumber:t.staff.contactNumber.toString(),alternateContact:t.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(t.staff.staffCategoryId),staffSubCategoryId:parseInt(t.staff.staffSubCategoryId),dob:t.staff.dob,genderId:parseInt(t.genderType),bloodGroup:t.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:t.staff.healthIssue,comments:t.staff.comments,plannedEntryTime:t.staff.plannedEntryTime,plannedExitTime:t.staff.plannedExitTime,jobStartDate:t.staff.jobStartDate,jobEndDate:t.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(t.staff.vacationLeaveDays),sickLeaveDays:parseInt(t.staff.sickLeaveDays),basePay:t.staff.basePay,overtimePayperhour:t.staff.overtimePayperhour,allowance1:t.staff.allowance1,allowance2:t.staff.allowance2,allowance3:t.staff.allowance3,deduction1:t.staff.deduction1,deduction2:t.staff.deduction2,deduction3:t.staff.deduction3,perDaySalary:t.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(t.staff.staffSubCategoryId),isActive:!0,insertedBy:0,insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(t.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};t.staffService.updateStaff(i).subscribe((function(e){t.isStaffSubmitted=!1,e.message?(t.sharedService.setAlertMessage("Staff updated successfully"),t.router.navigate(["ams/staff/maintain-staff"])):(t.isStaffError=!0,t.alertStaffMessage=e.alertTicketMessage)}),(function(i){t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}else t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0};this.userService.addUser(a).subscribe((function(e){if(e.message){t.userId=e.message;var i={userId:t.userId,roleId:5,isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};t.userService.addUserRole(i).subscribe((function(e){if(e.message){var i={apartmentId:parseInt(t.cookieService.get("apartmentId")),userId:t.userId,firstName:t.staff.firstName,middleName:"string",lastName:t.staff.lastName,emailId:t.staff.emailId,contactNumber:t.staff.contactNumber.toString(),alternateContact:t.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(t.staff.staffCategoryId),staffSubCategoryId:parseInt(t.staff.staffSubCategoryId),dob:t.staff.dob,genderId:parseInt(t.genderType),bloodGroup:t.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:t.staff.healthIssue,comments:t.staff.comments,plannedEntryTime:t.staff.plannedEntryTime,plannedExitTime:t.staff.plannedExitTime,jobStartDate:t.staff.jobStartDate,jobEndDate:t.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(t.staff.vacationLeaveDays),sickLeaveDays:parseInt(t.staff.sickLeaveDays),basePay:t.staff.basePay,overtimePayperhour:t.staff.overtimePayperhour,allowance1:t.staff.allowance1,allowance2:t.staff.allowance2,allowance3:t.staff.allowance3,deduction1:t.staff.deduction1,deduction2:t.staff.deduction2,deduction3:t.staff.deduction3,perDaySalary:t.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(t.staff.staffSubCategoryId),isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(t.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};t.staffService.addStaff(i).subscribe((function(e){t.isStaffSubmitted=!1,e.message?(t.sharedService.setAlertMessage("Staff added successfully"),t.router.navigate(["ams/staff/maintain-staff"])):(t.isStaffError=!0,t.alertStaffMessage=e.alertTicketMessage)}),(function(i){t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}}),(function(e){console.log(e)}))}else t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;this.staff={},this.staff.bloodGroup="",this.staff.staffCategoryId="",this.staff.staffSubCategoryId="",this.staff.contactNumber="",this.staff.alternateContact="",null!=this.route.params.value.id&&(this.isEditStaff=!0,this.isStaffAdded=!0,this.staffId=this.route.params.value.id,this.staffService.getStaffByStaffId(this.route.params.value.id).subscribe((function(t){e.staff=t[0],e.userId=e.staff.userId,e.genderType=e.staff.genderId.toString(),e.getStaffType(e.staff.staffCategoryId)}),(function(e){}))),this.lookupService.getLookupValueByLookupTypeId(24).subscribe((function(t){e.bloodGroupData=t})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||Ue)(f.dc(c.c),f.dc(c.a),f.dc(n.a),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},Ue.\u0275cmp=f.Xb({type:Ue,selectors:[["app-add-staff"]],inputs:{index:"index",staffArray:["array","staffArray"]},outputs:{outputParams:"outputParams"},decls:17,vars:10,consts:[[1,"staff-add-staff-wrapper"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/maintain-staff","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["id","accordion",1,"card-body","p-0"],[3,"message","isError","isSuccess"],["class","row",4,"ngIf"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#staffCollapseOne","aria-expanded","true","aria-controls","CollapseOne",1,"list-group-item"],["id","staffCollapseOne","aria-labelledby","CollapseOne","data-parent","#accordion",1,"collapse","show"],[1,"details"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],["name","staffDOB","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["staffDOB",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","text","placeholder","Enter value","name","address",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","staffEmail","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","contactNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","alternateContact",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","bloodGroup","id","bloodGroup",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[4,"ngFor","ngForOf"],["type","text","placeholder","Enter value","name","staffVehicleId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],["name","vendorType","id","Yes","value","Yes","type","radio",3,"ngModel","ngModelChange"],["for","Yes",1,"radio-inline"],["name","vendorType","id","No","value","No","type","radio",3,"ngModel","ngModelChange"],["for","No",1,"radio-inline"],[1,"col-sm-6"],["placeholder","some text here","name","healthIssue",3,"ngModel","ngModelChange"],["placeholder","some text here","name","staffComments",3,"ngModel","ngModelChange"],[1,"col-sm-3"],["for","my-photo-selector",1,"btn","sf","lime-green",3,"click"],["type","file",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderPhoto",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["type","file","multiple","",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderFile",""],["data-toggle","collapse","data-target","#staffCollapseTwo","aria-expanded","true","aria-controls","CollapseTwo",1,"list-group-item","collapsed"],["id","staffCollapseTwo","aria-labelledby","CollapseTwo","data-parent","#accordion",1,"collapse"],["type","number","OnlyNumber","true","placeholder","Enter value","name","basePay","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","overtimePayperhour",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","perDaySalary",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","vacationLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","sickLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["data-toggle","collapse","data-target","#staffCollapseThree","aria-expanded","true","aria-controls","CollapseThree",1,"list-group-item","collapsed"],["id","staffCollapseThree","aria-labelledby","CollapseThree","data-parent","#accordion",1,"collapse"],["name","staffCategory","id","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","jobStartDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobStartDate",""],["name","jobEndDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobEndDate",""],["name","plannedEntryTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedEntryTime",""],["name","plannedExitTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedExitTime",""],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","vendorName","id","vendorName",1,"form-control",3,"ngModel","ngModelChange"],[1,"file-desp"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"],[3,"value"],["name","staffSubCategory","id","staffSubCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){if(1&e){var i=f.jc();f.ic(0,"div",0),f.ic(1,"form",1,2),f.uc("ngSubmit",(function(){f.Wc(i);var e=f.Tc(2);return t.submitAddStaffForm(e)})),f.ic(3,"div",3),f.ic(4,"div",4),f.ic(5,"div",5),f.ic(6,"h5"),f.dd(7,Te,2,0,"span",6),f.dd(8,Me,2,0,"span",6),f.hc(),f.hc(),f.ic(9,"div",7),f.ic(10,"a",8),f.ec(11,"i-feather",9),f.hc(),f.hc(),f.hc(),f.ic(12,"div",10),f.ec(13,"app-alert-message",11),f.dd(14,Ge,1,0,"app-loader",6),f.dd(15,Pe,221,58,"ng-container",6),f.hc(),f.hc(),f.dd(16,je,6,1,"div",12),f.hc(),f.hc()}2&e&&(f.Ob(7),f.Gc("ngIf",!t.isEditStaff),f.Ob(1),f.Gc("ngIf",t.isEditStaff),f.Ob(2),f.Gc("routerLinkActiveOptions",f.Mc(9,_e)),f.Ob(3),f.Gc("message",t.alertStaffMessage)("isError",t.isStaffError)("isSuccess",t.isStaffSuccess),f.Ob(1),f.Gc("ngIf",t.isStaffSubmitted),f.Ob(1),f.Gc("ngIf",!t.isStaffSubmitted),f.Ob(1),f.Gc("ngIf",!t.isStaffSubmitted))},directives:[v.B,v.o,v.p,a.l,c.e,c.d,p.b,h.a,y.a,b.a,v.d,v.x,v.n,v.q,E.b,E.d,E.a,v.s,b.b,v.y,v.r,v.A,a.k,v.u],styles:[""]}),Ue);function ze(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Add Entry"),f.hc())}function $e(e,t){1&e&&(f.ic(0,"span"),f.fd(1,"Edit Entry"),f.hc())}function He(e,t){1&e&&f.ec(0,"app-loader")}function Ze(e,t){if(1&e&&(f.ic(0,"option",42),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.staffId),f.Ob(1),f.gd(i.firstName)}}function Xe(e,t){if(1&e){var i=f.jc();f.ic(0,"i-feather",43),f.uc("click",(function(){return f.Wc(i),f.yc(2).entry.inTime=""})),f.hc()}}function Je(e,t){if(1&e){var i=f.jc();f.ic(0,"i-feather",43),f.uc("click",(function(){return f.Wc(i),f.yc(2).entry.outTime=""})),f.hc()}}function Ye(e,t){if(1&e&&(f.ic(0,"option",42),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.gateId),f.Ob(1),f.gd(i.gateName)}}function Re(e,t){if(1&e&&(f.ic(0,"option",42),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.gateId),f.Ob(1),f.gd(i.gateName)}}function Ke(e,t){if(1&e&&(f.ic(0,"option",42),f.fd(1),f.hc()),2&e){var i=t.$implicit;f.Gc("value",i.shiftId),f.Ob(1),f.gd(i.startTime)}}function Qe(e,t){if(1&e){var i=f.jc();f.ic(0,"div",13),f.ic(1,"div",14),f.ic(2,"label"),f.fd(3,"Start Time*"),f.hc(),f.ic(4,"select",44),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc(2).entry.shiftId=e})),f.ic(5,"option",16),f.fd(6,"Select"),f.hc(),f.dd(7,Ke,2,2,"option",17),f.hc(),f.hc(),f.hc()}if(2&e){var a=f.yc(2);f.Ob(4),f.Gc("ngModel",a.entry.shiftId),f.Ob(3),f.Gc("ngForOf",a.shiftsFilteredDataList)}}function et(e,t){if(1&e){var i=f.jc();f.gc(0),f.ic(1,"div",12),f.ic(2,"div",13),f.ic(3,"div",14),f.ic(4,"label"),f.fd(5,"Name*"),f.hc(),f.ic(6,"select",15),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.staffId=e}))("ngModelChange",(function(){return f.Wc(i),f.yc().getStaffJobTitle()})),f.ic(7,"option",16),f.fd(8,"Select"),f.hc(),f.dd(9,Ze,2,2,"option",17),f.hc(),f.hc(),f.hc(),f.ic(10,"div",13),f.ic(11,"div",18),f.ic(12,"label"),f.fd(13,"Job title*"),f.hc(),f.ic(14,"input",19),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.jobTitle=e})),f.hc(),f.hc(),f.hc(),f.ic(15,"div",13),f.ic(16,"div",18),f.ic(17,"label"),f.fd(18,"In-time*"),f.hc(),f.ic(19,"input",20),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.inTime=e})),f.hc(),f.ec(20,"owl-date-time",null,21),f.ic(22,"div",22),f.dd(23,Xe,1,0,"i-feather",23),f.ec(24,"i-feather",24),f.hc(),f.hc(),f.hc(),f.ic(25,"div",13),f.ic(26,"div",18),f.ic(27,"label"),f.fd(28,"Out-time"),f.hc(),f.ic(29,"input",25),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.outTime=e})),f.hc(),f.ec(30,"owl-date-time",null,26),f.ic(32,"div",22),f.dd(33,Je,1,0,"i-feather",23),f.ec(34,"i-feather",24),f.hc(),f.hc(),f.hc(),f.ic(35,"div",13),f.ic(36,"div",14),f.ic(37,"label"),f.fd(38,"In Gate*"),f.hc(),f.ic(39,"select",27),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.inGateId=e})),f.ic(40,"option",16),f.fd(41,"Select"),f.hc(),f.dd(42,Ye,2,2,"option",17),f.hc(),f.hc(),f.hc(),f.ic(43,"div",13),f.ic(44,"div",14),f.ic(45,"label"),f.fd(46,"Out Gate*"),f.hc(),f.ic(47,"select",28),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entry.outGateId=e})),f.ic(48,"option",16),f.fd(49,"Select"),f.hc(),f.dd(50,Re,2,2,"option",17),f.hc(),f.hc(),f.hc(),f.ic(51,"div",13),f.ic(52,"div",29),f.ic(53,"label"),f.fd(54,"shift Type*"),f.hc(),f.ic(55,"div",30),f.ic(56,"input",31),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().shiftType=e}))("ngModelChange",(function(){return f.Wc(i),f.yc().getShifts()})),f.hc(),f.ic(57,"label",32),f.fd(58,"Morning"),f.hc(),f.hc(),f.ic(59,"div",30),f.ic(60,"input",33),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().shiftType=e}))("ngModelChange",(function(){return f.Wc(i),f.yc().getShifts()})),f.hc(),f.ic(61,"label",34),f.fd(62,"Night"),f.hc(),f.hc(),f.hc(),f.hc(),f.dd(63,Qe,8,2,"div",35),f.ic(64,"div",36),f.ic(65,"div",18),f.ic(66,"label"),f.fd(67,"Comments"),f.hc(),f.ic(68,"textarea",37),f.uc("ngModelChange",(function(e){return f.Wc(i),f.yc().entryComments=e})),f.hc(),f.hc(),f.hc(),f.ic(69,"div",38),f.ic(70,"ul",39),f.ic(71,"li",40),f.ic(72,"button",41),f.fd(73,"Submit"),f.hc(),f.hc(),f.hc(),f.hc(),f.hc(),f.fc()}if(2&e){var a=f.Tc(21),c=f.Tc(31),n=f.yc(),r=f.Tc(11);f.Ob(6),f.Gc("ngModel",n.entry.staffId),f.Ob(3),f.Gc("ngForOf",n.staffDataList),f.Ob(5),f.Gc("ngModel",n.entry.jobTitle),f.Ob(5),f.Gc("owlDateTime",a)("owlDateTimeTrigger",a)("ngModel",n.entry.inTime),f.Ob(3),f.Gc("owlDateTimeTrigger",a),f.Ob(1),f.Gc("ngIf",""!=n.entry.inTime&&null!=n.entry.inTime),f.Ob(6),f.Gc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",n.entry.outTime),f.Ob(3),f.Gc("owlDateTimeTrigger",c),f.Ob(1),f.Gc("ngIf",""!=n.entry.outTime&&null!=n.entry.outTime),f.Ob(6),f.Gc("ngModel",n.entry.inGateId),f.Ob(3),f.Gc("ngForOf",n.gatesDataList),f.Ob(5),f.Gc("ngModel",n.entry.outGateId),f.Ob(3),f.Gc("ngForOf",n.gatesDataList),f.Ob(6),f.Gc("ngModel",n.shiftType),f.Ob(4),f.Gc("ngModel",n.shiftType),f.Ob(3),f.Gc("ngIf",n.isShiftSelected()),f.Ob(5),f.Gc("ngModel",n.entryComments),f.Ob(4),f.Gc("disabled",r.invalid)}}var tt,it,at,ct=function(){return{exact:!0}},nt=((tt=function(){function e(t,i,a,c,n,r){_classCallCheck(this,e),this.router=t,this.route=i,this.staffService=a,this.lookupService=c,this.sharedService=n,this.cookieService=r,this.isEditEntry=!1,this.isEntrySubmitted=!0,this.isEntryError=!1,this.isEntrySuccess=!1,this.alertEntryMessage="",this.shiftType="",this.jobTitle="",this.entryComments=""}return _createClass(e,[{key:"isAdmin",value:function(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}},{key:"isShiftSelected",value:function(){return""!=this.shiftType}},{key:"getShifts",value:function(){var e=this;this.shiftsFilteredDataList=this.shiftsDataList.filter((function(t){return t.shiftTypeId==e.shiftType}))}},{key:"getStaffJobTitle",value:function(){var e=this;this.staffService.getStaffByStaffId(this.entry.staffId).subscribe((function(t){if(e.selectedStaffCateogryId=t[0].staffCategoryId||null,e.selectedSubStaffCateogryId=t[0].staffSubCategoryId||null,null!=e.selectedStaffCateogryId)if(115==e.selectedStaffCateogryId){var i=e.officalStaffsDataList.filter((function(t){if(t.lookupValueId==e.selectedSubStaffCateogryId)return t.lookupValueName}));e.entry.jobTitle=void 0===i||0==i.length?"":i[0].lookupValueName}else{var a=e.personalStaffsDataList.filter((function(t){if(t.lookupValueId==e.selectedSubStaffCateogryId)return t.lookupValueName}));e.entry.jobTitle=void 0===a||0==a.length?"":a[0].lookupValueName}else e.entry.jobTitle=""}))}},{key:"submitEntryForm",value:function(e){var t=this;if(this.isEntrySubmitted=!1,this.isEditEntry){var i={attendanceId:parseInt(this.route.params.value.id),apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:0,insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.updateAttendance(i).subscribe((function(e){e.message?(t.isEntrySubmitted=!0,t.sharedService.setAlertMessage("Entry updated successfully"),t.router.navigate(["ams/staff/attendance"])):(t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage=e.errorMessage)}),(function(e){t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage="Some error occured"}))}else{var a={apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:0,updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.addAttendance(a).subscribe((function(e){e.message?(t.isEntrySubmitted=!0,t.sharedService.setAlertMessage("Entry added successfully"),t.router.navigate(["ams/staff/attendance"])):(t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage=e.errorMessage)}),(function(e){t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage="Some error occured"}))}}},{key:"ngOnInit",value:function(){var e=this;this.entry={},this.entry.staffId="",this.entry.inGateId="",this.entry.outGateId="",this.entry.shiftId="",null!=this.route.params.value.id&&(this.isEditEntry=!0,this.attendanceId=this.route.params.value.id,this.staffService.getAttendanceByAttendanceId(this.route.params.value.id).subscribe((function(t){e.entry=t[0],e.getStaffJobTitle(),e.staffService.getShiftByShiftId(e.entry.shiftId).subscribe((function(t){e.shiftType=t[0].shiftTypeId.toString(),e.getShifts()}),(function(e){}))}),(function(e){}))),this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.gatesDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.shiftsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(28).subscribe((function(t){e.shiftTypeList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.officalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.personalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||tt)(f.dc(c.c),f.dc(c.a),f.dc(g.a),f.dc(r.a),f.dc(o.a),f.dc(u.a))},tt.\u0275cmp=f.Xb({type:tt,selectors:[["app-add-entry"]],decls:16,vars:8,consts:[[1,"staff-add-entry-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/attendance","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["name","addEntryForm","novalidate","",3,"ngSubmit"],["addEntryForm","ngForm"],[1,"card-body"],[3,"message","isError"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffId","id","staffId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","ticketSubject","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","staffInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["class","icon del-c float-left mr-1","name","x-circle","width","18",3,"click",4,"ngIf"],["name","calendar","width","18",1,"icon","date","float-left"],["name","staffOutTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffOutTime",""],["name","inGateId","id","inGateId","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","outGateId","id","outGateId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","shiftType","id","Morning","value","127","type","radio","required","",3,"ngModel","ngModelChange"],["for","Morning",1,"radio-inline"],["name","shiftType","id","Night","value","128","type","radio","required","",3,"ngModel","ngModelChange"],["for","Night",1,"radio-inline"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-6"],["placeholder","some text here","name","comments",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],["name","x-circle","width","18",1,"icon","del-c","float-left","mr-1",3,"click"],["name","startTime","id","startTime","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var i=f.jc();f.ic(0,"div",0),f.ic(1,"div",1),f.ic(2,"div",2),f.ic(3,"div",3),f.ic(4,"h5"),f.dd(5,ze,2,0,"span",4),f.dd(6,$e,2,0,"span",4),f.hc(),f.hc(),f.ic(7,"div",5),f.ic(8,"a",6),f.ec(9,"i-feather",7),f.hc(),f.hc(),f.hc(),f.ic(10,"form",8,9),f.uc("ngSubmit",(function(){f.Wc(i);var e=f.Tc(11);return t.submitEntryForm(e)})),f.ic(12,"div",10),f.ec(13,"app-alert-message",11),f.dd(14,He,1,0,"app-loader",4),f.dd(15,et,74,22,"ng-container",4),f.hc(),f.hc(),f.hc(),f.hc()}2&e&&(f.Ob(5),f.Gc("ngIf",!t.isEditEntry),f.Ob(1),f.Gc("ngIf",t.isEditEntry),f.Ob(2),f.Gc("routerLinkActiveOptions",f.Mc(7,ct)),f.Ob(5),f.Gc("message",t.alertEntryMessage)("isError",t.isEntryError),f.Ob(1),f.Gc("ngIf",!t.isEntrySubmitted),f.Ob(1),f.Gc("ngIf",t.isEntrySubmitted))},directives:[a.l,c.e,c.d,p.b,v.B,v.o,v.p,h.a,y.a,v.y,v.x,v.n,v.q,v.r,v.A,a.k,b.a,v.d,E.b,E.d,E.a,v.u],styles:[""]}),tt),rt=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:ee},{path:"maintain-staff",component:oe},{path:"add-staff",component:qe},{path:"edit-staff/:id",component:qe},{path:"inactive-staff",component:ue},{path:"overtime",component:ke},{path:"attendance",component:Se},{path:"add-entry",component:nt},{path:"edit-entry/:id",component:nt},{path:"payroll",component:Oe},{path:"reports",component:Ce},{path:"**",redirectTo:"settings",pathMatch:"full"}],ot=((it=function e(){_classCallCheck(this,e)}).\u0275mod=f.bc({type:it}),it.\u0275inj=f.ac({factory:function(e){return new(e||it)},imports:[[c.f.forChild(rt)],c.f]}),it),st=i("PCNd"),dt=((at=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||at)},at.\u0275cmp=f.Xb({type:at,selectors:[["app-staff-manager"]],decls:1,vars:0,template:function(e,t){1&e&&f.ec(0,"router-outlet")},directives:[c.g],styles:[""]}),at);i.d(t,"StaffManagerModule",(function(){return lt}));var ft,lt=((ft=function e(){_classCallCheck(this,e)}).\u0275mod=f.bc({type:ft,bootstrap:[dt]}),ft.\u0275inj=f.ac({factory:function(e){return new(e||ft)},imports:[[a.b,st.a,ot]]}),ft)}}]);