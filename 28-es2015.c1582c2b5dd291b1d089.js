(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{NhFE:function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var n=i("fXoL"),o=i("ofXK");function r(t,e){if(1&t){const t=n.Xb();n.Wb(0,"a",14),n.ic("click",(function(){n.Kc(t);const i=e.$implicit;return n.mc(2).selectPageItem(i.name)})),n.Tc(1),n.Vb()}if(2&t){const t=e.$implicit,i=n.mc(2);n.uc("ngClass",i.isSelected(t.name)),n.Cb(1),n.Uc(t.name)}}function s(t,e){if(1&t&&(n.Wb(0,"div",12),n.Rc(1,r,2,2,"a",13),n.Vb()),2&t){const t=n.mc();n.Cb(1),n.uc("ngForOf",t.pageRowsDataList)}}function a(t,e){if(1&t){const t=n.Xb();n.Wb(0,"li",15),n.Wb(1,"a",16),n.ic("click",(function(){n.Kc(t);const e=n.mc();return e.gotoPageNum(e.itemPageIndex-1)})),n.Sb(2,"i",17),n.Vb(),n.Vb()}}function c(t,e){if(1&t){const t=n.Xb();n.Wb(0,"li",15),n.Wb(1,"a",14),n.ic("click",(function(){n.Kc(t);const e=n.mc().$implicit;return n.mc().gotoPageNum(e)})),n.Tc(2),n.Vb(),n.Vb()}if(2&t){const t=n.mc().$implicit,e=n.mc();n.Cb(1),n.uc("ngClass",e.isPageNumActive(t)),n.Cb(1),n.Uc(t)}}function b(t,e){1&t&&(n.Wb(0,"li",15),n.Wb(1,"a",18),n.Tc(2,"..."),n.Vb(),n.Vb())}function d(t,e){if(1&t&&(n.Ub(0),n.Rc(1,c,3,2,"li",10),n.Rc(2,b,3,0,"li",10),n.Tb()),2&t){const t=e.$implicit;n.Cb(1),n.uc("ngIf",0!=t),n.Cb(1),n.uc("ngIf",0==t)}}function l(t,e){if(1&t){const t=n.Xb();n.Wb(0,"li",15),n.Wb(1,"a",19),n.ic("click",(function(){n.Kc(t);const e=n.mc();return e.gotoPageNum(e.itemPageIndex+1)})),n.Sb(2,"i",20),n.Vb(),n.Vb()}}let p=(()=>{class t{constructor(t,e){this.element=t,this.renderer=e,this.itemPageIndex=1,this.visiblePageNum=7,this.isPageRowSelected=!1,this.outputParams=new n.n}isPageNumActive(t){return this.itemPageIndex==t?"active":""}getPageList(t,e,i){var n=i<9?1:2,o=i-2*n-3>>1,r=i-2*n-2>>1;return t<=i?this.range(1,t):e<=i-n-1-r?this.range(1,i-n-1).concat([0]).concat(this.range(t-n+1,t)):e>=t-n-1-r?this.range(1,n).concat([0]).concat(this.range(t-n-1-r-o,t)):this.range(1,n).concat([0]).concat(this.range(e-o,e+r)).concat([0]).concat(this.range(t-n+1,t))}range(t,e){return Array.from(Array(e-t+1),(e,i)=>i+t)}gotoPageNum(t){this.itemPageIndex=t,this.ItemStartIndex=t>1?this.itemLimit*t-this.itemLimit:0,this.ItemEndIndex=this.itemLimit*t,this.ItemEndIndex>this.totalItems&&(this.ItemEndIndex=this.totalItems),this.outputParams.emit({ItemStartIndex:this.ItemStartIndex,ItemEndIndex:this.ItemEndIndex,itemLimit:this.itemLimit})}showPageList(){this.isPageRowSelected=!0}selectPageItem(t){this.itemLimit=parseInt(t),this.isPageRowSelected=!1,this.gotoPageNum(1)}isSelected(t){return this.itemLimit==parseInt(t)?"selected":""}ngOnInit(){this.pageRowsDataList=[{id:1,name:"10"},{id:2,name:"20"},{id:3,name:"30"},{id:4,name:"50"}]}onDocumentClick(t){this.element.nativeElement.querySelector(".page-select-wrapper").contains(t.target)||(this.isPageRowSelected=!1)}ngOnChanges(t){this.ItemStartIndex=this.itemPageIndex>1?this.itemLimit*this.itemPageIndex-this.itemLimit:0,this.totalItems<this.itemLimit?(this.totalPages=1,this.ItemEndIndex=this.totalItems):(this.totalPages=Math.floor(this.totalItems/this.itemLimit),this.totalItems%this.itemLimit>0&&(this.totalPages=this.totalPages+1)),this.pageItemArray=this.getPageList(this.totalPages,this.itemPageIndex,this.visiblePageNum)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(n.l),n.Rb(n.E))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-pagination"]],hostBindings:function(t,e){1&t&&n.ic("click",(function(t){return e.onDocumentClick(t)}),!1,n.Ic)},inputs:{ItemStartIndex:"ItemStartIndex",ItemEndIndex:"ItemEndIndex",itemLimit:"itemLimit",totalItems:"totalItems"},outputs:{outputParams:"outputParams"},features:[n.Ab],decls:16,vars:7,consts:[[1,"pagination-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"pagination","ov"],[1,"left","d-none","d-md-block"],[1,"page-select-wrapper"],[1,"page-item-select",3,"click"],["class","page-item-list",4,"ngIf"],[1,"right","page-numbers"],[1,"list-inline","float-right"],["class","list-inline-item",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"page-item-list"],["href","javascript:void(0)",3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"ngClass","click"],[1,"list-inline-item"],["href","javascript:void(0)",1,"prev",3,"click"],["aria-hidden","true",1,"fa","fa-angle-left"],["href","javascript:void(0)",1,"holder"],["href","javascript:void(0)",1,"next",3,"click"],["aria-hidden","true",1,"fa","fa-angle-right"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"div",2),n.Wb(3,"div",3),n.Wb(4,"div",4),n.Tc(5," Showing "),n.Wb(6,"div",5),n.Wb(7,"div",6),n.ic("click",(function(){return e.showPageList()})),n.Tc(8),n.Vb(),n.Rc(9,s,2,1,"div",7),n.Vb(),n.Tc(10),n.Vb(),n.Wb(11,"div",8),n.Wb(12,"ul",9),n.Rc(13,a,3,0,"li",10),n.Rc(14,d,3,2,"ng-container",11),n.Rc(15,l,3,0,"li",10),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&t&&(n.Cb(8),n.Wc("",e.ItemStartIndex+1," to ",e.ItemEndIndex,""),n.Cb(1),n.uc("ngIf",e.isPageRowSelected),n.Cb(1),n.Vc(" ",e.totalItems," of results "),n.Cb(3),n.uc("ngIf",1!=e.itemPageIndex),n.Cb(1),n.uc("ngForOf",e.pageItemArray),n.Cb(1),n.uc("ngIf",e.itemPageIndex!=e.totalPages))},directives:[o.l,o.k,o.j],styles:[".pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:inline-block;width:100%!important;font-family:Montserrat,sans-serif;font-weight:500;letter-spacing:.2px;font-size:1.3rem;padding:20px!important;overflow:hidden;border-top:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#8391a1;float:left;padding:0 16px 0 0;position:relative;top:7px}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#8391a1}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:0 0 20px}}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:left}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{color:#8391a1;padding:6px 12px;margin:0 4px;cursor:pointer}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{border:1px solid #eaeaea;border-radius:3px!important;box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-moz-box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-webkit-box-shadow:0 1px 4px 0 rgba(25,28,30,.1)}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]{position:absolute;margin:3px 4px 0}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8391a1;border-bottom:1px solid #eaeaea;padding:4px 12px;display:block;text-decoration:none;width:150px;background-color:#fff}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f3f5f7}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:right}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:none;width:100%!important;display:flex;justify-content:center}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#373946}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 10px 0 0;font-size:1.4rem;float:left}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:0;padding:0;background:transparent;border:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;transition:all .15s ease;color:#8391a1;border:1px solid #eaeaea;border-radius:3px!important;text-decoration:none}@media (max-width:576px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 9px}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fdfdfd;color:#3f51b5;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f3f5f7;color:#373946;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.prev[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]{cursor:not-allowed}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder.active[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]:hover{background-color:#fff;color:#373946;border:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child)   a[_ngcontent-%COMP%]{margin:0 7px 0 0}"]}),t})()},bvAq:function(t,e,i){"use strict";i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s})),i.d(e,"f",(function(){return a})),i.d(e,"d",(function(){return c})),i.d(e,"e",(function(){return b}));var n=i("fXoL");let o=(()=>{class t{transform(t,e){return e?t.filter(t=>{for(let i in t)if(null!=t[i]&&-1!==t[i].toString().toLowerCase().indexOf(e.toLowerCase()))return!0;return!1}):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"simpleSearch",type:t,pure:!0}),t})(),r=(()=>{class t{transform(t,e,i){if(t)return t.filter(t=>null===t[i]||!t[i]||!e[i]||t[i].toString().toLowerCase().includes(e[i].toLowerCase()))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"columnSearch",type:t,pure:!1}),t})(),s=(()=>{class t{transform(t,e,i){return t.sort((t,n)=>{let o=t[e],r=n[e];return null==o&&null==r?0:null==o&&null!=r?i?1:-1:null!=o&&null==r?i?-1:1:o==r?0:i?o.toString().toLowerCase()>r.toString().toLowerCase()?-1:1:r.toString().toLowerCase()>o.toString().toLowerCase()?-1:1}),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"orderBy",type:t,pure:!0}),t})(),a=(()=>{class t{transform(t){return null!=t&&""!=t||null!=t?t:"NA"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"notAvail",type:t,pure:!0}),t})(),c=(()=>{class t{transform(t,e){return void 0===t||0==t.length?"NA":t[0][e]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"isdefined",type:t,pure:!0}),t})(),b=(()=>{class t{transform(t){return null==t?"NA":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=n.Qb({name:"notAvailNum",type:t,pure:!0}),t})()},wlDI:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("fXoL"),o=i("ofXK"),r=i("8mtn");let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["app-alert-message"]],inputs:{message:"message",isAlert:"isAlert",isSuccess:"isSuccess",isError:"isError"},decls:11,vars:4,consts:[[1,"alert-wrapper"],[1,"custom-alert",3,"ngClass"],[1,"icon-wrapper","float-left"],["name","x","width","20",1,"icon","del","float-left"],[1,"float-left"],["name","check","width","20",1,"icon","del","float-left"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"div",2),n.Sb(3,"i-feather",3),n.Vb(),n.Wb(4,"p",4),n.Tc(5),n.Vb(),n.Vb(),n.Wb(6,"div",1),n.Wb(7,"div",2),n.Sb(8,"i-feather",5),n.Vb(),n.Wb(9,"p",4),n.Tc(10),n.Vb(),n.Vb(),n.Vb()),2&t&&(n.Cb(1),n.uc("ngClass",e.isError?"show error":""),n.Cb(4),n.Uc(e.message),n.Cb(1),n.uc("ngClass",e.isSuccess?"show success":""),n.Cb(4),n.Uc(e.message))},directives:[o.j,r.b],styles:[".alert-wrapper[_ngcontent-%COMP%]{position:relative;top:-20px;left:-20px}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;padding:0 15px;border-radius:0!important;width:calc(100% + 40px);overflow:hidden;height:0;transition:all .15s ease}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:22px;height:22px;display:flex;justify-content:center;align-items:center;background-color:#f1dddd;border-radius:22px!important;margin:8px 0 0}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:15px;cursor:auto;margin:-1px 0 0}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:95%;margin:9px 0 0 10px!important;font-size:1.4rem;color:#8e4d40}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show[_ngcontent-%COMP%]{max-height:200px;height:40px;top:0;left:0;border-bottom:1px solid #eaeaea;transition:all .15s ease}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.error[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{background-color:#f1dddd}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.error[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ea7962}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.success[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{background-color:#5cd694}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.success[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff}.alert-wrapper[_ngcontent-%COMP%]   .custom-alert.show.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#5cd694}"]}),t})()},y3SW:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),o=i("tyNb"),r=i("fXoL"),s=i("3Pt+");let a=(()=>{class t{constructor(){this.sendNotification=!1,this.captureVehiclesDetails=!1,this.sendSMS=!1}submitVisitorSettingsForm(t){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor-setup"]],decls:41,vars:3,consts:[[1,"visitor-settings"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[1,"d-none","d-md-inline-block"],[1,"card-body"],["name","visitorSettingsForm","novalidate","",3,"ngSubmit"],["visitorSettingsForm","ngForm"],[1,"row"],[1,"col-sm-12"],[1,"list-group"],[1,"list-group-item","p-0","no-border","mb-3"],[1,"form-group"],[1,"form-check","medium","float-left"],["type","checkbox","id","sendNotification","name","sendNotification",1,"form-check-input",3,"ngModel","ngModelChange"],["for","sendNotification",1,"form-check-label"],["type","checkbox","id","captureVehiclesDetails","name","captureVehiclesDetails",1,"form-check-input",3,"ngModel","ngModelChange"],["for","captureVehiclesDetails",1,"form-check-label"],["type","checkbox","id","sendSMS","name","sendSMS",1,"form-check-input",3,"ngModel","ngModelChange"],["for","sendSMS",1,"form-check-label"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],["href","javascript:void(0)",1,"btn","blue","mr-2"]],template:function(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Wb(4,"h5"),r.Tc(5,"Settings"),r.Vb(),r.Wb(6,"p",4),r.Tc(7,"Edit and Save the Settings"),r.Vb(),r.Vb(),r.Vb(),r.Wb(8,"div",5),r.Wb(9,"form",6,7),r.ic("ngSubmit",(function(){r.Kc(t);const i=r.Hc(10);return e.submitVisitorSettingsForm(i)})),r.Wb(11,"div",8),r.Wb(12,"div",9),r.Wb(13,"ul",10),r.Wb(14,"li",11),r.Wb(15,"div",12),r.Wb(16,"div",13),r.Wb(17,"input",14),r.ic("ngModelChange",(function(t){return e.sendNotification=t})),r.Vb(),r.Sb(18,"label",15),r.Wb(19,"p"),r.Tc(20,"Send Mobile App notifications to resident of flat on vsisitors check-in"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(21,"li",11),r.Wb(22,"div",12),r.Wb(23,"div",13),r.Wb(24,"input",16),r.ic("ngModelChange",(function(t){return e.captureVehiclesDetails=t})),r.Vb(),r.Sb(25,"label",17),r.Wb(26,"p"),r.Tc(27,"Capture complete vehicle details"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(28,"li",11),r.Wb(29,"div",12),r.Wb(30,"div",13),r.Wb(31,"input",18),r.ic("ngModelChange",(function(t){return e.sendSMS=t})),r.Vb(),r.Sb(32,"label",19),r.Wb(33,"p"),r.Tc(34,"Send SMS to resident of flat on vsisitors check-in"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(35,"div",8),r.Wb(36,"div",9),r.Wb(37,"ul",20),r.Wb(38,"li",21),r.Wb(39,"a",22),r.Tc(40,"Save"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb()}2&t&&(r.Cb(17),r.uc("ngModel",e.sendNotification),r.Cb(7),r.uc("ngModel",e.captureVehiclesDetails),r.Cb(7),r.uc("ngModel",e.sendSMS))},directives:[s.B,s.o,s.p,s.a,s.n,s.q],styles:[""]}),t})();var c=i("NutR"),b=i("wbvY"),d=i("ThaB"),l=i("Yt4J"),p=i("S4bl"),u=i("DtdB"),g=i("wd/R"),m=i("b6Qw"),h=i("8mtn"),v=i("wlDI"),f=i("668k"),C=i("BR9Y"),V=i("BniF");function I(t,e){1&t&&(r.Wb(0,"span"),r.Tc(1,"Expected Visitor Checkin"),r.Vb())}function M(t,e){1&t&&(r.Wb(0,"span"),r.Tc(1,"Edit Expected Visitor"),r.Vb())}function W(t,e){1&t&&r.Sb(0,"app-loader")}function O(t,e){if(1&t&&(r.Wb(0,"option",39),r.Tc(1),r.Vb()),2&t){const t=e.$implicit;r.uc("value",t.lookupValueId),r.Cb(1),r.Uc(t.lookupValueName)}}function P(t,e){if(1&t&&(r.Wb(0,"option",39),r.Tc(1),r.Vb()),2&t){const t=e.$implicit;r.uc("value",t.lookupValueId),r.Cb(1),r.Uc(t.lookupValueName)}}function T(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",19),r.Wb(1,"div",20),r.Wb(2,"label"),r.Tc(3,"Tenant block-No*"),r.Vb(),r.Wb(4,"input",40),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(3).visitor.apartmentBlockNumber=e})),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.mc(3);r.Cb(4),r.uc("ngModel",t.visitor.apartmentBlockNumber)}}function k(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",19),r.Wb(1,"div",20),r.Wb(2,"label"),r.Tc(3,"Tenant Unit-No*"),r.Vb(),r.Wb(4,"input",41),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(3).visitor.apartmentBlockUnitNumber=e})),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.mc(3);r.Cb(4),r.uc("ngModel",t.visitor.apartmentBlockUnitNumber)}}function x(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",19),r.Wb(1,"div",20),r.Wb(2,"label"),r.Tc(3,"Staff Id*"),r.Vb(),r.Wb(4,"input",42),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(3).visitor.staffId=e})),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.mc(3);r.Cb(4),r.uc("ngModel",t.visitor.staffId)}}function y(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",14),r.Wb(1,"div",19),r.Wb(2,"div",20),r.Wb(3,"label"),r.Tc(4,"Expected Visitor Name*"),r.Vb(),r.Wb(5,"input",21),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedVisitorName=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(6,"div",19),r.Wb(7,"div",20),r.Wb(8,"label"),r.Tc(9,"Expected Visitor Count*"),r.Vb(),r.Wb(10,"input",22),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedVisitorCount=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(11,"div",19),r.Wb(12,"div",20),r.Wb(13,"label"),r.Tc(14,"Expected Phone/Mobile*"),r.Vb(),r.Wb(15,"input",23),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedVisitorPhone=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(16,"div",19),r.Wb(17,"div",20),r.Wb(18,"label"),r.Tc(19,"Expected Visitor In-time*"),r.Vb(),r.Wb(20,"input",24),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedVisitorInTime=e}))("ngModelChange",(function(){return r.Kc(t),r.mc(2).expectedDurationChange()})),r.Vb(),r.Sb(21,"owl-date-time",null,25),r.Wb(23,"div",26),r.Sb(24,"i-feather",27),r.Vb(),r.Vb(),r.Vb(),r.Wb(25,"div",19),r.Wb(26,"div",20),r.Wb(27,"label"),r.Tc(28,"Expected Visitor Out-time*"),r.Vb(),r.Wb(29,"input",28),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorOutTime=e}))("ngModelChange",(function(){return r.Kc(t),r.mc(2).expectedDurationChange()})),r.Vb(),r.Sb(30,"owl-date-time",null,29),r.Wb(32,"div",26),r.Sb(33,"i-feather",27),r.Vb(),r.Vb(),r.Vb(),r.Wb(34,"div",19),r.Wb(35,"div",20),r.Wb(36,"label"),r.Tc(37,"Expected Duration*"),r.Vb(),r.Wb(38,"input",30),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedDuration=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(39,"div",19),r.Wb(40,"div",20),r.Wb(41,"label"),r.Tc(42,"Pass Number*"),r.Vb(),r.Wb(43,"input",31),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.passNumber=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(44,"div",19),r.Wb(45,"div",32),r.Wb(46,"label"),r.Tc(47,"Expected Visit Type*"),r.Vb(),r.Wb(48,"select",33),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitTypeId=e}))("ngModelChange",(function(){r.Kc(t);const e=r.mc(2);return e.changeVisitorType(e.visitTypeId)})),r.Wb(49,"option",34),r.Tc(50,"Select"),r.Vb(),r.Rc(51,O,2,2,"option",35),r.Vb(),r.Vb(),r.Vb(),r.Wb(52,"div",19),r.Wb(53,"div",32),r.Wb(54,"label"),r.Tc(55,"Expected Visit Category*"),r.Vb(),r.Wb(56,"select",36),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitCategoryId=e})),r.Wb(57,"option",34),r.Tc(58,"Select"),r.Vb(),r.Rc(59,P,2,2,"option",35),r.Vb(),r.Vb(),r.Vb(),r.Rc(60,T,5,1,"div",37),r.Rc(61,k,5,1,"div",37),r.Rc(62,x,5,1,"div",37),r.Wb(63,"div",19),r.Wb(64,"div",20),r.Wb(65,"label"),r.Tc(66,"Purpose"),r.Vb(),r.Wb(67,"textarea",38),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.purpose=e})),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.Hc(22),e=r.Hc(31),i=r.mc(2);r.Cb(5),r.uc("ngModel",i.visitor.expectedVisitorName),r.Cb(5),r.uc("ngModel",i.visitor.expectedVisitorCount),r.Cb(5),r.uc("ngModel",i.visitor.expectedVisitorPhone),r.Cb(5),r.uc("owlDateTime",t)("owlDateTimeTrigger",t)("ngModel",i.visitor.expectedVisitorInTime)("disabled",!0),r.Cb(3),r.uc("owlDateTimeTrigger",t),r.Cb(6),r.uc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",i.visitor.visitorOutTime),r.Cb(3),r.uc("owlDateTimeTrigger",e),r.Cb(6),r.uc("ngModel",i.visitor.expectedDuration)("disabled",!0),r.Cb(5),r.uc("ngModel",i.visitor.passNumber),r.Cb(5),r.uc("ngModel",i.visitTypeId),r.Cb(3),r.uc("ngForOf",i.visitByData),r.Cb(5),r.uc("ngModel",i.visitCategoryId),r.Cb(3),r.uc("ngForOf",i.visitCategoryData),r.Cb(1),r.uc("ngIf",i.isUnitVisitor),r.Cb(1),r.uc("ngIf",i.isUnitVisitor),r.Cb(1),r.uc("ngIf",i.iscommunityVisitor),r.Cb(5),r.uc("ngModel",i.visitor.purpose)}}function S(t,e){if(1&t&&(r.Wb(0,"option",39),r.Tc(1),r.Vb()),2&t){const t=e.$implicit;r.uc("value",t.lookupValueId),r.Cb(1),r.Uc(t.lookupValueName)}}function w(t,e){if(1&t&&(r.Wb(0,"option",39),r.Tc(1),r.Vb()),2&t){const t=e.$implicit;r.uc("value",t.lookupValueId),r.Cb(1),r.Uc(t.lookupValueName)}}function _(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",14),r.Wb(1,"div",19),r.Wb(2,"div",20),r.Wb(3,"label"),r.Tc(4,"Expected Visitor Name*"),r.Vb(),r.Wb(5,"input",21),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorName=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(6,"div",19),r.Wb(7,"div",20),r.Wb(8,"label"),r.Tc(9,"Expected Visitor Count*"),r.Vb(),r.Wb(10,"input",22),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorCount=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(11,"div",19),r.Wb(12,"div",20),r.Wb(13,"label"),r.Tc(14,"Phone/Mobile*"),r.Vb(),r.Wb(15,"input",23),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorPhone=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(16,"div",19),r.Wb(17,"div",20),r.Wb(18,"label"),r.Tc(19,"Expected Visitor In-time*"),r.Vb(),r.Wb(20,"input",43),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorInTime=e})),r.Vb(),r.Sb(21,"owl-date-time",44,25),r.Wb(23,"div",26),r.Sb(24,"i-feather",27),r.Vb(),r.Vb(),r.Vb(),r.Wb(25,"div",19),r.Wb(26,"div",20),r.Wb(27,"label"),r.Tc(28,"Expected Visitor Out-time"),r.Vb(),r.Wb(29,"input",45),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.visitorOutTime=e})),r.Vb(),r.Sb(30,"owl-date-time",44,29),r.Wb(32,"div",26),r.Sb(33,"i-feather",27),r.Vb(),r.Vb(),r.Vb(),r.Wb(34,"div",19),r.Wb(35,"div",20),r.Wb(36,"label"),r.Tc(37,"Expected Duration*"),r.Vb(),r.Wb(38,"input",46),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.expectedDuration=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(39,"div",19),r.Wb(40,"div",20),r.Wb(41,"label"),r.Tc(42,"Pass Number*"),r.Vb(),r.Wb(43,"input",31),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitor.passNumber=e})),r.Vb(),r.Vb(),r.Vb(),r.Wb(44,"div",19),r.Wb(45,"div",32),r.Wb(46,"label"),r.Tc(47,"Expected Visit Type*"),r.Vb(),r.Wb(48,"select",33),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitTypeId=e})),r.Wb(49,"option",34),r.Tc(50,"Select"),r.Vb(),r.Rc(51,S,2,2,"option",35),r.Vb(),r.Vb(),r.Vb(),r.Wb(52,"div",19),r.Wb(53,"div",32),r.Wb(54,"label"),r.Tc(55,"Expected Visit Category*"),r.Vb(),r.Wb(56,"select",36),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc(2).visitCategoryId=e})),r.Wb(57,"option",34),r.Tc(58,"Select"),r.Vb(),r.Rc(59,w,2,2,"option",35),r.Vb(),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.Hc(22),e=r.Hc(31),i=r.mc(2);r.Cb(5),r.uc("ngModel",i.visitor.visitorName),r.Cb(5),r.uc("ngModel",i.visitor.visitorCount),r.Cb(5),r.uc("ngModel",i.visitor.visitorPhone),r.Cb(5),r.uc("owlDateTime",t)("owlDateTimeTrigger",t)("min",i.minDate)("max",i.minDate)("disabled",!0)("ngModel",i.visitor.visitorInTime),r.Cb(1),r.uc("min",i.minDate),r.Cb(2),r.uc("owlDateTimeTrigger",t),r.Cb(6),r.uc("owlDateTime",e)("owlDateTimeTrigger",e)("min",i.minDate)("max",i.minDate)("ngModel",i.visitor.visitorOutTime),r.Cb(1),r.uc("min",i.minDate),r.Cb(2),r.uc("owlDateTimeTrigger",e),r.Cb(6),r.uc("ngModel",i.visitor.expectedDuration),r.Cb(5),r.uc("ngModel",i.visitor.passNumber),r.Cb(5),r.uc("ngModel",i.visitTypeId),r.Cb(3),r.uc("ngForOf",i.visitByData),r.Cb(5),r.uc("ngModel",i.visitCategoryId),r.Cb(3),r.uc("ngForOf",i.visitCategoryData)}}function D(t,e){if(1&t&&(r.Wb(0,"button",47),r.Tc(1,"Check In"),r.Vb()),2&t){r.mc();const t=r.Hc(2);r.uc("disabled",t.invalid)}}function N(t,e){if(1&t&&(r.Wb(0,"button",47),r.Tc(1,"Check Out"),r.Vb()),2&t){r.mc();const t=r.Hc(2);r.uc("disabled",t.invalid)}}function L(t,e){if(1&t){const t=r.Xb();r.Ub(0),r.Wb(1,"form",11,12),r.ic("ngSubmit",(function(){r.Kc(t);const e=r.Hc(2);return r.mc().submitAddVisitorForm(e)})),r.Rc(3,y,68,23,"div",13),r.Rc(4,_,60,24,"div",13),r.Wb(5,"div",14),r.Wb(6,"div",15),r.Wb(7,"ul",16),r.Wb(8,"li",17),r.Rc(9,D,2,1,"button",18),r.Vb(),r.Wb(10,"li",17),r.Rc(11,N,2,1,"button",18),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Tb()}if(2&t){const t=r.mc();r.Cb(3),r.uc("ngIf",!t.isCheckout()),r.Cb(1),r.uc("ngIf",t.isCheckout()),r.Cb(5),r.uc("ngIf",!t.isCheckout()),r.Cb(2),r.uc("ngIf",t.isCheckout())}}function U(t,e){1&t&&(r.Wb(0,"h5",3),r.Tc(1,"Visitor Checked In successfully!"),r.Vb())}function E(t,e){1&t&&(r.Wb(0,"h5",3),r.Tc(1,"Visitor Checked Out successfully!"),r.Vb())}function B(t,e){if(1&t&&(r.Wb(0,"div",48),r.Wb(1,"div",49),r.Sb(2,"i-feather",50),r.Vb(),r.Rc(3,U,2,0,"h5",51),r.Rc(4,E,2,0,"h5",51),r.Vb()),2&t){const t=r.mc();r.Cb(3),r.uc("ngIf",!t.isCheckout()),r.Cb(1),r.uc("ngIf",t.isCheckout())}}const A=function(){return{exact:!0}};let R=(()=>{class t{constructor(t,e,i,n,o,r,s,a,c){this.router=t,this.route=e,this.userService=i,this.apartmentService=n,this.visitorService=o,this.lookupService=r,this.sharedService=s,this.cookieService=a,this.SharedToaster=c,this.isEditVisitor=!1,this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!1,this.errorMessage="",this.visitTypeId="",this.isExpectedVisitor=!1,this.visitorStatus="",this.isUnitVisitor=!1,this.iscommunityVisitor=!1,this.minDate=g(new Date).format("YYYY-MM-DD")}isCheckout(){return"checkout"==this.visitorStatus}submitAddVisitorForm(t){if(this.isVisitorSubmitted=!0,this.isError=!1,!this.isEditVisitor){console.log("fist");let t={apartmentUnitId:this.apartmentUnitId,apartmentId:parseInt(this.cookieService.get("apartmentId")),visitorName:this.visitor.expectedVisitorName,visitorCount:this.visitor.expectedVisitorCount,visitorPhone:this.visitor.expectedVisitorPhone,passNumber:this.visitor.passNumber,visitorInTime:this.visitor.expectedVisitorInTime,visitorOutTime:this.visitor.expectedVisitorOutTime,expectedDuration:this.visitor.expectedDurationInHours,meetingPersonId:1,visitTypeId:parseInt(this.visitTypeId),visitCategoryId:parseInt(this.visitCategoryId),visitorsOrg:"string",entryGateId:null,apartmentBlockNumber:this.visitor.apartmentBlockNumber,apartmentUnitNumber:this.visitor.apartmentBlockUnitNumber,exitGateId:null,purpose:this.visitor.purpose,enteredBy:parseInt(this.cookieService.get("userId")),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-18T17:08:51.188Z",updatedBy:0,updatedOn:"2019-11-18T17:08:51.188Z"};this.visitorService.addVisitor(t).subscribe(t=>{t.message?(this.isVisitorAdded=!0,this.router.navigate(["/ams/visitor/checkout"])):(this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t.errorMessage)},t=>{this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t})}if(this.isEditVisitor)if(this.isCheckout()){let t={visitorId:parseInt(this.route.params.value.id),apartmentUnitId:this.apartmentUnitId,apartmentId:parseInt(this.cookieService.get("apartmentId")),visitorName:this.visitor.visitorName,visitorCount:this.visitor.visitorCount,visitorPhone:this.visitor.visitorPhone,visitorVehicleTypeId:1,visitorVehicleNumber:"string",visitingPlaceId:1,passNumber:this.visitor.passNumber,isCheckedIn:!0,visitorInTime:this.visitor.visitorInTime,isCheckedOut:!0,visitorOutTime:this.visitor.visitorOutTime,expectedDuration:this.visitor.expectedDurationInHours,meetingPersonId:1,meetingPersonName:"string",visitTypeId:parseInt(this.visitTypeId),visitCategoryId:parseInt(this.visitCategoryId),visitorsOrg:"string",entryGateId:null,exitGateId:null,purpose:this.visitor.purpose,enteredBy:parseInt(this.cookieService.get("userId")),isActive:!0,insertedBy:0,insertedOn:"2019-11-18T17:08:51.188Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-18T17:08:51.188Z"};this.visitorService.updateVisitor(t).subscribe(t=>{t.message?this.isVisitorAdded=!0:(this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t.errorMessage)},t=>{this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t})}else{let t={apartmentUnitId:this.apartmentUnitId,apartmentId:parseInt(this.cookieService.get("apartmentId")),visitorName:this.visitor.expectedVisitorName,visitorCount:this.visitor.expectedVisitorCount,visitorPhone:this.visitor.expectedVisitorPhone,visitorVehicleTypeId:1,visitorVehicleNumber:"string",visitingPlaceId:1,passNumber:this.visitor.passNumber,isCheckedIn:!0,visitorInTime:this.visitor.expectedVisitorInTime,isCheckedOut:!1,visitorOutTime:null,expectedDuration:this.visitor.expectedDurationInHours,meetingPersonId:1,meetingPersonName:"string",visitTypeId:parseInt(this.visitTypeId),visitCategoryId:parseInt(this.visitCategoryId),visitorsOrg:"string",entryGateId:null,exitGateId:null,purpose:this.visitor.purpose,enteredBy:parseInt(this.cookieService.get("userId")),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-18T17:08:51.188Z",updatedBy:0,updatedOn:"2019-11-18T17:08:51.188Z"};this.visitorService.addVisitor(t).subscribe(t=>{t.message?this.isVisitorAdded=!0:(this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t.errorMessage)},t=>{this.isVisitorSubmitted=!1,this.isVisitorAdded=!1,this.isError=!0,this.errorMessage=t})}}ngOnInit(){this.visitor={},null!=this.route.params.value.id&&(this.isEditVisitor=!0,this.visitorStatus=this.route.params.value.type,"checkout"==this.route.params.value.type?this.visitorService.getVisitorById(this.route.params.value.id).subscribe(t=>{this.visitor=t[0],this.visitTypeId=this.visitor.visitTypeId,this.visitor.purpose=""},t=>{}):this.visitorService.getExpectedVisitorById(this.route.params.value.id).subscribe(t=>{this.visitor=t[0],this.visitor.purpose="",this.visitTypeId=this.visitor.visitTypeId,console.log(this.visitor)},t=>{})),this.lookupService.getLookupValueByLookupTypeId(15).subscribe(t=>{this.visitByData=t},t=>{}),this.lookupService.getLookupValueByLookupTypeId(8).subscribe(t=>{this.visitCategoryData=t},t=>{}),this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe(t=>{this.apartmentUnitId=t[0].apartmentBlockUnitId},t=>{}),this.visitor.expectedVisitorInTime=g(new Date),this.visitor.visitorInTime=g(new Date)}changeVisitorType(t){console.log(t);let e=this.visitByData.filter(e=>t==e.lookupValueId);console.log(e),this.isUnitVisitor="Unit Visitor"==e[0].lookupValueName,this.iscommunityVisitor="Community Visitor"==e[0].lookupValueName}expectedDurationChange(){if(this.minDate>g(this.visitor.expectedVisitorInTime).format("YYYY-MM-DD"))return this.visitor.expectedVisitorInTime=void 0,void this.SharedToaster.openSnackBar("Please Select valid Date","");if(this.minDate>g(this.visitor.visitorOutTime).format("YYYY-MM-DD"))return this.visitor.visitorOutTime=void 0,void this.SharedToaster.openSnackBar("Please Select Out-time greater than In-time","");if(console.log(this.visitor.visitorOutTime),this.visitor.visitorOutTime&&g(this.visitor.expectedVisitorInTime).format("YYYY-MM-DD")>g(this.visitor.visitorOutTime).format("YYYY-MM-DD"))return this.visitor.visitorOutTime=void 0,void this.SharedToaster.openSnackBar("Please Select Out-time greater than In-time","");let t=g(this.visitor.expectedVisitorInTime),e=g(this.visitor.visitorOutTime),i=g.duration(e.diff(t));this.visitor.expectedDuration=i.days()+" days "+this.isSingleDigit(i.hours())+":"+this.isSingleDigit(i.minutes())+" hours";let n=g.duration(e.diff(t)).asHours();this.visitor.expectedDurationInHours=Math.round(n)}isSingleDigit(t){return t<=0?"00":t.toString().length>1?t:"0"+t}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(o.c),r.Rb(o.a),r.Rb(c.a),r.Rb(l.a),r.Rb(p.a),r.Rb(d.a),r.Rb(b.a),r.Rb(m.a),r.Rb(u.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor-checkin"]],decls:15,vars:9,consts:[[1,"checkin-visitor-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/visitor/expected-visitor","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],[1,"card-body"],[3,"message","isAlert"],["class","message",4,"ngIf"],["name","addVisitorForm","novalidate","",3,"ngSubmit"],["addVisitorForm","ngForm"],["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],["class","btn blue mr-2",3,"disabled",4,"ngIf"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter Name","name","visitorName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter Count","name","visitorCount","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter Number","name","phoneNo","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","visitorInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","disabled","ngModelChange"],["visitorInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["name","visitorOutTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["visitorOutTime",""],["OnlyNumber","true","placeholder","Enter Duration","name","visitorCount","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text","placeholder","Enter Number","name","visitorPassNumber","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],["name","visitBy","id","visitBy","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["name","visitByCategory","id","visitByCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],["type","text","placeholder","Enter purpose","name","visitorpurpose",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],["type","text","OnlyNumber","true","placeholder","Enter block-No","name","visitorblock-No","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter Unit-No","name","visitorUnit-No","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","OnlyNumber","true","placeholder","Enter Staff-id","name","staffId","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","visitorInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","min","max","disabled","ngModel","ngModelChange"],[3,"min"],["name","visitorOutTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","min","max","ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter Duration","name","visitorCount","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","blue","mr-2",3,"disabled"],[1,"message"],[1,"icon-wrapper","float-left"],["name","check","width","20",1,"icon","float-left"],["class","float-left",4,"ngIf"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Wb(3,"div",3),r.Wb(4,"h5"),r.Rc(5,I,2,0,"span",4),r.Rc(6,M,2,0,"span",4),r.Vb(),r.Vb(),r.Wb(7,"div",5),r.Wb(8,"a",6),r.Sb(9,"i-feather",7),r.Vb(),r.Vb(),r.Vb(),r.Wb(10,"div",8),r.Sb(11,"app-alert-message",9),r.Rc(12,W,1,0,"app-loader",4),r.Rc(13,L,12,4,"ng-container",4),r.Rc(14,B,5,2,"div",10),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Cb(5),r.uc("ngIf",!e.isEditVisitor),r.Cb(1),r.uc("ngIf",e.isEditVisitor),r.Cb(2),r.uc("routerLinkActiveOptions",r.Ac(8,A)),r.Cb(3),r.uc("message",e.errorMessage)("isAlert",e.isError),r.Cb(1),r.uc("ngIf",e.isVisitorSubmitted&&!e.isVisitorAdded),r.Cb(1),r.uc("ngIf",!e.isVisitorSubmitted&&!e.isVisitorAdded),r.Cb(1),r.uc("ngIf",e.isVisitorAdded))},directives:[n.l,o.e,o.d,h.b,v.a,f.a,s.B,s.o,s.p,s.d,s.x,s.n,s.q,s.s,C.a,V.c,V.e,V.b,s.y,s.r,s.A,n.k],styles:[""]}),t})();var F=i("JK/P"),K=i("F/us"),Y=i("NhFE"),q=i("1kSV"),j=i("bvAq");function X(t,e){1&t&&r.Sb(0,"app-loader")}function H(t,e){if(1&t&&(r.Wb(0,"div",29),r.Wb(1,"ul"),r.Wb(2,"li"),r.Wb(3,"h5"),r.Tc(4,"Visitor Count"),r.Vb(),r.Wb(5,"small"),r.Tc(6),r.Vb(),r.Vb(),r.Wb(7,"li"),r.Wb(8,"h5"),r.Tc(9,"Expected Duration"),r.Vb(),r.Wb(10,"small"),r.Tc(11),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.mc().$implicit;r.Cb(6),r.Uc(t.visitorCount),r.Cb(5),r.Uc(t.expectedDuration)}}function $(t,e){1&t&&(r.Wb(0,"div",29),r.Wb(1,"h5"),r.Tc(2,"CheckOut"),r.Vb(),r.Vb())}const z=function(){return{exact:!0}};function Q(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"td",21),r.Wb(2,"a",22),r.Tc(3),r.Rc(4,H,12,2,"ng-template",null,23,r.Sc),r.Vb(),r.Vb(),r.Wb(6,"td",24),r.Tc(7),r.Vb(),r.Wb(8,"td",24),r.Tc(9),r.nc(10,"date"),r.Vb(),r.Wb(11,"td",24),r.Tc(12),r.nc(13,"date"),r.Vb(),r.Wb(14,"td",25),r.Tc(15),r.Vb(),r.Wb(16,"td",25),r.Tc(17),r.Vb(),r.Wb(18,"td"),r.Wb(19,"a",26),r.Sb(20,"img",27),r.Vb(),r.Rc(21,$,3,0,"ng-template",null,28,r.Sc),r.Vb(),r.Vb()),2&t){const t=e.$implicit,i=r.Hc(5),n=r.Hc(22);r.Cb(2),r.uc("ngbPopover",i),r.Cb(1),r.Vc("",t.visitorName," "),r.Cb(4),r.Uc(t.visitorPhone),r.Cb(2),r.Uc(r.pc(10,10,t.visitorInTime,"MM/dd/yy, hh:mm")),r.Cb(3),r.Uc(r.pc(13,13,t.visitorOutTime,"MM/dd/yy, hh:mm")),r.Cb(3),r.Uc(t.blockNo),r.Cb(2),r.Uc(t.blockUnitNo),r.Cb(2),r.wc("routerLink","/ams/visitor/edit-visitor/",t.visitorId,"/checkout"),r.uc("ngbPopover",n)("routerLinkActiveOptions",r.Ac(16,z))}}function G(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",3),r.Wb(1,"div",4),r.Wb(2,"div",5),r.Wb(3,"h5"),r.Tc(4,"All Checked-in Visitors "),r.Wb(5,"span",6),r.Tc(6),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"ul",7),r.Wb(8,"li",8),r.Sb(9,"i",9),r.Wb(10,"input",10),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc().visitorData=e})),r.Vb(),r.Vb(),r.Wb(11,"li",11),r.Wb(12,"a",12),r.Sb(13,"i-feather",13),r.Wb(14,"span"),r.Tc(15,"Print"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(16,"div",14),r.Wb(17,"table",15),r.Wb(18,"thead"),r.Wb(19,"tr"),r.Wb(20,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorName")})),r.Tc(21,"Visitor Name "),r.Sb(22,"span",17),r.Vb(),r.Wb(23,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorPhone")})),r.Tc(24,"Phone Number "),r.Sb(25,"span",17),r.Vb(),r.Wb(26,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorInTime")})),r.Tc(27,"In-time "),r.Sb(28,"span",17),r.Vb(),r.Wb(29,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorOutTime")})),r.Tc(30,"Out-time "),r.Sb(31,"span",17),r.Vb(),r.Wb(32,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("blockNo")})),r.Tc(33,"Block No"),r.Sb(34,"span",17),r.Vb(),r.Wb(35,"th",16),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("blockUnitNo")})),r.Tc(36,"Unit No "),r.Sb(37,"span",17),r.Vb(),r.Wb(38,"th",18),r.Tc(39,"Action"),r.Vb(),r.Vb(),r.Vb(),r.Wb(40,"tbody"),r.Rc(41,Q,23,17,"tr",19),r.nc(42,"orderBy"),r.nc(43,"simpleSearch"),r.nc(44,"slice"),r.Vb(),r.Vb(),r.Wb(45,"app-pagination",20),r.ic("outputParams",(function(e){return r.Kc(t),r.mc().getIndexParams(e)})),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.mc();r.Cb(6),r.Uc(t.totalItems),r.Cb(4),r.uc("ngModel",t.visitorData),r.Cb(7),r.uc("ngClass",t.isMobileView()),r.Cb(5),r.uc("ngClass",t.getFieldOrderBy("visitorName")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorPhone")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorInTime")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorOutTime")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("blockNo")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("blockUnitNo")),r.Cb(4),r.uc("ngForOf",r.qc(42,14,r.pc(43,18,r.qc(44,21,t.visitorListData,t.ItemUserStartIndex,t.ItemUserEndIndex),t.visitorData),t.unitFieldType,t.unitOrder)),r.Cb(4),r.uc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}let Z=(()=>{class t{constructor(t,e,i,n,o,r){this.injector=t,this.apartmentService=e,this.visitorService=i,this.lookupService=n,this.sharedService=o,this.cookieService=r,this.visitorData="",this.isVisitorDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.modalService=this.injector.get(F.a)}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"desc":"asc":""}getBlockUnit(t){}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(t){this.modalService.showConfirmModal(t)}getVisitorType(){}ngOnInit(){this.lookupService.getLookupValueByLookupTypeId(15).subscribe(t=>{this.visitTypeData=t},t=>{}),this.visitorService.getYetToCheckoutVisitorsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.visitorListData=t.filter(t=>t.isActive&&!t.isCheckedOut),K.each(this.visitorListData,(t,e)=>{this.apartmentService.getApartmentBlockUnitById(t.apartmentUnitId).subscribe(t=>{this.visitorListData[e].blockNo=t[0].apartmentBlockNumber,this.visitorListData[e].blockUnitNo=t[0].apartmentBlockUnitNumber},t=>{})}),this.totalItems=this.visitorListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isVisitorDataLoaded=!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r),r.Rb(l.a),r.Rb(p.a),r.Rb(d.a),r.Rb(b.a),r.Rb(m.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor-checkout"]],decls:3,vars:2,consts:[[1,"checkedout-visitor-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],[1,"grey","text-capitalize"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["src","assets/images/checkout-icon.svg","width","20"],["popAddCheckOutContent",""],[1,"pop-desp"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rc(1,X,1,0,"app-loader",1),r.Rc(2,G,46,25,"div",2),r.Vb()),2&t&&(r.Cb(1),r.uc("ngIf",!e.isVisitorDataLoaded),r.Cb(1),r.uc("ngIf",e.isVisitorDataLoaded))},directives:[n.l,f.a,C.b,s.d,s.n,s.q,h.b,n.j,n.k,Y.a,q.c,o.e,o.d],pipes:[j.b,j.c,n.t,n.d],styles:[""]}),t})();function J(t,e){1&t&&r.Sb(0,"app-loader")}function tt(t,e){if(1&t&&(r.Wb(0,"div",31),r.Wb(1,"ul"),r.Wb(2,"li"),r.Wb(3,"h5"),r.Tc(4,"Visitor Count"),r.Vb(),r.Wb(5,"small"),r.Tc(6),r.Vb(),r.Vb(),r.Wb(7,"li"),r.Wb(8,"h5"),r.Tc(9,"Expected Duration"),r.Vb(),r.Wb(10,"small"),r.Tc(11),r.Vb(),r.Vb(),r.Vb(),r.Vb()),2&t){const t=r.mc().$implicit;r.Cb(6),r.Uc(t.expectedVisitorCount),r.Cb(5),r.Uc(t.expectedDuration)}}function et(t,e){1&t&&(r.Wb(0,"div",31),r.Wb(1,"h5"),r.Tc(2,"CheckIn"),r.Vb(),r.Vb())}const it=function(){return{exact:!0}};function nt(t,e){if(1&t&&(r.Wb(0,"tr"),r.Wb(1,"td",23),r.Wb(2,"a",24),r.Tc(3),r.Rc(4,tt,12,2,"ng-template",null,25,r.Sc),r.Vb(),r.Vb(),r.Wb(6,"td",26),r.Tc(7),r.Vb(),r.Wb(8,"td",26),r.Tc(9),r.Vb(),r.Wb(10,"td",26),r.Tc(11),r.Vb(),r.Wb(12,"td",26),r.Tc(13),r.Vb(),r.Wb(14,"td",26),r.Tc(15),r.Vb(),r.Wb(16,"td",27),r.Tc(17),r.Vb(),r.Wb(18,"td",27),r.Tc(19),r.Vb(),r.Wb(20,"td"),r.Wb(21,"a",28),r.Sb(22,"img",29),r.Vb(),r.Rc(23,et,3,0,"ng-template",null,30,r.Sc),r.Vb(),r.Vb()),2&t){const t=e.$implicit,i=r.Hc(5),n=r.Hc(24),o=r.mc(2);r.Cb(2),r.uc("ngbPopover",i),r.Cb(1),r.Vc("",t.expectedVisitorName," "),r.Cb(4),r.Uc(t.expectedVisitorPhone),r.Cb(2),r.Uc(o.getTimeFormat(t.expectedVisitorInTime)),r.Cb(2),r.Uc(o.getTimeFormat(t.expectedVisitorOutTime)),r.Cb(2),r.Uc(t.visitTypeName),r.Cb(2),r.Uc(t.visitCategoryName),r.Cb(2),r.Uc(t.blockNo),r.Cb(2),r.Uc(t.blockUnitNo),r.Cb(2),r.wc("routerLink","/ams/visitor/edit-visitor/",t.expectedVisitorId,"/checkin"),r.uc("ngbPopover",n)("routerLinkActiveOptions",r.Ac(12,it))}}const ot=function(){return{data:"admin"}};function rt(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",3),r.Wb(1,"div",4),r.Wb(2,"div",5),r.Wb(3,"h5"),r.Tc(4,"All Expected Visitors "),r.Wb(5,"span",6),r.Tc(6),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"ul",7),r.Wb(8,"li",8),r.Sb(9,"i",9),r.Wb(10,"input",10),r.ic("ngModelChange",(function(e){return r.Kc(t),r.mc().visitorData=e})),r.Vb(),r.Vb(),r.Wb(11,"li",11),r.Wb(12,"a",12),r.Sb(13,"i-feather",13),r.Wb(14,"span"),r.Tc(15,"Print"),r.Vb(),r.Vb(),r.Vb(),r.Wb(16,"li",11),r.Wb(17,"a",14),r.Sb(18,"i-feather",15),r.Wb(19,"span"),r.Tc(20,"Add Visitor"),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Vb(),r.Wb(21,"div",16),r.Wb(22,"table",17),r.Wb(23,"thead"),r.Wb(24,"tr"),r.Wb(25,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorName")})),r.Tc(26,"Visitor Name"),r.Sb(27,"span",19),r.Vb(),r.Wb(28,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorPhone")})),r.Tc(29,"Phone Number"),r.Sb(30,"span",19),r.Vb(),r.Wb(31,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorInTime")})),r.Tc(32,"Expected in Date/Time"),r.Sb(33,"span",19),r.Vb(),r.Wb(34,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorOutTime")})),r.Tc(35,"Expected out Date/Time"),r.Sb(36,"span",19),r.Vb(),r.Wb(37,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorOutTime")})),r.Tc(38,"Visitor Type"),r.Sb(39,"span",19),r.Vb(),r.Wb(40,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("visitorOutTime")})),r.Tc(41,"Visitor category"),r.Sb(42,"span",19),r.Vb(),r.Wb(43,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("blockNo")})),r.Tc(44,"Block No"),r.Sb(45,"span",19),r.Vb(),r.Wb(46,"th",18),r.ic("click",(function(){return r.Kc(t),r.mc().sortUnitData("blockUnitNo")})),r.Tc(47,"Unit No"),r.Sb(48,"span",19),r.Vb(),r.Wb(49,"th",20),r.Tc(50,"Action"),r.Vb(),r.Vb(),r.Vb(),r.Wb(51,"tbody"),r.Rc(52,nt,25,13,"tr",21),r.nc(53,"orderBy"),r.nc(54,"simpleSearch"),r.nc(55,"slice"),r.Vb(),r.Vb(),r.Wb(56,"app-pagination",22),r.ic("outputParams",(function(e){return r.Kc(t),r.mc().getIndexParams(e)})),r.Vb(),r.Vb(),r.Vb()}if(2&t){const t=r.mc();r.Cb(6),r.Uc(t.totalItems),r.Cb(4),r.uc("ngModel",t.visitorData),r.Cb(7),r.uc("routerLinkActiveOptions",r.Ac(29,it))("state",r.Ac(30,ot)),r.Cb(5),r.uc("ngClass",t.isMobileView()),r.Cb(5),r.uc("ngClass",t.getFieldOrderBy("visitorName")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorPhone")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorInTime")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorOutTime")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorType")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("visitorCategory")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("blockNo")),r.Cb(3),r.uc("ngClass",t.getFieldOrderBy("blockUnitNo")),r.Cb(4),r.uc("ngForOf",r.qc(53,18,r.pc(54,22,r.qc(55,25,t.visitorListData,t.ItemUserStartIndex,t.ItemUserEndIndex),t.visitorData),t.unitFieldType,t.unitOrder)),r.Cb(4),r.uc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}function st(t,e){1&t&&r.Sb(0,"app-loader")}const at=function(){return{exact:!0}};function ct(t,e){if(1&t&&(r.Wb(0,"div",5),r.Wb(1,"div",6),r.Wb(2,"a",7),r.Wb(3,"div",8),r.Wb(4,"h6"),r.Tc(5),r.Vb(),r.Wb(6,"p"),r.Tc(7),r.Vb(),r.Vb(),r.Vb(),r.Sb(8,"div",9),r.Vb(),r.Vb()),2&t){const t=e.$implicit;r.Cb(2),r.xc("routerLink","",t.menuName,"/",t.lookupValueID,""),r.uc("routerLinkActiveOptions",r.Ac(5,at)),r.Cb(3),r.Uc(t.lookupValueName),r.Cb(2),r.Uc(t.description)}}function bt(t,e){if(1&t&&(r.Ub(0),r.Wb(1,"h5",2),r.Tc(2,"Helpdesk reports "),r.Vb(),r.Wb(3,"div",3),r.Rc(4,ct,9,6,"div",4),r.Vb(),r.Tb()),2&t){const t=r.mc();r.Cb(4),r.uc("ngForOf",t.reportDataList)}}const dt=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:a},{path:"checkin",component:R},{path:"expected-visitor",component:(()=>{class t{constructor(t,e,i,n,o,r){this.injector=t,this.apartmentService=e,this.visitorService=i,this.lookupService=n,this.sharedService=o,this.cookieService=r,this.visitorData="",this.isVisitorDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.modalService=this.injector.get(F.a)}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex,this.itemLimit=t.itemLimit}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"desc":"asc":""}getBlockUnit(t){}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(t){this.modalService.showConfirmModal(t)}getTimeFormat(t){return g(t).format("YYYY-MM-DD HH:mm")}ngOnInit(){this.visitorService.getExpectedVisitorsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe(t=>{this.visitorListData=t.filter(t=>t.isActive),K.each(this.visitorListData,(t,e)=>{this.apartmentService.getApartmentBlockUnitById(t.apartmentUnitId).subscribe(t=>{this.visitorListData[e].blockNo=t[0].apartmentBlockNumber,this.visitorListData[e].blockUnitNo=t[0].apartmentBlockUnitNumber},t=>{})}),this.lookupService.getLookupValueByLookupTypeId(15).subscribe(t=>{this.visitTypeData=t,this.checkVisitTypeData()},t=>{}),this.lookupService.getLookupValueByLookupTypeId(8).subscribe(t=>{this.visitCategoryData=t,this.checkVisitCategoryData()},t=>{}),this.totalItems=this.visitorListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isVisitorDataLoaded=!0})}checkVisitTypeData(){this.visitTypeData.forEach(t=>{t.lookupValueId==this.visitorListData[0].visitTypeId&&(this.visitorListData[0].visitTypeName=t.lookupValueName.toLowerCase())})}checkVisitCategoryData(){console.log(this.visitorListData[0]),this.visitCategoryData.forEach(t=>{t.lookupValueId==this.visitorListData[0].visitorCategoryId&&(this.visitorListData[0].visitCategoryName=t.lookupValueName.toLowerCase())})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(r.r),r.Rb(l.a),r.Rb(p.a),r.Rb(d.a),r.Rb(b.a),r.Rb(m.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor-expected-visitor"]],decls:3,vars:2,consts:[[1,"expected-visitor-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/user/visitor/create-visitor","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions","state"],["name","plus",1,"icon","plus"],[1,"card-body","p-0","customScroll"],["mdbTable","","mdbTableScroll","","scrollX","true","maxWidth","400",1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],[1,"grey","text-capitalize"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["src","assets/images/checkin-icon.svg","width","20"],["popAddCheckInContent",""],[1,"pop-desp"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rc(1,J,1,0,"app-loader",1),r.Rc(2,rt,57,31,"div",2),r.Vb()),2&t&&(r.Cb(1),r.uc("ngIf",!e.isVisitorDataLoaded),r.Cb(1),r.uc("ngIf",e.isVisitorDataLoaded))},directives:[n.l,f.a,C.b,s.d,s.n,s.q,h.b,o.e,o.d,n.j,n.k,Y.a,q.c],pipes:[j.b,j.c,n.t],styles:[".customScroll[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.customScroll[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{overflow:hidden!important;text-overflow:ellipsis;white-space:nowrap}"]}),t})()},{path:"add-visitor",component:R},{path:"edit-visitor/:id/:type",component:R},{path:"checkout",component:Z},{path:"reports",component:(()=>{class t{constructor(t,e,i){this.lookupService=t,this.sharedService=e,this.cookieService=i,this.isDataLoaded=!1}ngOnInit(){let t={ApartmentId:parseInt(this.cookieService.get("apartmentId")),LookupTypeId:87,MenuName:"VisitorManagement"};this.lookupService.getLookupValuesByApartmentIdLookupTypeIdMenuName(t).subscribe(t=>{this.reportDataList=t,this.isDataLoaded=!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(d.a),r.Rb(b.a),r.Rb(m.a))},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor-reports"]],decls:3,vars:2,consts:[[1,"reports-wrapper"],[4,"ngIf"],[1,"mb-3"],[1,"row"],["class","col-sm-6 mb-20",4,"ngFor","ngForOf"],[1,"col-sm-6","mb-20"],[1,"card","report-card"],["href","javascript:void(0)","routerLinkActive","active",1,"t-no-decor",3,"routerLink","routerLinkActiveOptions"],[1,"card-header"],[1,"card-body"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rc(1,st,1,0,"app-loader",1),r.Rc(2,bt,5,1,"ng-container",1),r.Vb()),2&t&&(r.Cb(1),r.uc("ngIf",!e.isDataLoaded),r.Cb(1),r.uc("ngIf",e.isDataLoaded))},directives:[n.l,f.a,n.k,o.e,o.d],styles:[""]}),t})()},{path:"**",redirectTo:"settings",pathMatch:"full"}];let lt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[o.f.forChild(dt)],o.f]}),t})();var pt=i("PCNd");let ut=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Lb({type:t,selectors:[["app-visitor"]],decls:1,vars:0,template:function(t,e){1&t&&r.Sb(0,"router-outlet")},directives:[o.g],styles:[""]}),t})();i.d(e,"VisitorModule",(function(){return gt}));let gt=(()=>{class t{}return t.\u0275mod=r.Pb({type:t,bootstrap:[ut]}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[n.b,pt.a,lt]]}),t})()}}]);