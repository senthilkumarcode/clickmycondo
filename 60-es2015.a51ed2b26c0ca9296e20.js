(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{EPAP:function(t,e,i){"use strict";i.r(e);var r=i("ofXK"),o=i("tyNb"),n=i("fXoL"),s=i("NutR"),a=i("wbvY"),c=i("ThaB"),d=i("Yt4J"),b=i("S4bl"),l=i("b6Qw"),u=i("wlDI"),p=i("8mtn"),m=i("668k"),g=i("3Pt+"),h=i("BR9Y"),v=i("BniF");function V(t,e){1&t&&(n.Wb(0,"span"),n.Tc(1,"Create Visitor"),n.Vb())}function f(t,e){1&t&&(n.Wb(0,"span"),n.Tc(1,"Edit Visitor"),n.Vb())}const x=function(){return{exact:!0}};function C(t,e){1&t&&(n.Wb(0,"div",9),n.Wb(1,"a",10),n.Sb(2,"i-feather",11),n.Vb(),n.Vb()),2&t&&(n.Cb(1),n.uc("routerLinkActiveOptions",n.Ac(1,x)))}function I(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",12),n.ic("click",(function(){return n.Kc(t),n.mc().deleteVisitor()})),n.Sb(1,"i-feather",13),n.Vb()}}function y(t,e){1&t&&n.Sb(0,"app-loader")}function W(t,e){if(1&t&&(n.Wb(0,"option",36),n.Tc(1),n.Vb()),2&t){const t=e.$implicit;n.uc("value",t.lookupValueId),n.Cb(1),n.Uc(t.lookupValueName)}}function M(t,e){if(1&t){const t=n.Xb();n.Ub(0),n.Wb(1,"form",14,15),n.ic("ngSubmit",(function(){n.Kc(t);const e=n.Hc(2);return n.mc().submitAddVisitorForm(e)})),n.Wb(3,"div",16),n.Wb(4,"div",17),n.Wb(5,"div",18),n.Wb(6,"label"),n.Tc(7,"Visitor Name*"),n.Vb(),n.Wb(8,"input",19),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedVisitorName=e})),n.Vb(),n.Vb(),n.Vb(),n.Wb(9,"div",17),n.Wb(10,"div",18),n.Wb(11,"label"),n.Tc(12,"Visitor Count*"),n.Vb(),n.Wb(13,"input",20),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedVisitorCount=e})),n.Vb(),n.Vb(),n.Vb(),n.Wb(14,"div",17),n.Wb(15,"div",18),n.Wb(16,"label"),n.Tc(17,"Phone/Mobile*"),n.Vb(),n.Wb(18,"input",21),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedVisitorPhone=e})),n.Vb(),n.Vb(),n.Vb(),n.Wb(19,"div",17),n.Wb(20,"div",18),n.Wb(21,"label"),n.Tc(22,"Visitor In-time*"),n.Vb(),n.Wb(23,"input",22),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedVisitorInTime=e})),n.Vb(),n.Sb(24,"owl-date-time",null,23),n.Wb(26,"div",24),n.Sb(27,"i-feather",25),n.Vb(),n.Vb(),n.Vb(),n.Wb(28,"div",17),n.Wb(29,"div",18),n.Wb(30,"label"),n.Tc(31,"Visitor Out-time*"),n.Vb(),n.Wb(32,"input",26),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedVisitorOutTime=e})),n.Vb(),n.Sb(33,"owl-date-time",null,27),n.Wb(35,"div",24),n.Sb(36,"i-feather",25),n.Vb(),n.Vb(),n.Vb(),n.Wb(37,"div",17),n.Wb(38,"div",18),n.Wb(39,"label"),n.Tc(40,"Expected Duration*"),n.Vb(),n.Wb(41,"input",20),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitor.expectedDuration=e})),n.Vb(),n.Vb(),n.Vb(),n.Wb(42,"div",17),n.Wb(43,"div",28),n.Wb(44,"label"),n.Tc(45,"Visit Type*"),n.Vb(),n.Wb(46,"select",29),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitTypeId=e})),n.Wb(47,"option",30),n.Tc(48,"Select"),n.Vb(),n.Rc(49,W,2,2,"option",31),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(50,"div",16),n.Wb(51,"div",32),n.Wb(52,"ul",33),n.Wb(53,"li",34),n.Wb(54,"button",35),n.Tc(55,"Submit"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Tb()}if(2&t){const t=n.Hc(2),e=n.Hc(25),i=n.Hc(34),r=n.mc();n.Cb(8),n.uc("ngModel",r.visitor.expectedVisitorName),n.Cb(5),n.uc("ngModel",r.visitor.expectedVisitorCount),n.Cb(5),n.uc("ngModel",r.visitor.expectedVisitorPhone),n.Cb(5),n.uc("owlDateTime",e)("owlDateTimeTrigger",e)("ngModel",r.visitor.expectedVisitorInTime),n.Cb(3),n.uc("owlDateTimeTrigger",e),n.Cb(6),n.uc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",r.visitor.expectedVisitorOutTime),n.Cb(3),n.uc("owlDateTimeTrigger",i),n.Cb(6),n.uc("ngModel",r.visitor.expectedDuration),n.Cb(5),n.uc("ngModel",r.visitTypeId),n.Cb(3),n.uc("ngForOf",r.visitByData),n.Cb(5),n.uc("disabled",t.invalid)}}let O=(()=>{class t{constructor(t,e,i,r,o,s,a,c){this.router=t,this.route=e,this.userService=i,this.apartmentService=r,this.visitorService=o,this.lookupService=s,this.sharedService=a,this.cookieService=c,this.isEditVisitor=!1,this.isVisitorSubmitted=!1,this.isError=!1,this.errorMessage="",this.visitTypeId="",this.outputParams=new n.n}isArrayOne(){return this.visitorArray.length>1}deleteVisitor(){this.visitorArray.splice(this.index,1),this.outputParams.emit(this.visitorArray)}submitAddVisitorForm(t){if(this.isVisitorSubmitted=!0,this.isError=!1,this.isEditVisitor){let t={expectedVisitorId:this.route.params.value.id,apartmentUnitId:this.apartmentUnitId,apartmentId:parseInt(this.cookieService.get("apartmentId")),expectedVisitorName:this.visitor.expectedVisitorName,expectedVisitorCount:this.visitor.expectedVisitorCount,expectedVisitorPhone:this.visitor.expectedVisitorPhone.toString(),expectedVisitorInTime:this.visitor.expectedVisitorInTime,expectedVisitorOutTime:this.visitor.expectedVisitorOutTime,expectedDuration:this.visitor.expectedDuration,meetingPersonId:1,visitTypeId:parseInt(this.visitTypeId),expectedVisitorsOrg:"string",entryGateId:null,exitGateId:null,purpose:"string",enteredBy:parseInt(this.cookieService.get("userId")),isActive:!0,insertedBy:0,insertedOn:"2019-11-18T15:27:41.030Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-18T15:27:41.030Z"};this.visitorService.updateExpectedVisitor(t).subscribe(t=>{t.message?(this.isVisitorSubmitted=!0,this.sharedService.setAlertMessage("Visitor updated successfully"),this.router.navigate(["user/visitor/my-visitor"])):(this.isVisitorSubmitted=!1,this.isError=!0,this.errorMessage=t.errorMessage)},t=>{this.isVisitorSubmitted=!1,this.isError=!0,this.errorMessage=t})}else{let t={apartmentUnitId:this.apartmentUnitId,apartmentId:parseInt(this.cookieService.get("apartmentId")),expectedVisitorName:this.visitor.expectedVisitorName,expectedVisitorCount:this.visitor.expectedVisitorCount,expectedVisitorPhone:this.visitor.expectedVisitorPhone.toString(),expectedVisitorInTime:this.visitor.expectedVisitorInTime,expectedVisitorOutTime:this.visitor.expectedVisitorOutTime,expectedDuration:this.visitor.expectedDuration,meetingPersonId:1,visitTypeId:parseInt(this.visitTypeId),expectedVisitorsOrg:"string",entryGateId:null,exitGateId:null,purpose:"string",enteredBy:parseInt(this.cookieService.get("userId")),isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-18T15:27:41.030Z",updatedBy:0,updatedOn:"2019-11-18T15:27:41.030Z"};this.visitorService.addExpectedVisitor(t).subscribe(t=>{t.message?(this.isVisitorSubmitted=!0,this.sharedService.setAlertMessage("Visitor added successfully"),this.router.navigate(["user/visitor/my-visitor"])):(this.isVisitorSubmitted=!1,this.isError=!0,this.errorMessage=t.errorMessage)},t=>{this.isVisitorSubmitted=!1,this.isError=!0,this.errorMessage=t})}}ngOnInit(){this.visitor={},null!=this.route.params.value.id&&(this.isEditVisitor=!0),null!=this.route.params.value.id&&(this.isEditVisitor=!0,this.visitorService.getExpectedVisitorById(this.route.params.value.id).subscribe(t=>{this.visitor=t[0],this.visitTypeId=this.visitor.visitTypeId},t=>{})),this.lookupService.getLookupValueByLookupTypeId(15).subscribe(t=>{this.visitByData=t},t=>{}),this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe(t=>{this.apartmentUnitId=t[0].apartmentBlockUnitId},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(o.c),n.Rb(o.a),n.Rb(s.a),n.Rb(d.a),n.Rb(b.a),n.Rb(c.a),n.Rb(a.a),n.Rb(l.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-add-visitor"]],inputs:{index:"index",visitorArray:["array","visitorArray"]},outputs:{outputParams:"outputParams"},decls:13,vars:8,consts:[[1,"add-visitor-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],["class","float-right",4,"ngIf"],["class","float-right",3,"click",4,"ngIf"],[1,"card-body"],[3,"message","isAlert"],[1,"float-right"],["href","javascript:void(0)","routerLink","/user/my-visitors","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],["name","addVisitorForm","novalidate","",3,"ngSubmit"],["addVisitorForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","visitorName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","visitorCount","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","phoneNo",1,"form-control",3,"ngModel","ngModelChange"],["name","visitorInTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["visitorInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["name","visitorOutTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["visitorOutTime",""],[1,"input-box","radio-box"],["name","visitBy","id","visitBy","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"div",2),n.Wb(3,"div",3),n.Wb(4,"h5"),n.Rc(5,V,2,0,"span",4),n.Rc(6,f,2,0,"span",4),n.Vb(),n.Vb(),n.Rc(7,C,3,2,"div",5),n.Rc(8,I,2,0,"div",6),n.Vb(),n.Wb(9,"div",7),n.Sb(10,"app-alert-message",8),n.Rc(11,y,1,0,"app-loader",4),n.Rc(12,M,56,15,"ng-container",4),n.Vb(),n.Vb(),n.Vb()),2&t&&(n.Cb(5),n.uc("ngIf",!e.isEditVisitor),n.Cb(1),n.uc("ngIf",e.isEditVisitor),n.Cb(1),n.uc("ngIf",!e.isArrayOne()),n.Cb(1),n.uc("ngIf",e.isArrayOne()&&!e.isEditVisitor),n.Cb(2),n.uc("message",e.errorMessage)("isAlert",e.isError),n.Cb(1),n.uc("ngIf",e.isVisitorSubmitted),n.Cb(1),n.uc("ngIf",!e.isVisitorSubmitted))},directives:[r.l,u.a,o.e,o.d,p.b,m.a,g.B,g.o,g.p,h.a,g.d,g.x,g.n,g.q,g.s,h.b,v.c,v.e,v.b,g.y,g.r,g.A,r.k],styles:[""]}),t})();function T(t,e){if(1&t){const t=n.Xb();n.Ub(0),n.Wb(1,"app-add-visitor",2),n.ic("outputParams",(function(e){return n.Kc(t),n.mc().getVisitorArray(e)})),n.Vb(),n.Tb()}if(2&t){const t=e.index,i=n.mc();n.Cb(1),n.uc("index",t)("array",i.visitorArray)}}let w=(()=>{class t{constructor(t,e){this.router=t,this.route=e,this.visitorCount=1,this.isEditVisitor=!1}addVisitor(){this.visitorCount++,this.visitorArray=Array(this.visitorCount).fill(0).map((t,e)=>e)}getVisitorArray(t){this.visitorArray=t,this.visitorCount=this.visitorArray.length}isMobileView(){return window.innerWidth<=576}ngOnInit(){null!=this.route.params.value.id&&(this.isEditVisitor=!0),this.visitorArray=Array(this.visitorCount).fill(0).map((t,e)=>e)}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(o.c),n.Rb(o.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-create-visitor"]],decls:2,vars:1,consts:[[1,"create-visitor-wrapper"],[4,"ngFor","ngForOf"],[3,"index","array","outputParams"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Rc(1,T,2,2,"ng-container",1),n.Vb()),2&t&&(n.Cb(1),n.uc("ngForOf",e.visitorArray))},directives:[r.k,O],styles:[""]}),t})();var P=i("JK/P"),S=i("F/us"),k=i("NhFE");function D(t,e){if(1&t){const t=n.Xb();n.Wb(0,"a",10),n.ic("click",(function(){n.Kc(t);const i=e.$implicit;return n.mc(2).sendFilterParams(i.lookupValueName)})),n.Tc(1),n.Vb()}if(2&t){const t=e.$implicit;n.Cb(1),n.Uc(t.lookupValueName)}}function _(t,e){if(1&t){const t=n.Xb();n.Ub(0),n.Wb(1,"div",2),n.Wb(2,"a",3),n.ic("click",(function(){n.Kc(t);const i=e.index;return n.mc().getSelectedMenu(i)})),n.Wb(3,"span"),n.Tc(4),n.Vb(),n.Wb(5,"div",4),n.Sb(6,"i",5),n.Vb(),n.Vb(),n.Wb(7,"div",6),n.Rc(8,D,2,1,"a",7),n.Wb(9,"a",8),n.ic("click",(function(){return n.Kc(t),n.mc().clearFilter()})),n.Sb(10,"i",9),n.Tc(11,"Clear Filter "),n.Vb(),n.Vb(),n.Vb(),n.Tb()}if(2&t){const t=e.$implicit,i=e.index,r=n.mc();n.Cb(2),n.wc("id","",i,"DropDown"),n.uc("ngClass",r.isSelectedMenu(i)),n.Cb(2),n.Uc(t.label),n.Cb(3),n.Db("aria-labelledby",i+"Dropdown"),n.Cb(1),n.uc("ngForOf",t.data)}}let A=(()=>{class t{constructor(){this.selectedMenu=-1,this.outputParams=new n.n}getSelectedMenu(t){this.selectedMenu=this.selectedMenu!=t?t:-1}onDocumentClick(t){}isSelectedMenu(t){return this.selectedMenu==t?"active":""}sendFilterParams(t){this.selectedParams.push(t),this.outputParams.emit(t)}clearFilter(){}isFilterAvailable(){}ngOnInit(){}ngOnChanges(t){console.log(this.totalItems)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["app-filter-box"]],hostBindings:function(t,e){1&t&&n.ic("click",(function(t){return e.onDocumentClick(t)}),!1,n.Ic)},inputs:{totalItems:"totalItems"},outputs:{outputParams:"outputParams"},features:[n.Ab],decls:4,vars:1,consts:[[1,"card-body"],[4,"ngFor","ngForOf"],[1,"dropdown"],["href","#","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"dropdown-toggle",3,"id","ngClass","click"],[1,"arrow"],["aria-hidden","true",1,"fa","fa-angle-down"],[1,"dropdown-menu"],["href","javascript:void(0)",3,"click",4,"ngFor","ngForOf"],["href","javascript:void(0)",1,"clear-filter",3,"click"],["aria-hidden","true",1,"fa","fa-undo","mr-2"],["href","javascript:void(0)",3,"click"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Wb(1,"h5"),n.Tc(2,"Filter By"),n.Vb(),n.Rc(3,_,12,5,"ng-container",1),n.Vb()),2&t&&(n.Cb(3),n.uc("ngForOf",e.totalItems))},directives:[r.k,r.j],styles:[".filter-box[_ngcontent-%COMP%]{border-bottom:1px solid #eaeaea;padding:15px 20px}.filter-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{display:inline-block;font-size:1.6rem;color:#8391a1;margin:0 20px 0 0}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{display:inline-block;margin:0 18px 0 0;padding:0;min-width:150px!important}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{color:#585858;font-family:Lato,sans-serif;font-weight:400;letter-spacing:.3px;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;font-size:1.4rem;display:block;padding:4px 0 4px 14px;border:1px solid #eaeaea;border-radius:4px!important;box-shadow:0 1px 1px rgba(0,0,0,.05);-moz-box-shadow:0 1px 1px rgba(0,0,0,.05);-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05)}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:4px;right:14px;color:#585858}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle.active[_ngcontent-%COMP%]{text-decoration:none;background-color:#e6e6e6;border:1px solid #e6e6e6;box-shadow:none;-moz-box-shadow:none;-webkit-box-shadow:none;transition:all .15s ease}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle.active[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{transition:all .15s ease}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:hover{text-decoration:none}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{content:none}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{border:1px solid #eaeaea;padding:0;min-width:150px!important;max-width:150px!important;box-shadow:0 1px 1px rgba(0,0,0,.05);-moz-box-shadow:0 1px 1px rgba(0,0,0,.05);-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);border-radius:4px!important}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#585858;padding:6px 14px;transition:all .15s ease}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f5f5f5;transition:all .15s ease}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eaeaea}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a.clear-filter[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:700;letter-spacing:.3px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility;text-align:center}.filter-box[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   a.clear-filter[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}"]}),t})();var L=i("1kSV"),F=i("bvAq");function U(t,e){1&t&&n.Sb(0,"app-loader")}function E(t,e){if(1&t){const t=n.Xb();n.Wb(0,"app-filter-box",24),n.ic("outputParams",(function(e){return n.Kc(t),n.mc(2).getFilterData(e)})),n.Vb()}if(2&t){const t=n.mc(2);n.uc("totalItems",t.totalFilterItems)}}function B(t,e){if(1&t&&(n.Wb(0,"div",34),n.Wb(1,"ul"),n.Wb(2,"li"),n.Wb(3,"h5"),n.Tc(4,"Visitor Count"),n.Vb(),n.Wb(5,"small"),n.Tc(6),n.Vb(),n.Vb(),n.Wb(7,"li"),n.Wb(8,"h5"),n.Tc(9,"Expected Duration"),n.Vb(),n.Wb(10,"small"),n.Tc(11),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&t){const t=n.mc().$implicit;n.Cb(6),n.Uc(t.expectedVisitorCount),n.Cb(5),n.Uc(t.expectedDuration)}}const R=function(){return{exact:!0}};function K(t,e){if(1&t){const t=n.Xb();n.Wb(0,"tr"),n.Wb(1,"td",25),n.Wb(2,"a",26),n.Tc(3),n.Vb(),n.Rc(4,B,12,2,"ng-template",null,27,n.Sc),n.Vb(),n.Wb(6,"td",28),n.Tc(7),n.Vb(),n.Wb(8,"td",28),n.Tc(9),n.Vb(),n.Wb(10,"td",28),n.Tc(11),n.Vb(),n.Wb(12,"td",29),n.Tc(13),n.Vb(),n.Wb(14,"td"),n.Wb(15,"a",30),n.Sb(16,"i-feather",31),n.Vb(),n.Wb(17,"a",32),n.ic("click",(function(){n.Kc(t);const i=e.index;return n.mc(2).showConfirmModal(i)})),n.Sb(18,"i-feather",33),n.Vb(),n.Vb(),n.Vb()}if(2&t){const t=e.$implicit,i=n.Hc(5),r=n.mc(2);n.Cb(2),n.uc("ngbPopover",i),n.Cb(1),n.Vc(" ",t.expectedVisitorName,""),n.Cb(4),n.Uc(t.expectedVisitorPhone),n.Cb(2),n.Uc(t.expectedVisitorInTime),n.Cb(2),n.Uc(t.expectedVisitorOutTime),n.Cb(2),n.Uc(r.getVisitType(t.visitTypeId)),n.Cb(2),n.wc("routerLink","/user/visitor/edit-visitor/",t.expectedVisitorId,""),n.uc("routerLinkActiveOptions",n.Ac(8,R))}}function N(t,e){if(1&t){const t=n.Xb();n.Wb(0,"div",3),n.Wb(1,"div",4),n.Wb(2,"div",5),n.Wb(3,"h5"),n.Tc(4,"All Visitors "),n.Wb(5,"span",6),n.Tc(6),n.Vb(),n.Vb(),n.Vb(),n.Wb(7,"ul",7),n.Wb(8,"li",8),n.Sb(9,"i",9),n.Wb(10,"input",10),n.ic("ngModelChange",(function(e){return n.Kc(t),n.mc().visitorData=e})),n.Vb(),n.Vb(),n.Wb(11,"li",11),n.Wb(12,"a",12),n.Sb(13,"i-feather",13),n.Wb(14,"span"),n.Tc(15,"Print"),n.Vb(),n.Vb(),n.Vb(),n.Wb(16,"li",11),n.Wb(17,"a",14),n.Sb(18,"i-feather",15),n.Wb(19,"span"),n.Tc(20,"Add Visitor"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Rc(21,E,1,1,"app-filter-box",16),n.Wb(22,"div",17),n.Wb(23,"table",18),n.Wb(24,"thead"),n.Wb(25,"tr"),n.Wb(26,"th",19),n.ic("click",(function(){return n.Kc(t),n.mc().sortUnitData("name")})),n.Tc(27,"Visitor Name "),n.Sb(28,"span",20),n.Vb(),n.Wb(29,"th",19),n.ic("click",(function(){return n.Kc(t),n.mc().sortUnitData("phone")})),n.Tc(30,"Phone Number "),n.Sb(31,"span",20),n.Vb(),n.Wb(32,"th",19),n.ic("click",(function(){return n.Kc(t),n.mc().sortUnitData("intime")})),n.Tc(33,"In-time "),n.Sb(34,"span",20),n.Vb(),n.Wb(35,"th",19),n.ic("click",(function(){return n.Kc(t),n.mc().sortUnitData("outtime")})),n.Tc(36,"Out-time "),n.Sb(37,"span",20),n.Vb(),n.Wb(38,"th",19),n.ic("click",(function(){return n.Kc(t),n.mc().sortUnitData("type")})),n.Tc(39,"Visit Type "),n.Sb(40,"span",20),n.Vb(),n.Wb(41,"th",21),n.Tc(42,"Action"),n.Vb(),n.Vb(),n.Vb(),n.Wb(43,"tbody"),n.Rc(44,K,19,9,"tr",22),n.nc(45,"simpleSearch"),n.nc(46,"slice"),n.nc(47,"orderBy"),n.Vb(),n.Vb(),n.Wb(48,"app-pagination",23),n.ic("outputParams",(function(e){return n.Kc(t),n.mc().getIndexParams(e)})),n.Vb(),n.Vb(),n.Vb()}if(2&t){const t=n.mc();n.Cb(6),n.Uc(t.totalItems),n.Cb(4),n.uc("ngModel",t.visitorData),n.Cb(7),n.uc("routerLinkActiveOptions",n.Ac(26,R)),n.Cb(4),n.uc("ngIf",t.isVisitorDataLoaded),n.Cb(2),n.uc("ngClass",t.isMobileView()),n.Cb(5),n.uc("ngClass",t.getFieldOrderBy("name")),n.Cb(3),n.uc("ngClass",t.getFieldOrderBy("phone")),n.Cb(3),n.uc("ngClass",t.getFieldOrderBy("intime")),n.Cb(3),n.uc("ngClass",t.getFieldOrderBy("outtime")),n.Cb(3),n.uc("ngClass",t.getFieldOrderBy("type")),n.Cb(4),n.uc("ngForOf",n.pc(45,15,n.qc(46,18,n.qc(47,22,t.visitorListData,t.unitFieldType,t.unitOrder),t.ItemUserStartIndex,t.ItemUserEndIndex),t.visitorData)),n.Cb(4),n.uc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit)}}const j=[{path:"",redirectTo:"my-visitor",pathMatch:"full"},{path:"my-visitor",component:(()=>{class t{constructor(t,e,i,r,o,n){this.injector=t,this.apartmentService=e,this.visitorService=i,this.lookupService=r,this.sharedService=o,this.cookieService=n,this.visitorData="",this.isVisitorDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!1,this.ItemStartIndex=0,this.itemLimit=20,this.modalService=this.injector.get(P.a)}getIndexParams(t){this.ItemStartIndex=t.ItemStartIndex,this.ItemEndIndex=t.ItemEndIndex}sortUnitData(t){this.unitFieldType=t,this.unitOrder=!this.unitOrder}getFieldOrderBy(t){return this.unitFieldType==t?this.unitOrder?"desc":"asc":""}getVisitType(t){var e=S.filter(this.visitTypeData,(function(e){if(e.lookupValueId===t)return e}));return void 0===e||0==e.length?"":e[0].lookupValueName.toLowerCase()}isMobileView(){return window.innerWidth<=767?"table-responsive":""}showConfirmModal(t){this.modalService.showConfirmModal(t)}ngOnInit(){this.apartmentService.getApartmentBlockUnitByUserId(parseInt(this.cookieService.get("userId"))).subscribe(t=>{this.apartmentUnitId=t[0].apartmentBlockUnitId,console.log(this.apartmentUnitId),this.visitorService.getExpectedVisitorsByApartmentUnitId(this.apartmentUnitId).subscribe(t=>{this.visitorListData=t.filter(t=>t.isActive),console.log(t),this.totalItems=this.visitorListData.length,this.ItemEndIndex=this.totalItems>this.itemLimit?this.itemLimit:this.totalItems,this.isVisitorDataLoaded=!0},t=>{})},t=>{}),this.lookupService.getLookupValueByLookupTypeId(15).subscribe(t=>{this.visitTypeData=t},t=>{}),this.sharedService.unitlistdeleteindexcast.subscribe(t=>{if(null!=t){var e={expectedVisitorId:this.visitorListData[t].expectedVisitorId,deleteBy:parseInt(this.cookieService.get("userId"))};this.isVisitorDataLoaded=!1,this.visitorService.deleteExpectedVisitorById(e).subscribe(e=>{this.visitorListData.splice(t,1),this.totalItems=this.visitorListData.length,this.isVisitorDataLoaded=!0,this.sharedService.setUnitListDeleteIndex(null)},t=>{console.log(t)})}})}}return t.\u0275fac=function(e){return new(e||t)(n.Rb(n.r),n.Rb(d.a),n.Rb(b.a),n.Rb(c.a),n.Rb(a.a),n.Rb(l.a))},t.\u0275cmp=n.Lb({type:t,selectors:[["app-my-visitor"]],decls:3,vars:2,consts:[[1,"my-visitor-wrapper"],[4,"ngIf"],["class","card card-table",4,"ngIf"],[1,"card","card-table"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/user/visitor/create-visitor","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],["class","d-sm-block d-none",3,"totalItems","outputParams",4,"ngIf"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"d-sm-block","d-none",3,"totalItems","outputParams"],[1,"name"],["href","javascript:void(0)","placement","right","triggers","mouseenter:mouseleave",3,"ngbPopover"],["popContent",""],[1,"grey"],[1,"grey","text-capitalize"],["href","javascript:void(0)","routerLinkActive","active",1,"mr-2",3,"routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"pop-desp"]],template:function(t,e){1&t&&(n.Wb(0,"div",0),n.Rc(1,U,1,0,"app-loader",1),n.Rc(2,N,49,27,"div",2),n.Vb()),2&t&&(n.Cb(1),n.uc("ngIf",!e.isVisitorDataLoaded),n.Cb(1),n.uc("ngIf",e.isVisitorDataLoaded))},directives:[r.l,m.a,h.c,h.a,g.d,g.n,g.q,p.b,o.e,o.d,r.j,r.k,k.a,A,L.c],pipes:[F.c,r.t,F.b],styles:[""]}),t})()},{path:"create-visitor",component:w},{path:"edit-visitor/:id",component:w},{path:"**",redirectTo:"my-visitor",pathMatch:"full"}];let z=(()=>{class t{}return t.\u0275mod=n.Pb({type:t}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},imports:[[o.f.forChild(j)],o.f]}),t})();var X=i("PCNd");let q=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Lb({type:t,selectors:[["app-user-visitor"]],decls:1,vars:0,template:function(t,e){1&t&&n.Sb(0,"router-outlet")},directives:[o.g],styles:[""]}),t})();i.d(e,"UserVisitorModule",(function(){return $}));let $=(()=>{class t{}return t.\u0275mod=n.Pb({type:t,bootstrap:[q]}),t.\u0275inj=n.Ob({factory:function(e){return new(e||t)},imports:[[r.b,X.a,z]]}),t})()}}]);