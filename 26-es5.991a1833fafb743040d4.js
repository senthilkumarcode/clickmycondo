function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{NhFE:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("fXoL"),i=a("ofXK");function c(e,t){if(1&e){var a=n.cc();n.bc(0,"a",14),n.nc("click",(function(){n.Pc(a);var e=t.$implicit;return n.rc(2).selectPageItem(e.name)})),n.Yc(1),n.ac()}if(2&e){var i=t.$implicit,c=n.rc(2);n.zc("ngClass",c.isSelected(i.name)),n.Hb(1),n.Zc(i.name)}}function r(e,t){if(1&e&&(n.bc(0,"div",12),n.Wc(1,c,2,2,"a",13),n.ac()),2&e){var a=n.rc();n.Hb(1),n.zc("ngForOf",a.pageRowsDataList)}}function o(e,t){if(1&e){var a=n.cc();n.bc(0,"li",15),n.bc(1,"a",16),n.nc("click",(function(){n.Pc(a);var e=n.rc();return e.gotoPageNum(e.itemPageIndex-1)})),n.Xb(2,"i",17),n.ac(),n.ac()}}function s(e,t){if(1&e){var a=n.cc();n.bc(0,"li",15),n.bc(1,"a",14),n.nc("click",(function(){n.Pc(a);var e=n.rc().$implicit;return n.rc().gotoPageNum(e)})),n.Yc(2),n.ac(),n.ac()}if(2&e){var i=n.rc().$implicit,c=n.rc();n.Hb(1),n.zc("ngClass",c.isPageNumActive(i)),n.Hb(1),n.Zc(i)}}function l(e,t){1&e&&(n.bc(0,"li",15),n.bc(1,"a",18),n.Yc(2,"..."),n.ac(),n.ac())}function d(e,t){if(1&e&&(n.Zb(0),n.Wc(1,s,3,2,"li",10),n.Wc(2,l,3,0,"li",10),n.Yb()),2&e){var a=t.$implicit;n.Hb(1),n.zc("ngIf",0!=a),n.Hb(1),n.zc("ngIf",0==a)}}function f(e,t){if(1&e){var a=n.cc();n.bc(0,"li",15),n.bc(1,"a",19),n.nc("click",(function(){n.Pc(a);var e=n.rc();return e.gotoPageNum(e.itemPageIndex+1)})),n.Xb(2,"i",20),n.ac(),n.ac()}}var u=function(){var e=function(){function e(t,a){_classCallCheck(this,e),this.element=t,this.renderer=a,this.itemPageIndex=1,this.visiblePageNum=7,this.isPageRowSelected=!1,this.outputParams=new n.o}return _createClass(e,[{key:"isPageNumActive",value:function(e){return this.itemPageIndex==e?"active":""}},{key:"getPageList",value:function(e,t,a){var n=a<9?1:2,i=a-2*n-3>>1,c=a-2*n-2>>1;return e<=a?this.range(1,e):t<=a-n-1-c?this.range(1,a-n-1).concat([0]).concat(this.range(e-n+1,e)):t>=e-n-1-c?this.range(1,n).concat([0]).concat(this.range(e-n-1-c-i,e)):this.range(1,n).concat([0]).concat(this.range(t-i,t+c)).concat([0]).concat(this.range(e-n+1,e))}},{key:"range",value:function(e,t){return Array.from(Array(t-e+1),(function(t,a){return a+e}))}},{key:"gotoPageNum",value:function(e){this.itemPageIndex=e,this.ItemStartIndex=e>1?this.itemLimit*e-this.itemLimit:0,this.ItemEndIndex=this.itemLimit*e,this.ItemEndIndex>this.totalItems&&(this.ItemEndIndex=this.totalItems),this.outputParams.emit({ItemStartIndex:this.ItemStartIndex,ItemEndIndex:this.ItemEndIndex,itemLimit:this.itemLimit})}},{key:"showPageList",value:function(){this.isPageRowSelected=!0}},{key:"selectPageItem",value:function(e){this.itemLimit=parseInt(e),this.isPageRowSelected=!1,this.gotoPageNum(1)}},{key:"isSelected",value:function(e){return this.itemLimit==parseInt(e)?"selected":""}},{key:"ngOnInit",value:function(){this.pageRowsDataList=[{id:1,name:"10"},{id:2,name:"20"},{id:3,name:"30"},{id:4,name:"50"}]}},{key:"onDocumentClick",value:function(e){this.element.nativeElement.querySelector(".page-select-wrapper").contains(e.target)||(this.isPageRowSelected=!1)}},{key:"ngOnChanges",value:function(e){this.ItemStartIndex=this.itemPageIndex>1?this.itemLimit*this.itemPageIndex-this.itemLimit:0,this.totalItems<this.itemLimit?(this.totalPages=1,this.ItemEndIndex=this.totalItems):(this.totalPages=Math.floor(this.totalItems/this.itemLimit),this.totalItems%this.itemLimit>0&&(this.totalPages=this.totalPages+1)),this.pageItemArray=this.getPageList(this.totalPages,this.itemPageIndex,this.visiblePageNum)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(n.Wb(n.m),n.Wb(n.I))},e.\u0275cmp=n.Qb({type:e,selectors:[["app-pagination"]],hostBindings:function(e,t){1&e&&n.nc("click",(function(e){return t.onDocumentClick(e)}),!1,n.Nc)},inputs:{ItemStartIndex:"ItemStartIndex",ItemEndIndex:"ItemEndIndex",itemLimit:"itemLimit",totalItems:"totalItems"},outputs:{outputParams:"outputParams"},features:[n.Fb],decls:16,vars:7,consts:[[1,"pagination-wrapper"],[1,"row"],[1,"col-sm-12"],[1,"pagination","ov"],[1,"left","d-none","d-md-block"],[1,"page-select-wrapper"],[1,"page-item-select",3,"click"],["class","page-item-list",4,"ngIf"],[1,"right","page-numbers"],[1,"list-inline","float-right"],["class","list-inline-item",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"page-item-list"],["href","javascript:void(0)",3,"ngClass","click",4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"ngClass","click"],[1,"list-inline-item"],["href","javascript:void(0)",1,"prev",3,"click"],["aria-hidden","true",1,"fa","fa-angle-left"],["href","javascript:void(0)",1,"holder"],["href","javascript:void(0)",1,"next",3,"click"],["aria-hidden","true",1,"fa","fa-angle-right"]],template:function(e,t){1&e&&(n.bc(0,"div",0),n.bc(1,"div",1),n.bc(2,"div",2),n.bc(3,"div",3),n.bc(4,"div",4),n.Yc(5," Showing "),n.bc(6,"div",5),n.bc(7,"div",6),n.nc("click",(function(){return t.showPageList()})),n.Yc(8),n.ac(),n.Wc(9,r,2,1,"div",7),n.ac(),n.Yc(10),n.ac(),n.bc(11,"div",8),n.bc(12,"ul",9),n.Wc(13,o,3,0,"li",10),n.Wc(14,d,3,2,"ng-container",11),n.Wc(15,f,3,0,"li",10),n.ac(),n.ac(),n.ac(),n.ac(),n.ac(),n.ac()),2&e&&(n.Hb(8),n.bd("",t.ItemStartIndex+1," to ",t.ItemEndIndex,""),n.Hb(1),n.zc("ngIf",t.isPageRowSelected),n.Hb(1),n.ad(" ",t.totalItems," of results "),n.Hb(3),n.zc("ngIf",1!=t.itemPageIndex),n.Hb(1),n.zc("ngForOf",t.pageItemArray),n.Hb(1),n.zc("ngIf",t.itemPageIndex!=t.totalPages))},directives:[i.l,i.k,i.j],styles:[".pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{display:inline-block;width:100%!important;font-family:Montserrat,sans-serif;font-weight:500;letter-spacing:.2px;font-size:1.3rem;padding:20px!important;overflow:hidden;border-top:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#8391a1;float:left;padding:0 16px 0 0;position:relative;top:7px}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{color:#8391a1}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{padding:0 0 20px}}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{float:left}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{color:#8391a1;padding:6px 12px;margin:0 4px;cursor:pointer}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-select[_ngcontent-%COMP%]{border:1px solid #eaeaea;border-radius:3px!important;box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-moz-box-shadow:0 1px 4px 0 rgba(25,28,30,.1);-webkit-box-shadow:0 1px 4px 0 rgba(25,28,30,.1)}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]{position:absolute;margin:3px 4px 0}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#8391a1;border-bottom:1px solid #eaeaea;padding:4px 12px;display:block;text-decoration:none;width:150px;background-color:#fff}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-select-wrapper[_ngcontent-%COMP%]   .page-item-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#f3f5f7}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:right}@media (max-width:767px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]{float:none;width:100%!important;display:flex;justify-content:center}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#373946}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 10px 0 0;font-size:1.4rem;float:left}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:0;padding:0;background:transparent;border:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;transition:all .15s ease;color:#8391a1;border:1px solid #eaeaea;border-radius:3px!important;text-decoration:none}@media (max-width:576px){.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:4px 9px}}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#fdfdfd;color:#3f51b5;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#f3f5f7;color:#373946;transition:all .15s ease;border:1px solid #eaeaea;outline:none}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.next[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.prev[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.8rem}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]{cursor:not-allowed}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder.active[_ngcontent-%COMP%], .pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.holder[_ngcontent-%COMP%]:hover{background-color:#fff;color:#373946;border:1px solid #eaeaea}.pagination-wrapper[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-numbers[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child)   a[_ngcontent-%COMP%]{margin:0 7px 0 0}"]}),e}()},YsBZ:function(e,t,a){"use strict";a.r(t);var n=a("ofXK"),i=a("tyNb"),c=a("NutR"),r=a("ThaB"),o=a("wbvY"),s=a("JK/P"),l=a("F/us"),d=a("fXoL"),f=a("0IaG"),u=a("b6Qw"),b=a("wlDI"),g=a("Buwz"),p=a("8mtn"),m=a("NhFE"),h=a("668k"),v=a("3Pt+");function y(e,t){1&e&&d.Xb(0,"app-loader")}function I(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"li",17),d.bc(2,"div",3),d.bc(3,"h5"),d.Yc(4),d.ac(),d.bc(5,"p"),d.Yc(6),d.ac(),d.ac(),d.bc(7,"div",6),d.bc(8,"a",18),d.nc("click",(function(){d.Pc(a);var e=t.$implicit;return d.rc(2).editGate(e.gateId)})),d.Xb(9,"i-feather",19),d.ac(),d.bc(10,"a",20),d.nc("click",(function(){d.Pc(a);var e=t.$implicit;return d.rc(2).showConfirmModal(e)})),d.Xb(11,"i-feather",21),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=t.$implicit;d.Hb(4),d.Zc(n.gateName),d.Hb(2),d.Zc(n.comments)}}function C(e,t){if(1&e&&(d.Zb(0),d.bc(1,"div",15),d.Wc(2,I,12,2,"ng-container",16),d.ac(),d.Yb()),2&e){var a=d.rc();d.Hb(2),d.zc("ngForOf",a.gateListData)}}function S(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Add Gate"),d.ac())}function M(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Edit Gate"),d.ac())}function k(e,t){1&e&&d.Xb(0,"app-loader")}function P(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"form",27,28),d.nc("ngSubmit",(function(){d.Pc(a);var e=d.Mc(2);return d.rc(2).submitGateForm(e)})),d.bc(3,"div",29),d.bc(4,"div",30),d.bc(5,"div",31),d.bc(6,"label"),d.Yc(7,"Gate Name*"),d.ac(),d.bc(8,"input",32),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).gate.gateName=e})),d.ac(),d.ac(),d.ac(),d.bc(9,"div",33),d.bc(10,"div",31),d.bc(11,"label"),d.Yc(12,"Comments"),d.ac(),d.bc(13,"textarea",34),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).gate.comments=e})),d.ac(),d.ac(),d.ac(),d.bc(14,"div",33),d.bc(15,"ul",35),d.bc(16,"li",8),d.bc(17,"button",36),d.Yc(18,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=d.Mc(2),i=d.rc(2);d.Hb(8),d.zc("ngModel",i.gate.gateName),d.Hb(5),d.zc("ngModel",i.gate.comments),d.Hb(4),d.zc("disabled",n.invalid)}}function T(e,t){if(1&e){var a=d.cc();d.bc(0,"div",22),d.bc(1,"div",1),d.bc(2,"div",23),d.bc(3,"div",3),d.bc(4,"h5"),d.Wc(5,S,2,0,"span",12),d.Wc(6,M,2,0,"span",12),d.ac(),d.ac(),d.bc(7,"div",24),d.nc("click",(function(){return d.Pc(a),d.rc().closeGate()})),d.Xb(8,"i-feather",25),d.ac(),d.ac(),d.bc(9,"div",26),d.Wc(10,k,1,0,"app-loader",12),d.Wc(11,P,19,3,"ng-container",12),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(5),d.zc("ngIf",!n.isEditGate),d.Hb(1),d.zc("ngIf",n.isEditGate),d.Hb(4),d.zc("ngIf",!n.isGateLoaded),d.Hb(1),d.zc("ngIf",n.isGateLoaded)}}var L,O=((L=function(){function e(t,a,n,i,c,r){_classCallCheck(this,e),this.injector=t,this.dialog=a,this.staffService=n,this.lookupService=i,this.sharedService=c,this.cookieService=r,this.isGateLoaded=!0,this.isGateTableLoaded=!1,this.isAddGateLoaded=!1,this.isEditGate=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"submitGateForm",value:function(e){var t=this;if(this.isGateLoaded=!1,this.isEditGate){var a={gateId:parseInt(this.gate.gateId),apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:this.gate.isActive,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateGate(a).subscribe((function(e){e.message&&(t.isGateLoaded=!0,t.sharedService.setAlertMessage("Gate updated Successfully!"),t.getAllGates())}),(function(e){}))}else{var n={apartmentId:parseInt(this.cookieService.get("apartmentId")),gateName:this.gate.gateName,comments:this.gate.comments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:(new Date).toISOString()};this.staffService.addGate(n).subscribe((function(e){e.message&&(t.isGateLoaded=!0,t.sharedService.setAlertMessage("Gate added Successfully!"),t.getAllGates())}),(function(e){}))}}},{key:"getAllGates",value:function(){var e=this;this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.isGateTableLoaded=!0,e.gateListData=t.filter((function(e){return e.isActive})),e.totalItems=e.gateListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems}),(function(e){}))}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"addGate",value:function(){var e=this;this.isEditGate=!1,this.isAddGateLoaded=!1,setTimeout((function(){e.isAddGateLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}},{key:"editGate",value:function(e){var t=this;this.isEditGate=!0,this.isGateLoaded=!1,this.staffService.getGateByGateId(e).subscribe((function(e){t.isGateLoaded=!0,t.gate=e[0],t.isAddGateLoaded=!1,setTimeout((function(){t.isAddGateLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-gate-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}),(function(e){}))}},{key:"closeGate",value:function(){this.isAddGateLoaded=!1}},{key:"ngOnInit",value:function(){var e=this;this.gate={},this.getAllGates(),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){e.isGateTableLoaded=!1;var a={gateId:t.gateId,deleteBy:parseInt(e.cookieService.get("userId"))};e.staffService.deleteGate(a).subscribe((function(a){e.gateListData=e.gateListData.filter((function(e){return e.gateId!==t.gateId})),e.sharedService.setUnitListDeleteIndex(null),e.isGateTableLoaded=!0}))}}))}}]),e}()).\u0275fac=function(e){return new(e||L)(d.Wb(d.s),d.Wb(f.b),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},L.\u0275cmp=d.Qb({type:L,selectors:[["app-staff-gates"]],decls:20,vars:8,consts:[[1,"staff-gates-wrapper"],[1,"card","mb-30"],[1,"card-header","no-border"],[1,"float-left"],[1,"lh-38"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item"],[1,"btn","lime-green","mt_5",3,"click"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[4,"ngIf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],["class","add-gate-card",4,"ngIf"],[1,"simple-lists"],[4,"ngFor","ngForOf"],[1,"list-group-item"],["href","javascript:void(0)",1,"icon-link","mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",1,"icon-link",3,"click"],["name","trash",1,"icon","delete"],[1,"add-gate-card"],[1,"card-header"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addGateForm","novalidate","",3,"ngSubmit"],["addGateForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter text","name","gateName","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],["placeholder","some text here","name","healthIssue","required","",3,"ngModel","ngModelChange"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5",4),d.Yc(5,"Gates List "),d.bc(6,"span",5),d.Yc(7),d.ac(),d.ac(),d.ac(),d.bc(8,"div",6),d.bc(9,"ul",7),d.bc(10,"li",8),d.bc(11,"a",9),d.nc("click",(function(){return t.addGate()})),d.Xb(12,"i-feather",10),d.bc(13,"span"),d.Yc(14,"Add Gate"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(15,"div",11),d.Wc(16,y,1,0,"app-loader",12),d.Wc(17,C,3,1,"ng-container",12),d.ac(),d.bc(18,"app-pagination",13),d.nc("outputParams",(function(e){return t.getIndexParams(e)})),d.ac(),d.ac(),d.Wc(19,T,12,4,"div",14),d.ac()),2&e&&(d.Hb(7),d.Zc(t.totalItems),d.Hb(9),d.zc("ngIf",!t.isGateTableLoaded),d.Hb(1),d.zc("ngIf",t.isGateTableLoaded),d.Hb(1),d.zc("totalItems",t.totalItems)("ItemStartIndex",t.ItemStartIndex)("ItemEndIndex",t.ItemEndIndex)("itemLimit",t.itemLimit),d.Hb(1),d.zc("ngIf",t.isAddGateLoaded))},directives:[p.b,n.l,m.a,h.a,n.k,v.z,v.m,v.n,v.d,v.v,v.l,v.o],styles:[""]}),L),D=a("wd/R"),w=a("BR9Y"),H=a("BniF"),x=a("bvAq");function z(e,t){if(1&e){var a=d.cc();d.bc(0,"tr"),d.bc(1,"td",22),d.Yc(2),d.ac(),d.bc(3,"td",23),d.Yc(4),d.ac(),d.bc(5,"td",24),d.Yc(6),d.ac(),d.bc(7,"td"),d.bc(8,"a",25),d.nc("click",(function(){d.Pc(a);var e=t.$implicit;return d.rc(2).editShift(e)})),d.Xb(9,"i-feather",26),d.ac(),d.bc(10,"a",27),d.nc("click",(function(){d.Pc(a);var e=t.$implicit;return d.rc(2).showConfirmModal(e)})),d.Xb(11,"i-feather",28),d.ac(),d.ac(),d.ac()}if(2&e){var n=t.$implicit,i=d.rc(2);d.Hb(2),d.Zc(i.getShiftType(n.shiftTypeId)),d.Hb(2),d.Zc(n.startTime),d.Hb(2),d.Zc(n.totalHours)}}function N(e,t){if(1&e){var a=d.cc();d.bc(0,"div",15),d.bc(1,"table",16),d.bc(2,"thead"),d.bc(3,"tr"),d.bc(4,"th",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("shiftType")})),d.Yc(5,"Shift Type"),d.Xb(6,"span",18),d.ac(),d.bc(7,"th",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("startTime")})),d.Yc(8,"Shift Start Time"),d.Xb(9,"span",18),d.ac(),d.bc(10,"th",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("totalHours")})),d.Yc(11,"Total (Hrs)"),d.Xb(12,"span",18),d.ac(),d.bc(13,"th",19),d.Yc(14,"Action"),d.ac(),d.ac(),d.ac(),d.bc(15,"tbody"),d.Wc(16,z,12,3,"tr",20),d.sc(17,"simpleSearch"),d.sc(18,"slice"),d.sc(19,"sort"),d.ac(),d.ac(),d.bc(20,"app-pagination",21),d.nc("outputParams",(function(e){return d.Pc(a),d.rc().getIndexParams(e)})),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(1),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("shiftType")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("startTime")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("totalHours")),d.Hb(4),d.zc("ngForOf",d.uc(17,9,d.vc(18,12,d.vc(19,16,n.shiftsListData,n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex),n.shiftData)),d.Hb(4),d.zc("totalItems",n.totalItems)("ItemStartIndex",n.ItemStartIndex)("ItemEndIndex",n.ItemEndIndex)("itemLimit",n.itemLimit)}}function E(e,t){1&e&&(d.bc(0,"h5"),d.Yc(1,"Add Staff Shifts"),d.ac())}function F(e,t){1&e&&(d.bc(0,"h5"),d.Yc(1,"Edit Staff Shifts"),d.ac())}function Y(e,t){1&e&&d.Xb(0,"app-loader")}function _(e,t){if(1&e&&(d.bc(0,"option",53),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.lookupValueId),d.Hb(1),d.Zc(a.lookupValueName)}}function A(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"form",35,36),d.nc("ngSubmit",(function(){d.Pc(a);var e=d.Mc(2);return d.rc(2).submitShiftsForm(e)})),d.bc(3,"div",37),d.bc(4,"div",38),d.bc(5,"div",39),d.bc(6,"label"),d.Yc(7,"Shift Type*"),d.ac(),d.bc(8,"select",40),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).shiftTypeId=e})),d.bc(9,"option",41),d.Yc(10,"Select"),d.ac(),d.Wc(11,_,2,2,"option",42),d.ac(),d.ac(),d.ac(),d.bc(12,"div",38),d.bc(13,"div",43),d.bc(14,"label"),d.Yc(15,"Shift Start Time"),d.ac(),d.bc(16,"input",44),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).shiftStartTime=e})),d.ac(),d.Xb(17,"owl-date-time",45,46),d.bc(19,"div",47),d.Xb(20,"i-feather",48),d.ac(),d.ac(),d.ac(),d.bc(21,"div",38),d.bc(22,"div",43),d.bc(23,"label"),d.Yc(24,"Total hrs"),d.ac(),d.bc(25,"input",49),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).shiftTotalHrs=e})),d.ac(),d.ac(),d.ac(),d.bc(26,"div",50),d.bc(27,"ul",51),d.bc(28,"li",10),d.bc(29,"button",52),d.Yc(30,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=d.Mc(2),i=d.Mc(18),c=d.rc(2);d.Hb(8),d.zc("ngModel",c.shiftTypeId),d.Hb(3),d.zc("ngForOf",c.shiftTypeList),d.Hb(5),d.zc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",c.shiftStartTime),d.Hb(1),d.zc("pickerType","timer"),d.Hb(2),d.zc("owlDateTimeTrigger",i),d.Hb(6),d.zc("ngModel",c.shiftTotalHrs),d.Hb(4),d.zc("disabled",n.invalid)}}function B(e,t){if(1&e){var a=d.cc();d.bc(0,"div",29),d.bc(1,"div",30),d.bc(2,"div",2),d.bc(3,"div",3),d.Wc(4,E,2,0,"h5",31),d.Wc(5,F,2,0,"h5",31),d.ac(),d.bc(6,"div",32),d.nc("click",(function(){return d.Pc(a),d.rc().closeShift()})),d.Xb(7,"i-feather",33),d.ac(),d.ac(),d.bc(8,"div",34),d.Wc(9,Y,1,0,"app-loader",31),d.Wc(10,A,31,9,"ng-container",31),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(4),d.zc("ngIf",!n.isEditShift),d.Hb(1),d.zc("ngIf",n.isEditShift),d.Hb(4),d.zc("ngIf",!n.isShiftsLoaded),d.Hb(1),d.zc("ngIf",n.isShiftsLoaded)}}var W,V=((W=function(){function e(t,a,n,i,c,r){_classCallCheck(this,e),this.injector=t,this.dialog=a,this.staffService=n,this.lookupService=i,this.sharedService=c,this.cookieService=r,this.isShiftsLoaded=!0,this.isShiftTableLoaded=!1,this.shiftTypeId="",this.shiftStartTime="",this.shiftTotalHrs=0,this.shiftData="",this.shiftType="",this.isEditShift=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.isAddShiftLoaded=!1,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"getShiftType",value:function(e){var t=l.filter(this.shiftTypeList,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.shiftType=t[0].lookupValueName,t[0].lookupValueName.toLowerCase())}},{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"submitShiftsForm",value:function(e){var t=this;if(this.isShiftsLoaded=!1,this.isEditShift){var a={shiftId:this.shiftId,apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:D(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:0,insertedOn:(new Date).toISOString(),updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:(new Date).toISOString()};this.staffService.updateShift(a).subscribe((function(e){e.message&&(t.isShiftsLoaded=!0,t.sharedService.setAlertMessage("Shift updated Successfully!"),t.getAllShifts())}),(function(e){}))}else{var n={apartmentId:parseInt(this.cookieService.get("apartmentId")),shiftTypeId:parseInt(this.shiftTypeId),startTime:D(this.shiftStartTime).format("HH:mm"),totalHours:this.shiftTotalHrs,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:(new Date).toISOString(),updatedBy:0,updatedOn:"2019-12-03T06:11:51.972Z"};this.staffService.addShift(n).subscribe((function(e){e.message&&(t.isShiftsLoaded=!0,t.sharedService.setAlertMessage("Shift added Successfully!"),t.getAllShifts())}),(function(e){}))}}},{key:"addShift",value:function(){var e=this;this.isEditShift=!1,this.isAddShiftLoaded=!1,setTimeout((function(){e.isAddShiftLoaded=!0}),10),setTimeout((function(){var e=document.querySelector(".add-shift-card").getBoundingClientRect().top;window.scroll({top:e,behavior:"smooth"})}),10)}},{key:"editShift",value:function(e){var t=this;this.isAddShiftLoaded=!1,setTimeout((function(){t.isAddShiftLoaded=!0}),10),this.isEditShift=!0,this.shiftTypeId=e.shiftTypeId,this.shiftStartTime=D(e.startTime,"HH:mm").toDate(),this.shiftTotalHrs=e.totalHours,this.shiftId=e.shiftId,setTimeout((function(){var e=document.querySelector(".add-shift-card").getBoundingClientRect().top-100;window.scroll({top:e,behavior:"smooth"})}),100)}},{key:"closeShift",value:function(){this.isAddShiftLoaded=!1}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"getAllShifts",value:function(){var e=this;this.isShiftTableLoaded=!1,this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.shiftsListData=t.filter((function(e){return e.isActive})),e.totalItems=e.shiftsListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isShiftTableLoaded=!0}),(function(e){}))}},{key:"ngOnInit",value:function(){var e=this;this.shift={},this.getAllShifts(),this.lookupService.getLookupValueByLookupTypeId(28).subscribe((function(t){e.shiftTypeList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var a={shiftId:t.shiftId,deleteBy:parseInt(e.cookieService.get("userId"))};e.isShiftTableLoaded=!1,e.staffService.deleteShift(a).subscribe((function(a){e.shiftsListData=e.shiftsListData.filter((function(e){return e.shiftId!==t.shiftId})),e.sharedService.setUnitListDeleteIndex(null),e.isShiftTableLoaded=!0}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||W)(d.Wb(d.s),d.Wb(f.b),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},W.\u0275cmp=d.Qb({type:W,selectors:[["app-staff-shifts"]],decls:20,vars:4,consts:[[1,"staff-shifts-wrapper"],[1,"card","mb-30","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"float-right"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","lime-green",3,"click"],["name","plus",1,"icon","plus"],["class","card-body p-0",4,"ngIf"],["class","add-shift-card",4,"ngIf"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name","text-capitalize"],[1,"name"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"],[1,"add-shift-card"],[1,"card","mb-30"],[4,"ngIf"],[1,"float-right",3,"click"],["name","x","width","20",1,"icon","del"],[1,"card-body"],["name","addShiftForm","novalidate","",3,"ngSubmit"],["addShiftForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","shiftTypeId","id","shiftTypeId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["name","startTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["startTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","number","OnlyNumber","true","placeholder","Enter value","name","shiftTotalHrs","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5"),d.Yc(5,"All Shifts "),d.bc(6,"span",4),d.Yc(7),d.ac(),d.ac(),d.ac(),d.bc(8,"div",5),d.bc(9,"ul",6),d.bc(10,"li",7),d.Xb(11,"i",8),d.bc(12,"input",9),d.nc("ngModelChange",(function(e){return t.shiftData=e})),d.ac(),d.ac(),d.bc(13,"li",10),d.bc(14,"a",11),d.nc("click",(function(){return t.addShift()})),d.Xb(15,"i-feather",12),d.bc(16,"span"),d.Yc(17,"Add Shift"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(18,N,21,20,"div",13),d.ac(),d.Wc(19,B,11,4,"div",14),d.ac()),2&e&&(d.Hb(7),d.Zc(t.totalItems),d.Hb(5),d.zc("ngModel",t.shiftData),d.Hb(6),d.zc("ngIf",t.isShiftTableLoaded),d.Hb(1),d.zc("ngIf",t.isAddShiftLoaded))},directives:[w.b,v.d,v.l,v.o,p.b,n.l,n.j,n.k,m.a,h.a,v.z,v.m,v.n,v.w,v.v,v.p,v.y,H.c,H.e,H.b,v.q,w.a],pipes:[x.e,n.t,x.a],styles:[""]}),W);function G(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Add Staff Category"),d.ac())}function X(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Edit Staff Category"),d.ac())}function Z(e,t){1&e&&d.Xb(0,"app-loader")}function j(e,t){if(1&e&&(d.bc(0,"option",20),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.lookupValueId),d.Hb(1),d.Zc(a.lookupValueName)}}function U(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"form",7,8),d.nc("ngSubmit",(function(){d.Pc(a);var e=d.Mc(2);return d.rc().submitStaffForm(e)})),d.bc(3,"div",9),d.bc(4,"div",10),d.bc(5,"div",11),d.bc(6,"label"),d.Yc(7,"Category*"),d.ac(),d.bc(8,"select",12),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staffType=e})),d.bc(9,"option",13),d.Yc(10,"Select"),d.ac(),d.Wc(11,j,2,2,"option",14),d.ac(),d.ac(),d.ac(),d.bc(12,"div",10),d.bc(13,"div",15),d.bc(14,"label"),d.Yc(15,"Sub Category*"),d.ac(),d.bc(16,"input",16),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staffCategory=e})),d.ac(),d.ac(),d.ac(),d.bc(17,"div",10),d.bc(18,"ul",17),d.bc(19,"li",18),d.bc(20,"button",19),d.Yc(21,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=d.Mc(2),i=d.rc();d.Hb(8),d.zc("ngModel",i.staffType),d.Hb(3),d.zc("ngForOf",i.staffCategoryData),d.Hb(5),d.zc("ngModel",i.staffCategory),d.Hb(4),d.zc("disabled",n.invalid)}}function q(e,t){1&e&&d.Xb(0,"app-loader")}function $(e,t){if(1&e){var a=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.Yc(2),d.ac(),d.Xb(3,"td",30),d.Xb(4,"td",30),d.Xb(5,"td",30),d.bc(6,"td"),d.bc(7,"a",31),d.nc("click",(function(){d.Pc(a);var e=t.$implicit,n=d.rc(2);return n.staffType=115,n.editStaffCategory(e)})),d.Xb(8,"i-feather",32),d.ac(),d.bc(9,"a",33),d.nc("click",(function(){d.Pc(a);var e=t.index,n=d.rc(2);return n.staffDeleteTypeId=115,n.showConfirmModal(e)})),d.Xb(10,"i-feather",34),d.ac(),d.ac(),d.ac()}if(2&e){var n=t.$implicit;d.Hb(2),d.Zc(n.lookupValueName)}}function R(e,t){if(1&e){var a=d.cc();d.bc(0,"div",21),d.bc(1,"div",22),d.bc(2,"div",23),d.bc(3,"h5"),d.Yc(4,"Offical Staffs"),d.ac(),d.ac(),d.ac(),d.bc(5,"div",24),d.bc(6,"table",25),d.bc(7,"thead"),d.bc(8,"tr"),d.bc(9,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("status")})),d.Yc(10,"Category "),d.Xb(11,"span",27),d.ac(),d.bc(12,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("subcategory")})),d.Yc(13,"Supervisor "),d.Xb(14,"span",27),d.ac(),d.bc(15,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("level1")})),d.Yc(16,"Level-1 "),d.Xb(17,"span",27),d.ac(),d.bc(18,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("level2")})),d.Yc(19,"Level-2 "),d.Xb(20,"span",27),d.ac(),d.bc(21,"th",28),d.Yc(22,"Action"),d.ac(),d.ac(),d.ac(),d.bc(23,"tbody"),d.Wc(24,$,11,1,"tr",29),d.sc(25,"simpleSearch"),d.sc(26,"slice"),d.sc(27,"sort"),d.ac(),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(6),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("status")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("subcategory")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("level1")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("level2")),d.Hb(4),d.zc("ngForOf",d.uc(25,6,d.vc(26,9,d.vc(27,13,n.categoryOffcialListData,n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex),n.categoryOffcialData))}}function Q(e,t){if(1&e){var a=d.cc();d.bc(0,"tr"),d.bc(1,"td"),d.Yc(2),d.ac(),d.Xb(3,"td",30),d.Xb(4,"td",30),d.Xb(5,"td",30),d.bc(6,"td"),d.bc(7,"a",31),d.nc("click",(function(){d.Pc(a);var e=t.$implicit,n=d.rc(2);return n.staffType=116,n.editStaffCategory(e)})),d.Xb(8,"i-feather",32),d.ac(),d.bc(9,"a",33),d.nc("click",(function(){d.Pc(a);var e=t.index,n=d.rc(2);return n.staffDeleteTypeId=116,n.showConfirmModal(e)})),d.Xb(10,"i-feather",34),d.ac(),d.ac(),d.ac()}if(2&e){var n=t.$implicit;d.Hb(2),d.Zc(n.lookupValueName)}}function J(e,t){if(1&e){var a=d.cc();d.bc(0,"div",21),d.bc(1,"div",22),d.bc(2,"div",23),d.bc(3,"h5"),d.Yc(4,"Personal Staffs"),d.ac(),d.ac(),d.ac(),d.bc(5,"div",24),d.bc(6,"table",25),d.bc(7,"thead"),d.bc(8,"tr"),d.bc(9,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("status")})),d.Yc(10,"Category "),d.Xb(11,"span",27),d.ac(),d.bc(12,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("subcategory")})),d.Yc(13,"Supervisor "),d.Xb(14,"span",27),d.ac(),d.bc(15,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("level1")})),d.Yc(16,"Level-1 "),d.Xb(17,"span",27),d.ac(),d.bc(18,"th",26),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("level2")})),d.Yc(19,"Level-2 "),d.Xb(20,"span",27),d.ac(),d.bc(21,"th",28),d.Yc(22,"Action"),d.ac(),d.ac(),d.ac(),d.bc(23,"tbody"),d.Wc(24,Q,11,1,"tr",29),d.sc(25,"slice"),d.sc(26,"sort"),d.sc(27,"simpleSearch"),d.ac(),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(6),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("status")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("subcategory")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("level1")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("level2")),d.Hb(4),d.zc("ngForOf",d.vc(25,6,d.vc(26,10,d.uc(27,14,n.categoryPersonalListData,n.categoryPersonalData),n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex))}}var K,ee=((K=function(){function e(t,a,n,i,c,r){_classCallCheck(this,e),this.injector=t,this.dialog=a,this.userService=n,this.lookupService=i,this.sharedService=c,this.cookieService=r,this.categoryOffcialData="",this.categoryPersonalData="",this.isCategoryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.isStaffLoaded=!1,this.staffType="",this.staffCategory="",this.staffDeleteTypeId="",this.errorMessage="",this.isError=!1,this.isEditStaffCategory=!1,this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"editStaffCategory",value:function(e){this.isEditStaffCategory=!0,this.staffCategory=e.lookupValueName,this.staffCategoryId=e.lookupValueId}},{key:"submitStaffForm",value:function(e){var t=this;if(this.isError=!1,"115"==this.staffType)if(this.staffTypeId=26,l.some(this.categoryOffcialData,(function(e){return e.lookupValueName===t.staffCategory})))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){var a={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(a).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.isEditStaffCategory=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var a=e.filter((function(e){return e.isActive}));t.categoryOffcialListData=a,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else{var n={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(n).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var a=e.filter((function(e){return e.isActive}));t.categoryOffcialListData=a,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else if(this.staffTypeId=27,l.some(this.categoryPersonalData,(function(e){return e.lookupValueName===t.staffCategory})))this.isError=!0,this.errorMessage="Category already available",this.isStaffLoaded=!0;else if(this.isStaffLoaded=!1,this.isEditStaffCategory){var i={lookupValueId:this.staffCategoryId,lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:0,insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.updateLookupValue(i).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.isEditStaffCategory=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var a=e.filter((function(e){return e.isActive}));t.categoryPersonalListData=a,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}else{var c={lookupTypeId:this.staffTypeId,lookupValueName:this.staffCategory,description:this.staffCategory,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-11-16T14:50:08.217Z",updatedBy:0,updatedOn:"2019-11-16T14:50:08.217Z"};this.lookupService.addLookupValue(c).subscribe((function(e){t.isStaffLoaded=!0,t.isCategoryDataLoaded=!1,t.lookupService.getLookupValueByLookupTypeId(t.staffTypeId).subscribe((function(e){var a=e.filter((function(e){return e.isActive}));t.categoryPersonalListData=a,t.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffCategoryData=t,e.isStaffLoaded=!0}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){var a=t.filter((function(e){return e.isActive}));e.categoryOffcialListData=a,e.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){var a=t.filter((function(e){return e.isActive}));e.categoryPersonalListData=a,e.isCategoryDataLoaded=!0}),(function(e){}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){if("115"==e.staffDeleteTypeId)var a={lookupValueId:e.categoryOffcialListData[t].lookupValueId,updateUserId:parseInt(e.cookieService.get("userId"))};else a={lookupValueId:e.categoryPersonalListData[t].lookupValueId,updateUserId:parseInt(e.cookieService.get("userId"))};e.isCategoryDataLoaded=!1,e.lookupService.deleteLookupvalue(a).subscribe((function(a){"115"==e.staffDeleteTypeId?e.categoryOffcialListData.splice(t,1):e.categoryPersonalListData.splice(t,1),e.isCategoryDataLoaded=!0,e.sharedService.setUnitListDeleteIndex(null)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||K)(d.Wb(d.s),d.Wb(f.b),d.Wb(c.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},K.\u0275cmp=d.Qb({type:K,selectors:[["app-staff-setup"]],decls:14,vars:9,consts:[[1,"staff-setup-wrapper"],[1,"mb-3"],[4,"ngIf"],[1,"card","mb-30"],[1,"card-body"],[3,"message","isAlert"],["class","card table-card mb-30",4,"ngIf"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffType","id","staffType","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline","mt-25"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],[1,"card","table-card","mb-30"],[1,"card-header"],[1,"float-left"],[1,"card-body","p-0"],[1,"table",3,"ngClass"],["scope","col",3,"click"],[3,"ngClass"],["scope","col"],[4,"ngFor","ngForOf"],[1,"grey"],["href","javascript:void(0)",1,"mr-2",3,"click"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.bc(1,"h5",1),d.Wc(2,G,2,0,"span",2),d.Wc(3,X,2,0,"span",2),d.ac(),d.bc(4,"div",3),d.bc(5,"div",4),d.Xb(6,"app-alert-message",5),d.Wc(7,Z,1,0,"app-loader",2),d.Wc(8,U,22,4,"ng-container",2),d.ac(),d.ac(),d.Wc(9,q,1,0,"app-loader",2),d.Wc(10,R,28,17,"div",6),d.Wc(11,J,28,17,"div",6),d.Xb(12,"app-staff-gates"),d.Xb(13,"app-staff-shifts"),d.ac()),2&e&&(d.Hb(2),d.zc("ngIf",!t.isEditStaffCategory),d.Hb(1),d.zc("ngIf",t.isEditStaffCategory),d.Hb(3),d.zc("message",t.errorMessage)("isAlert",t.isError),d.Hb(1),d.zc("ngIf",!t.isStaffLoaded),d.Hb(1),d.zc("ngIf",t.isStaffLoaded),d.Hb(1),d.zc("ngIf",!t.isCategoryDataLoaded),d.Hb(1),d.zc("ngIf",t.isCategoryDataLoaded),d.Hb(1),d.zc("ngIf",t.isCategoryDataLoaded))},directives:[n.l,b.a,O,V,h.a,v.z,v.m,v.n,v.w,v.v,v.l,v.o,v.p,v.y,n.k,v.d,n.j,p.b],pipes:[x.e,n.t,x.a],styles:[""]}),K),te=a("is7e"),ae=a("1kSV");function ne(e,t){1&e&&d.Xb(0,"app-loader")}var ie=function(){return{exact:!0}};function ce(e,t){if(1&e){var a=d.cc();d.bc(0,"tr",29),d.bc(1,"td",30),d.Yc(2),d.ac(),d.bc(3,"td",30),d.Yc(4),d.ac(),d.bc(5,"td",31),d.Yc(6),d.ac(),d.bc(7,"td",31),d.Yc(8),d.ac(),d.bc(9,"td",32),d.Yc(10),d.ac(),d.bc(11,"td",33),d.bc(12,"a",34),d.Xb(13,"i-feather",35),d.ac(),d.bc(14,"a",36),d.nc("click",(function(){d.Pc(a);var e=t.$implicit;return d.rc(2).showConfirmModal(e.staffId)})),d.Xb(15,"i-feather",37),d.ac(),d.ac(),d.ac()}if(2&e){var n=t.$implicit,i=d.rc(2);d.zc("ngClass",n.isActive?"active":"notactive"),d.Hb(2),d.Zc(n.firstName),d.Hb(2),d.Zc(n.emailId),d.Hb(2),d.Zc(n.staffCategory_Label),d.Hb(2),d.Zc(n.staffSubcategory_Label),d.Hb(2),d.Zc(n.contactNumber),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-staff/",n.staffId,""),d.zc("ngbPopover",i.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(9,ie))}}function re(e,t){if(1&e){var a=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Staffs "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staffData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.bc(16,"li",11),d.bc(17,"a",14),d.Xb(18,"i-feather",15),d.bc(19,"span"),d.Yc(20,"Add Staff"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(21,"div",16),d.bc(22,"table",17),d.bc(23,"thead"),d.bc(24,"tr"),d.bc(25,"th",18),d.Yc(26,"Staff Name "),d.bc(27,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(28,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(29,"th",18),d.Yc(30,"Email ID "),d.bc(31,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("emailId")})),d.ac(),d.bc(32,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.emailId=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("emailId")})),d.ac(),d.ac(),d.bc(33,"th",18),d.Yc(34,"Category "),d.bc(35,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("staffCategory_Label")})),d.ac(),d.bc(36,"app-simple-select-box",22),d.nc("inputChange",(function(e){return d.Pc(a),d.rc().onSelectChange(e,"staffCategory_Label","lookupValueName")})),d.ac(),d.ac(),d.bc(37,"th",18),d.Yc(38,"Sub Category "),d.bc(39,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("staffSubcategory_Label")})),d.ac(),d.bc(40,"app-simple-select-box",23),d.nc("inputChange",(function(e){return d.Pc(a),d.rc().onSelectChange(e,"staffSubcategory_Label","lookupValueName")})),d.ac(),d.ac(),d.bc(41,"th",18),d.Yc(42,"Phone Number "),d.bc(43,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("contactNumber")})),d.ac(),d.bc(44,"input",24),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.contactNumber=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("contactNumber")})),d.ac(),d.ac(),d.bc(45,"th",25),d.Yc(46," Actions "),d.bc(47,"input",26),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.action=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("action")})),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(48,"tbody"),d.Wc(49,ce,16,10,"tr",27),d.sc(50,"slice"),d.sc(51,"sort"),d.sc(52,"columnSearch"),d.sc(53,"simpleSearch"),d.ac(),d.ac(),d.bc(54,"app-pagination",28),d.nc("outputParams",(function(e){return d.Pc(a),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(6),d.Zc(n.totalItems),d.Hb(4),d.zc("ngModel",n.staffData),d.Hb(7),d.zc("routerLinkActiveOptions",d.Fc(39,ie)),d.Hb(5),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",n.columnField.firstName),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("emailId")),d.Hb(1),d.zc("ngModel",n.columnField.emailId),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("staffCategory_Label")),d.Hb(1),d.zc("fieldModel",n.staffCategoryId)("fieldRequired","required")("fieldList",n.staffTypeData),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("staffSubcategory_Label")),d.Hb(1),d.zc("fieldModel",n.staffSubCategoryId)("fieldRequired","required")("fieldList",n.staffOfficalCategoryData),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("contactNumber")),d.Hb(1),d.zc("ngModel",n.columnField.contactNumber),d.Hb(3),d.zc("ngModel",n.columnField.action),d.Hb(2),d.zc("ngForOf",d.vc(50,24,d.vc(51,28,d.vc(52,32,d.uc(53,36,n.staffListData,n.staffData),n.columnField,n.selectedInput),n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex)),d.Hb(5),d.zc("totalItems",n.totalItems)("ItemStartIndex",n.ItemStartIndex)("ItemEndIndex",n.ItemEndIndex)("itemLimit",n.itemLimit)}}var oe,se=((oe=function(){function e(t,a,n,i,c,r,o){_classCallCheck(this,e),this.router=t,this.route=a,this.injector=n,this.staffService=i,this.lookupService=c,this.sharedService=r,this.cookieService=o,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.staffData="",this.selectedInput="",this.columnField={},this.modalService=this.injector.get(s.a)}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"onSelectChange",value:function(e,t,a){l.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[a])}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"showConfirmModal",value:function(e){this.modalService.showConfirmModal(e)}},{key:"getTimeFormat",value:function(e){return D(e).format("YYYY-MM-DD HH:mm")}},{key:"getStaffCategory",value:function(e,t){var a=l.filter(this.staffTypeData,(function(e){if(e.lookupValueId===t)return e}));return void 0===a||0==a.length?"":(this.staffListData.map((function(t){t.staffId==e.staffId&&(t.staffCategory=a[0].lookupValueName)})),a[0].lookupValueName.toLowerCase())}},{key:"getStaffSubCategory",value:function(e,t){var a;return 115==this.staffTypeId?void 0===(a=l.filter(this.staffOfficalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==a.length?"":(this.staffListData.map((function(t){t.staffId==e.staffId&&(t.staffSubCategory=a[0].lookupValueName)})),a[0].lookupValueName):void 0===(a=l.filter(this.staffPersonalCategoryData,(function(e){if(e.lookupValueId===t)return e})))||0==a.length?"":(this.staffListData.map((function(t){t.staffId==e.staffId&&(t.staffSubCategory=a[0].lookupValueName)})),a[0].lookupValueName)}},{key:"ngOnInit",value:function(){var e=this;this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffListData=t.filter((function(e){return e.isActive})),e.totalItems=e.staffListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isStaffDataLoaded=!0})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffOfficalCategoryData=t.filter((function(e){return e.isActive})),console.log(e.staffOfficalCategoryData)}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.staffPersonalCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.sharedService.unitlistdeleteindexcast.subscribe((function(t){if(null!=t){var a={staffId:t,deleteBy:parseInt(e.cookieService.get("userId"))};e.staffService.deleteStaff(a).subscribe((function(a){l.each(e.staffListData,(function(e){e.staffId==t&&(e.isActive=!1)})),setTimeout((function(){e.staffListData=e.staffListData.filter((function(e){return e.staffId!==t})),e.totalItems=e.staffListData.length,e.sharedService.setAlertMessage("Staff deleted"),e.sharedService.setUnitListDeleteIndex(null)}),500)}),(function(e){console.log(e)}))}}))}}]),e}()).\u0275fac=function(e){return new(e||oe)(d.Wb(i.c),d.Wb(i.a),d.Wb(d.s),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},oe.\u0275cmp=d.Qb({type:oe,selectors:[["app-staff-maintain-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-maintain-staff-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-staff","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","staffCategory_Label","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","staffSubcategory_Label","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[3,"ngClass"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"],["href","javascript:void(0)",3,"click"],["name","trash",1,"icon","delete"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.Wc(1,ne,1,0,"app-loader",1),d.Wc(2,re,55,40,"div",2),d.ac()),2&e&&(d.Hb(1),d.zc("ngIf",!t.isStaffDataLoaded),d.Hb(1),d.zc("ngIf",t.isStaffDataLoaded))},directives:[n.l,h.a,w.b,v.d,v.l,v.o,p.b,i.e,i.d,w.d,n.j,te.a,n.k,m.a,ae.c],pipes:[n.t,x.a,x.b,x.e],styles:[""]}),oe);function le(e,t){1&e&&d.Xb(0,"app-loader")}var de=function(){return{exact:!0}};function fe(e,t){if(1&e&&(d.bc(0,"tr"),d.bc(1,"td",27),d.Yc(2),d.ac(),d.bc(3,"td",27),d.Yc(4),d.ac(),d.bc(5,"td",28),d.Yc(6),d.ac(),d.bc(7,"td",28),d.Yc(8),d.ac(),d.bc(9,"td",29),d.Yc(10),d.ac(),d.bc(11,"td",30),d.bc(12,"a",31),d.Xb(13,"i-feather",32),d.ac(),d.ac(),d.ac()),2&e){var a=t.$implicit,n=d.rc(2);d.Hb(2),d.Zc(a.firstName),d.Hb(2),d.Zc(a.emailId),d.Hb(2),d.Zc(n.getStaffCategory(a,a.staffCategoryId)),d.Hb(2),d.Zc(n.getStaffSubCategory(a,a.staffSubCategoryId)),d.Hb(2),d.Zc(a.contactNumber),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-staff/",a.staffId,""),d.zc("ngbPopover",n.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(8,de))}}function ue(e,t){if(1&e){var a=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Inactive Staffs "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staffData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(16,"div",14),d.bc(17,"table",15),d.bc(18,"thead"),d.bc(19,"tr"),d.bc(20,"th",16),d.Yc(21,"Staff Name "),d.bc(22,"span",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(23,"input",18),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(24,"th",16),d.Yc(25,"Email ID "),d.bc(26,"span",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("emailId")})),d.ac(),d.bc(27,"input",19),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.emailId=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("emailId")})),d.ac(),d.ac(),d.bc(28,"th",16),d.Yc(29,"Category "),d.bc(30,"span",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("staffCategory")})),d.ac(),d.bc(31,"app-simple-select-box",20),d.nc("inputChange",(function(e){return d.Pc(a),d.rc().onSelectChange(e,"staffCategory","lookupValueName")})),d.ac(),d.ac(),d.bc(32,"th",16),d.Yc(33,"Sub Category "),d.bc(34,"span",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("staffSubCategory")})),d.ac(),d.bc(35,"app-simple-select-box",21),d.nc("inputChange",(function(e){return d.Pc(a),d.rc().onSelectChange(e,"staffSubCategory","lookupValueName")})),d.ac(),d.ac(),d.bc(36,"th",16),d.Yc(37,"Phone Number "),d.bc(38,"span",17),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("contactNumber")})),d.ac(),d.bc(39,"input",22),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.contactNumber=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("contactNumber")})),d.ac(),d.ac(),d.bc(40,"th",23),d.Yc(41," Actions "),d.bc(42,"input",24),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.action=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("action")})),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(43,"tbody"),d.Wc(44,fe,14,9,"tr",25),d.sc(45,"slice"),d.sc(46,"sort"),d.sc(47,"columnSearch"),d.sc(48,"simpleSearch"),d.ac(),d.ac(),d.bc(49,"app-pagination",26),d.nc("outputParams",(function(e){return d.Pc(a),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(6),d.Zc(n.totalItems),d.Hb(4),d.zc("ngModel",n.staffData),d.Hb(7),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",n.columnField.firstName),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("emailId")),d.Hb(1),d.zc("ngModel",n.columnField.emailId),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("staffCategory")),d.Hb(1),d.zc("fieldModel",n.staffCategoryId)("fieldRequired","required")("fieldList",n.staffTypeData),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("staffSubCategory")),d.Hb(1),d.zc("fieldModel",n.staffSubCategoryId)("fieldRequired","required")("fieldList",n.staffOfficalCategoryData),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("contactNumber")),d.Hb(1),d.zc("ngModel",n.columnField.contactNumber),d.Hb(3),d.zc("ngModel",n.columnField.action),d.Hb(2),d.zc("ngForOf",d.vc(45,23,d.vc(46,27,d.vc(47,31,d.uc(48,35,n.staffListData,n.staffData),n.columnField,n.selectedInput),n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex)),d.Hb(5),d.zc("totalItems",n.totalItems)("ItemStartIndex",n.ItemStartIndex)("ItemEndIndex",n.ItemEndIndex)("itemLimit",n.itemLimit)}}var be,ge=((be=function(){function e(t,a,n,i){_classCallCheck(this,e),this.staffService=t,this.lookupService=a,this.sharedService=n,this.cookieService=i,this.isStaffDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.staffData="",this.selectedInput="",this.columnField={}}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"onSelectChange",value:function(e,t,a){l.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[a])}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"getStaffCategory",value:function(e){var t=l.filter(this.staffTypeData,(function(t){if(t.lookupValueId===e)return t}));return void 0===t||0==t.length?"":(this.staffTypeId=t[0].lookupValueId,t[0].lookupValueName.toLowerCase())}},{key:"getStaffSubCategory",value:function(e){var t;return 115==this.staffTypeId?void 0===(t=l.filter(this.staffOfficalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName:void 0===(t=l.filter(this.staffPersonalCategoryData,(function(t){if(t.lookupValueId===e)return t})))||0==t.length?"":t[0].lookupValueName}},{key:"ngOnInit",value:function(){var e=this;this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffListData=t.filter((function(e){return!e.isActive})),e.totalItems=e.staffListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isStaffDataLoaded=!0})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffOfficalCategoryData=t.filter((function(e){return e.isActive})),console.log(e.staffOfficalCategoryData)}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.staffPersonalCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||be)(d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},be.\u0275cmp=d.Qb({type:be,selectors:[["app-staff-inactive-staff"]],decls:3,vars:2,consts:[[1,"staff-manager-inactive-staff-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","trans-white","mt_5"],["name","printer",1,"icon","print"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Email ID",1,"form-control",3,"ngModel","ngModelChange"],["fieldName","staffCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["fieldName","staffSubCategory","fieldText","","fieldItemName","lookupValueName","isLabel","false","fieldPlaceholder","Select",3,"fieldModel","fieldRequired","fieldList","inputChange"],["type","text","placeholder","Phone Number",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],["type","text","placeholder","Action",1,"form-control","vis-h",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.Wc(1,le,1,0,"app-loader",1),d.Wc(2,ue,50,38,"div",2),d.ac()),2&e&&(d.Hb(1),d.zc("ngIf",!t.isStaffDataLoaded),d.Hb(1),d.zc("ngIf",t.isStaffDataLoaded))},directives:[n.l,h.a,w.b,v.d,v.l,v.o,p.b,w.d,n.j,te.a,n.k,m.a,i.e,i.d,ae.c],pipes:[n.t,x.a,x.b,x.e],styles:[""]}),be);function pe(e,t){1&e&&d.Xb(0,"app-loader")}var me=function(){return{exact:!0}};function he(e,t){if(1&e&&(d.bc(0,"tr"),d.bc(1,"td",25),d.Yc(2),d.ac(),d.bc(3,"td",25),d.Yc(4),d.ac(),d.bc(5,"td",26),d.Yc(6),d.ac(),d.bc(7,"td",26),d.Yc(8),d.ac(),d.bc(9,"td",26),d.Yc(10),d.ac(),d.bc(11,"td",26),d.Yc(12),d.ac(),d.bc(13,"td",27),d.Yc(14),d.ac(),d.bc(15,"td",28),d.bc(16,"a",29),d.Xb(17,"i-feather",30),d.ac(),d.ac(),d.ac()),2&e){var a=t.$implicit,n=d.rc(2);d.Hb(2),d.Zc(n.getStaffName(a.staffId)),d.Hb(2),d.Zc(n.getJobTitle(a.staffId)),d.Hb(2),d.Zc(a.inTime),d.Hb(2),d.Zc(a.outTime),d.Hb(2),d.Zc(n.getInGateName(a.inGateId)),d.Hb(2),d.Zc(n.getOutGateName(a.outGateId)),d.Hb(2),d.Zc(a.notes),d.Hb(2),d.Bc("routerLink","/ams/staff/edit-entry/",a.attendanceId,""),d.zc("ngbPopover",n.popAddCheckInContent)("routerLinkActiveOptions",d.Fc(10,me))}}function ve(e,t){if(1&e){var a=d.cc();d.bc(0,"div",3),d.bc(1,"div",4),d.bc(2,"div",5),d.bc(3,"h5"),d.Yc(4,"All Entries "),d.bc(5,"span",6),d.Yc(6),d.ac(),d.ac(),d.ac(),d.bc(7,"ul",7),d.bc(8,"li",8),d.Xb(9,"i",9),d.bc(10,"input",10),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entryData=e})),d.ac(),d.ac(),d.bc(11,"li",11),d.bc(12,"a",12),d.Xb(13,"i-feather",13),d.bc(14,"span"),d.Yc(15,"Print"),d.ac(),d.ac(),d.ac(),d.bc(16,"li",11),d.bc(17,"a",14),d.Xb(18,"i-feather",15),d.bc(19,"span"),d.Yc(20,"Add Attendance"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(21,"div",16),d.bc(22,"table",17),d.bc(23,"thead"),d.bc(24,"tr"),d.bc(25,"th",18),d.Yc(26," Name "),d.bc(27,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("firstName")})),d.ac(),d.bc(28,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.firstName=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("firstName")})),d.ac(),d.ac(),d.bc(29,"th",18),d.Yc(30," Job Title "),d.bc(31,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("jobTitle")})),d.ac(),d.bc(32,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().columnField.jobTitle=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().selectColInput("jobTitle")})),d.ac(),d.ac(),d.bc(33,"th",18),d.Yc(34,"In Time "),d.bc(35,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("inTime")})),d.ac(),d.ac(),d.bc(36,"th",18),d.Yc(37,"Out Time"),d.bc(38,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("outTime")})),d.ac(),d.ac(),d.bc(39,"th",18),d.Yc(40,"In Gate "),d.bc(41,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("inGateId")})),d.ac(),d.ac(),d.bc(42,"th",18),d.Yc(43,"Out Gate "),d.bc(44,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("outGateId")})),d.ac(),d.ac(),d.bc(45,"th",18),d.Yc(46,"comments "),d.bc(47,"span",19),d.nc("click",(function(){return d.Pc(a),d.rc().sortUnitData("notes")})),d.ac(),d.ac(),d.bc(48,"th",22),d.Yc(49,"Action"),d.ac(),d.ac(),d.ac(),d.bc(50,"tbody"),d.Wc(51,he,18,11,"tr",23),d.sc(52,"slice"),d.sc(53,"sort"),d.sc(54,"simpleSearch"),d.ac(),d.ac(),d.bc(55,"app-pagination",24),d.nc("outputParams",(function(e){return d.Pc(a),d.rc().getIndexParams(e)})),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc();d.Hb(6),d.Zc(n.totalItems),d.Hb(4),d.zc("ngModel",n.entryData),d.Hb(7),d.zc("routerLinkActiveOptions",d.Fc(29,me)),d.Hb(5),d.zc("ngClass",n.isMobileView()),d.Hb(5),d.zc("ngClass",n.getFieldOrderBy("firstName")),d.Hb(1),d.zc("ngModel",n.columnField.firstName),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("jobTitle")),d.Hb(1),d.zc("ngModel",n.columnField.jobTitle),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("inTime")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("outTime")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("inGateId")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("outGateId")),d.Hb(3),d.zc("ngClass",n.getFieldOrderBy("notes")),d.Hb(4),d.zc("ngForOf",d.vc(52,18,d.vc(53,22,d.uc(54,26,n.entryListData,n.staffData),n.unitFieldType,n.unitOrder),n.ItemUserStartIndex,n.ItemUserEndIndex)),d.Hb(4),d.zc("totalItems",n.totalItems)("ItemStartIndex",n.ItemStartIndex)("ItemEndIndex",n.ItemEndIndex)("itemLimit",n.itemLimit)}}var ye,Ie,Ce,Se,Me=((Se=function(){function e(t,a,n,i,c,r){_classCallCheck(this,e),this.router=t,this.route=a,this.staffService=n,this.lookupService=i,this.sharedService=c,this.cookieService=r,this.isEntryDataLoaded=!1,this.unitFieldType="unitno",this.unitOrder=!0,this.ItemStartIndex=0,this.itemLimit=10,this.entryData="",this.selectedInput="",this.columnField={}}return _createClass(e,[{key:"getIndexParams",value:function(e){this.ItemStartIndex=e.ItemStartIndex,this.ItemEndIndex=e.ItemEndIndex,this.itemLimit=e.itemLimit}},{key:"sortUnitData",value:function(e){this.unitFieldType=e,this.unitOrder=!this.unitOrder}},{key:"getFieldOrderBy",value:function(e){return this.unitFieldType==e?this.unitOrder?"asc":"desc":""}},{key:"isMobileView",value:function(){return window.innerWidth<=767?"table-responsive":""}},{key:"selectColInput",value:function(e){this.selectedInput=e}},{key:"onSelectChange",value:function(e,t,a){l.isEmpty(e)?this.columnField={}:(this.selectedInput=t,this.columnField[t]=e[a])}},{key:"getInGateName",value:function(e){var t=this.gateDataList.filter((function(t){return t.gateId==e}));return void 0===t||0===t.length?(this.entry.inGateId="",""):(this.entry.inGateId=t[0].gateName,t[0].gateName)}},{key:"getOutGateName",value:function(e){var t=this.gateDataList.filter((function(t){return t.gateId==e}));return void 0===t||0===t.length?(this.entry.outGateId="",""):(this.entry.outGateId=t[0].gateName,t[0].gateName)}},{key:"getStaffName",value:function(e){var t=this.staffDetails.filter((function(t){return t.staffId==e}));return void 0===t||0===t.length?(this.entry.firstName="",""):(this.entry.firstName=t[0].firstName,t[0].firstName)}},{key:"getJobTitle",value:function(e){var t=this.staffDetails.filter((function(t){return t.staffId==e}));if(void 0===t||0===t.length)return this.entry.jobTitle="","";var a=t[0].staffSubCategoryId;if(115==t[0].staffCategoryId){var n=this.officalStaffsDataList.filter((function(e){if(e.lookupValueId==a)return e.lookupValueName}));return void 0===n||0==n.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=n[0].lookupValueName,n[0].lookupValueName)}var i=this.personalStaffsDataList.filter((function(e){if(e.lookupValueId==a)return e.lookupValueName}));return void 0===i||0==i.length?(this.entry.jobTitle="",""):(this.entry.jobTitle=i[0].lookupValueName,i[0].lookupValueName)}},{key:"ngOnInit",value:function(){var e=this;this.entry={},this.staffDetails=[],this.gateDataList=[],this.officalStaffsDataList=[],this.personalStaffsDataList=[],this.staffService.getAllAttendancesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.entryListData=t.filter((function(e){return e.isActive})),l.each(e.entryListData,(function(t){e.staffService.getStaffByStaffId(t.staffId).subscribe((function(t){e.staffDetails.push(t[0])}))})),e.staffService.getAllGatesByApartmentId(parseInt(e.cookieService.get("apartmentId"))).subscribe((function(t){e.gateDataList=t})),e.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.officalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),e.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.personalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),e.totalItems=e.entryListData.length,e.ItemEndIndex=e.totalItems>e.itemLimit?e.itemLimit:e.totalItems,e.isEntryDataLoaded=!0}))}}]),e}()).\u0275fac=function(e){return new(e||Se)(d.Wb(i.c),d.Wb(i.a),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},Se.\u0275cmp=d.Qb({type:Se,selectors:[["app-staff-attendance"]],decls:3,vars:2,consts:[[1,"staff-attendance-wrapper"],[4,"ngIf"],["class","card table-card",4,"ngIf"],[1,"card","table-card"],[1,"card-header"],[1,"float-left"],[1,"badge","lime-green"],[1,"list-inline"],[1,"list-inline-item","search","d-none","d-md-inline-block"],["aria-hidden","true",1,"fa","fa-search"],["type","text","placeholder","Search...",1,"form-control",3,"ngModel","ngModelChange"],[1,"list-inline-item"],[1,"btn","l-blue","mt_5"],["name","printer",1,"icon","print"],["routerLink","/ams/staff/add-entry","routerLinkActive","active",1,"btn","lime-green","mt_5",3,"routerLinkActiveOptions"],["name","plus",1,"icon","plus"],[1,"card-body","p-0"],[1,"table","table-checker","table-resizable",3,"ngClass"],["scope","col"],[3,"ngClass","click"],["type","text","placeholder","Staff Name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Job Title",1,"form-control",3,"ngModel","ngModelChange"],["scope","col",1,"simple-actions"],[4,"ngFor","ngForOf"],[3,"totalItems","ItemStartIndex","ItemEndIndex","itemLimit","outputParams"],[1,"name"],[1,"grey","text-capitalize"],[1,"grey"],[1,"simple-actions"],["href","javascript:void(0)","placement","top","triggers","mouseenter:mouseleave","routerLinkActive","active",1,"mr-2",3,"ngbPopover","routerLink","routerLinkActiveOptions"],["name","edit",1,"icon","edit"]],template:function(e,t){1&e&&(d.bc(0,"div",0),d.Wc(1,pe,1,0,"app-loader",1),d.Wc(2,ve,56,30,"div",2),d.ac()),2&e&&(d.Hb(1),d.zc("ngIf",!t.isEntryDataLoaded),d.Hb(1),d.zc("ngIf",t.isEntryDataLoaded))},directives:[n.l,h.a,w.b,v.d,v.l,v.o,p.b,i.e,i.d,w.d,n.j,n.k,m.a,ae.c],pipes:[n.t,x.a,x.e],styles:[""]}),Se),ke=((Ce=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275cmp=d.Qb({type:Ce,selectors:[["app-staff-payroll"]],decls:2,vars:0,template:function(e,t){1&e&&(d.bc(0,"p"),d.Yc(1," staff-payroll works!\n"),d.ac())},styles:[""]}),Ce),Pe=((Ie=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275cmp=d.Qb({type:Ie,selectors:[["app-staff-overtime"]],decls:2,vars:0,template:function(e,t){1&e&&(d.bc(0,"p"),d.Yc(1," staff-overtime works!\n"),d.ac())},styles:[""]}),Ie),Te=((ye=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=d.Qb({type:ye,selectors:[["app-staff-reports"]],decls:2,vars:0,template:function(e,t){1&e&&(d.bc(0,"p"),d.Yc(1," staff-reports works!\n"),d.ac())},styles:[""]}),ye);function Le(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Add Staff"),d.ac())}function Oe(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Edit Staff"),d.ac())}function De(e,t){1&e&&d.Xb(0,"app-loader")}function we(e,t){if(1&e){var a=d.cc();d.bc(0,"div",18),d.bc(1,"div",19),d.bc(2,"label"),d.Yc(3,"Password*"),d.ac(),d.bc(4,"input",84),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).staff.password=e})),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc(2);d.Hb(4),d.zc("ngModel",n.staff.password)}}function He(e,t){if(1&e&&(d.bc(0,"option"),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.Hb(1),d.Zc(a.lookupValueName)}}function xe(e,t){if(1&e&&(d.bc(0,"option"),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.Hb(1),d.Zc(a.lookupValueName)}}function ze(e,t){if(1&e){var a=d.cc();d.bc(0,"div",18),d.bc(1,"div",32),d.bc(2,"label"),d.Yc(3,"Vendor Name*"),d.ac(),d.bc(4,"select",85),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).staff.vendorId=e})),d.bc(5,"option",34),d.Yc(6,"Select"),d.ac(),d.Wc(7,xe,2,1,"option",35),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc(2);d.Hb(4),d.zc("ngModel",n.staff.vendorId),d.Hb(3),d.zc("ngForOf",n.vendorNameList)}}function Ne(e,t){if(1&e){var a=d.cc();d.bc(0,"div"),d.bc(1,"span",87),d.Yc(2),d.ac(),d.bc(3,"span",88),d.Yc(4),d.ac(),d.bc(5,"i-feather",89),d.nc("click",(function(){d.Pc(a);var e=t.index;return d.rc(3).deletePhoto(e)})),d.ac(),d.ac()}if(2&e){var n=t.$implicit,i=d.rc(3);d.Hb(2),d.Zc(n.name),d.Hb(2),d.Zc(i.bytesToSize(n.size))}}function Ee(e,t){if(1&e&&(d.bc(0,"div",86),d.Wc(1,Ne,6,2,"div",35),d.ac()),2&e){var a=d.rc(2);d.Hb(1),d.zc("ngForOf",a.listOfPhotos)}}function Fe(e,t){if(1&e){var a=d.cc();d.bc(0,"div"),d.bc(1,"span",87),d.Yc(2),d.ac(),d.bc(3,"span",88),d.Yc(4),d.ac(),d.bc(5,"i-feather",89),d.nc("click",(function(){d.Pc(a);var e=t.index;return d.rc(3).deleteFile(e)})),d.ac(),d.ac()}if(2&e){var n=t.$implicit,i=d.rc(3);d.Hb(2),d.Zc(n.name),d.Hb(2),d.Zc(i.bytesToSize(n.size))}}function Ye(e,t){if(1&e&&(d.bc(0,"div",86),d.Wc(1,Fe,6,2,"div",35),d.ac()),2&e){var a=d.rc(2);d.Hb(1),d.zc("ngForOf",a.listOfFiles)}}function _e(e,t){if(1&e&&(d.bc(0,"option",90),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.lookupValueId),d.Hb(1),d.Zc(a.lookupValueName)}}function Ae(e,t){if(1&e&&(d.bc(0,"option",90),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.lookupValueId),d.Hb(1),d.Zc(a.lookupValueName)}}function Be(e,t){if(1&e){var a=d.cc();d.bc(0,"div",18),d.bc(1,"div",32),d.bc(2,"label"),d.Yc(3,"Sub Category*"),d.ac(),d.bc(4,"select",91),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).staff.staffSubCategoryId=e})),d.bc(5,"option",34),d.Yc(6,"Select"),d.ac(),d.Wc(7,Ae,2,2,"option",75),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc(2);d.Hb(4),d.zc("ngModel",n.staff.staffSubCategoryId),d.Hb(3),d.zc("ngForOf",n.staffCategoryData)}}function We(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"ul",13),d.bc(2,"li",14),d.Yc(3,"Personal Info"),d.ac(),d.bc(4,"div",15),d.bc(5,"div",16),d.bc(6,"div",17),d.bc(7,"div",18),d.bc(8,"div",19),d.bc(9,"label"),d.Yc(10,"First Name*"),d.ac(),d.bc(11,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.firstName=e})),d.ac(),d.ac(),d.ac(),d.bc(12,"div",18),d.bc(13,"div",19),d.bc(14,"label"),d.Yc(15,"Last Name*"),d.ac(),d.bc(16,"input",21),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.lastName=e})),d.ac(),d.ac(),d.ac(),d.Wc(17,we,5,1,"div",22),d.bc(18,"div",18),d.bc(19,"div",19),d.bc(20,"label"),d.Yc(21,"Date Of Birth"),d.ac(),d.bc(22,"input",23),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.dob=e})),d.ac(),d.Xb(23,"owl-date-time",24,25),d.bc(25,"div",26),d.Xb(26,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(27,"div",18),d.bc(28,"div",19),d.bc(29,"label"),d.Yc(30,"Address"),d.ac(),d.bc(31,"input",28),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.address=e})),d.ac(),d.ac(),d.ac(),d.bc(32,"div",18),d.bc(33,"div",19),d.bc(34,"label"),d.Yc(35,"Email*"),d.ac(),d.bc(36,"input",29),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.emailId=e})),d.ac(),d.ac(),d.ac(),d.bc(37,"div",18),d.bc(38,"div",19),d.bc(39,"label"),d.Yc(40,"Contact Number"),d.ac(),d.bc(41,"input",30),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.contactNumber=e})),d.ac(),d.ac(),d.ac(),d.bc(42,"div",18),d.bc(43,"div",19),d.bc(44,"label"),d.Yc(45,"Alternate Contact Number"),d.ac(),d.bc(46,"input",31),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.alternateContact=e})),d.ac(),d.ac(),d.ac(),d.bc(47,"div",18),d.bc(48,"div",32),d.bc(49,"label"),d.Yc(50,"Blood Group"),d.ac(),d.bc(51,"select",33),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.bloodGroup=e})),d.bc(52,"option",34),d.Yc(53,"Select"),d.ac(),d.Wc(54,He,2,1,"option",35),d.ac(),d.ac(),d.ac(),d.bc(55,"div",18),d.bc(56,"div",19),d.bc(57,"label"),d.Yc(58,"Vehicle ID"),d.ac(),d.bc(59,"input",36),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.vehicleId=e})),d.ac(),d.ac(),d.ac(),d.bc(60,"div",18),d.bc(61,"div",37),d.bc(62,"label"),d.Yc(63,"Gender*"),d.ac(),d.bc(64,"div",38),d.bc(65,"input",39),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().genderType=e})),d.ac(),d.bc(66,"label",40),d.Yc(67,"Male"),d.ac(),d.ac(),d.bc(68,"div",38),d.bc(69,"input",41),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().genderType=e})),d.ac(),d.bc(70,"label",42),d.Yc(71,"Female"),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(72,"div",18),d.bc(73,"div",37),d.bc(74,"label"),d.Yc(75,"Is Vendor*"),d.ac(),d.bc(76,"div",38),d.bc(77,"input",43),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().vendorType=e})),d.ac(),d.bc(78,"label",44),d.Yc(79,"Yes"),d.ac(),d.ac(),d.bc(80,"div",38),d.bc(81,"input",45),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().vendorType=e})),d.ac(),d.bc(82,"label",46),d.Yc(83,"No"),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(84,ze,8,2,"div",22),d.bc(85,"div",47),d.bc(86,"div",19),d.bc(87,"label"),d.Yc(88,"Health Issue Notes ( 35 characters)"),d.ac(),d.bc(89,"textarea",48),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.healthIssue=e})),d.ac(),d.ac(),d.ac(),d.bc(90,"div",47),d.bc(91,"div",19),d.bc(92,"label"),d.Yc(93,"Comments"),d.ac(),d.bc(94,"textarea",49),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.comments=e})),d.ac(),d.ac(),d.ac(),d.bc(95,"div",50),d.bc(96,"div",19),d.bc(97,"label",51),d.nc("click",(function(){return d.Pc(a),d.Mc(99).click()})),d.bc(98,"input",52,53),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.file=e}))("change",(function(e){return d.Pc(a),d.rc().uploadPhoto(e)})),d.ac(),d.Xb(100,"i",54),d.Yc(101," Upload Photo"),d.ac(),d.Wc(102,Ee,2,1,"div",55),d.ac(),d.ac(),d.bc(103,"div",50),d.bc(104,"div",19),d.bc(105,"label",56),d.nc("click",(function(){return d.Pc(a),d.Mc(107).click()})),d.bc(106,"input",57,58),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.multifile=e}))("change",(function(e){return d.Pc(a),d.rc().uploadFile(e)})),d.ac(),d.Xb(108,"i",54),d.Yc(109," Upload ID Card Docs"),d.ac(),d.Wc(110,Ye,2,1,"div",55),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(111,"li",59),d.Yc(112,"Salary & Leave"),d.ac(),d.bc(113,"div",60),d.bc(114,"div",16),d.bc(115,"div",17),d.bc(116,"div",18),d.bc(117,"div",19),d.bc(118,"label"),d.Yc(119,"Base Pay*"),d.ac(),d.bc(120,"input",61),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.basePay=e})),d.ac(),d.ac(),d.ac(),d.bc(121,"div",18),d.bc(122,"div",19),d.bc(123,"label"),d.Yc(124,"Allowance 1"),d.ac(),d.bc(125,"input",62),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.allowance1=e})),d.ac(),d.ac(),d.ac(),d.bc(126,"div",18),d.bc(127,"div",19),d.bc(128,"label"),d.Yc(129,"Allowance 2"),d.ac(),d.bc(130,"input",63),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.allowance2=e})),d.ac(),d.ac(),d.ac(),d.bc(131,"div",18),d.bc(132,"div",19),d.bc(133,"label"),d.Yc(134,"Allowance 3"),d.ac(),d.bc(135,"input",64),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.allowance3=e})),d.ac(),d.ac(),d.ac(),d.bc(136,"div",18),d.bc(137,"div",19),d.bc(138,"label"),d.Yc(139,"Overtime Pay Per Hour"),d.ac(),d.bc(140,"input",65),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.overtimePayperhour=e})),d.ac(),d.ac(),d.ac(),d.bc(141,"div",18),d.bc(142,"div",19),d.bc(143,"label"),d.Yc(144,"Deduction 1"),d.ac(),d.bc(145,"input",66),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.deduction1=e})),d.ac(),d.ac(),d.ac(),d.bc(146,"div",18),d.bc(147,"div",19),d.bc(148,"label"),d.Yc(149,"Deduction 2"),d.ac(),d.bc(150,"input",67),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.deduction2=e})),d.ac(),d.ac(),d.ac(),d.bc(151,"div",18),d.bc(152,"div",19),d.bc(153,"label"),d.Yc(154,"Deduction 3"),d.ac(),d.bc(155,"input",68),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.deduction3=e})),d.ac(),d.ac(),d.ac(),d.bc(156,"div",18),d.bc(157,"div",19),d.bc(158,"label"),d.Yc(159,"Salary Per Day"),d.ac(),d.bc(160,"input",69),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.perDaySalary=e})),d.ac(),d.ac(),d.ac(),d.bc(161,"div",18),d.bc(162,"div",19),d.bc(163,"label"),d.Yc(164,"Vacation Leave Days"),d.ac(),d.bc(165,"input",70),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.vacationLeaveDays=e})),d.ac(),d.ac(),d.ac(),d.bc(166,"div",18),d.bc(167,"div",19),d.bc(168,"label"),d.Yc(169,"Sick Leave Days"),d.ac(),d.bc(170,"input",71),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.sickLeaveDays=e})),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(171,"li",72),d.Yc(172,"Work Information"),d.ac(),d.bc(173,"div",73),d.bc(174,"div",16),d.bc(175,"div",17),d.bc(176,"div",18),d.bc(177,"div",32),d.bc(178,"label"),d.Yc(179,"Category*"),d.ac(),d.bc(180,"select",74),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.staffCategoryId=e}))("ngModelChange",(function(){d.Pc(a);var e=d.rc();return e.getStaffType(e.staff.staffCategoryId)})),d.bc(181,"option",34),d.Yc(182,"Select"),d.ac(),d.Wc(183,_e,2,2,"option",75),d.ac(),d.ac(),d.ac(),d.Wc(184,Be,8,2,"div",22),d.bc(185,"div",18),d.bc(186,"div",19),d.bc(187,"label"),d.Yc(188,"Job Start Date"),d.ac(),d.bc(189,"input",76),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.jobStartDate=e})),d.ac(),d.Xb(190,"owl-date-time",24,77),d.bc(192,"div",26),d.Xb(193,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(194,"div",18),d.bc(195,"div",19),d.bc(196,"label"),d.Yc(197,"Job End Date"),d.ac(),d.bc(198,"input",78),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.jobEndDate=e})),d.ac(),d.Xb(199,"owl-date-time",24,79),d.bc(201,"div",26),d.Xb(202,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(203,"div",18),d.bc(204,"div",19),d.bc(205,"label"),d.Yc(206,"Planned Entry Time"),d.ac(),d.bc(207,"input",80),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.plannedEntryTime=e})),d.ac(),d.Xb(208,"owl-date-time",null,81),d.bc(210,"div",26),d.Xb(211,"i-feather",27),d.ac(),d.ac(),d.ac(),d.bc(212,"div",18),d.bc(213,"div",19),d.bc(214,"label"),d.Yc(215,"Planned Exit Time"),d.ac(),d.bc(216,"input",82),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().staff.plannedExitTime=e})),d.ac(),d.Xb(217,"owl-date-time",null,83),d.bc(219,"div",26),d.Xb(220,"i-feather",27),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=d.Mc(24),i=d.Mc(191),c=d.Mc(200),r=d.Mc(209),o=d.Mc(218),s=d.rc();d.Hb(11),d.zc("ngModel",s.staff.firstName),d.Hb(5),d.zc("ngModel",s.staff.lastName),d.Hb(1),d.zc("ngIf",!s.isEditStaff),d.Hb(5),d.zc("owlDateTime",n)("owlDateTimeTrigger",n)("ngModel",s.staff.dob),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",n),d.Hb(6),d.zc("ngModel",s.staff.address),d.Hb(5),d.zc("ngModel",s.staff.emailId),d.Hb(5),d.zc("ngModel",s.staff.contactNumber),d.Hb(5),d.zc("ngModel",s.staff.alternateContact),d.Hb(5),d.zc("ngModel",s.staff.bloodGroup),d.Hb(3),d.zc("ngForOf",s.bloodGroupData),d.Hb(5),d.zc("ngModel",s.staff.vehicleId),d.Hb(6),d.zc("ngModel",s.genderType),d.Hb(4),d.zc("ngModel",s.genderType),d.Hb(8),d.zc("ngModel",s.vendorType),d.Hb(4),d.zc("ngModel",s.vendorType),d.Hb(3),d.zc("ngIf",s.isVendor()),d.Hb(5),d.zc("ngModel",s.staff.healthIssue),d.Hb(5),d.zc("ngModel",s.staff.comments),d.Hb(4),d.zc("ngModel",s.staff.file),d.Hb(4),d.zc("ngIf",s.isPhotoAdded),d.Hb(4),d.zc("ngModel",s.staff.multifile),d.Hb(4),d.zc("ngIf",s.isFileAdded),d.Hb(10),d.zc("ngModel",s.staff.basePay),d.Hb(5),d.zc("ngModel",s.staff.allowance1),d.Hb(5),d.zc("ngModel",s.staff.allowance2),d.Hb(5),d.zc("ngModel",s.staff.allowance3),d.Hb(5),d.zc("ngModel",s.staff.overtimePayperhour),d.Hb(5),d.zc("ngModel",s.staff.deduction1),d.Hb(5),d.zc("ngModel",s.staff.deduction2),d.Hb(5),d.zc("ngModel",s.staff.deduction3),d.Hb(5),d.zc("ngModel",s.staff.perDaySalary),d.Hb(5),d.zc("ngModel",s.staff.vacationLeaveDays),d.Hb(5),d.zc("ngModel",s.staff.sickLeaveDays),d.Hb(10),d.zc("ngModel",s.staff.staffCategoryId),d.Hb(3),d.zc("ngForOf",s.staffTypeData),d.Hb(1),d.zc("ngIf",s.isCategoryEnabled()),d.Hb(5),d.zc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",s.staff.jobStartDate),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",i),d.Hb(6),d.zc("owlDateTime",c)("owlDateTimeTrigger",c)("ngModel",s.staff.jobEndDate),d.Hb(1),d.zc("pickerType","calendar"),d.Hb(2),d.zc("owlDateTimeTrigger",c),d.Hb(6),d.zc("owlDateTime",r)("owlDateTimeTrigger",r)("ngModel",s.staff.plannedEntryTime),d.Hb(3),d.zc("owlDateTimeTrigger",r),d.Hb(6),d.zc("owlDateTime",o)("owlDateTimeTrigger",o)("ngModel",s.staff.plannedExitTime),d.Hb(3),d.zc("owlDateTimeTrigger",o)}}function Ve(e,t){if(1&e&&(d.bc(0,"div",17),d.bc(1,"div",92),d.bc(2,"ul",93),d.bc(3,"li",94),d.bc(4,"button",95),d.Yc(5,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&e){d.rc();var a=d.Mc(2);d.Hb(4),d.zc("disabled",a.invalid)}}var Ge,Xe=function(){return{exact:!0}},Ze=((Ge=function(){function e(t,a,n,i,c,r,o){_classCallCheck(this,e),this.router=t,this.route=a,this.userService=n,this.staffService=i,this.lookupService=c,this.sharedService=r,this.cookieService=o,this.isEditStaff=!1,this.isStaffSubmitted=!1,this.isStaffAdded=!1,this.isStaffError=!1,this.isStaffSuccess=!1,this.alertStaffMessage="",this.vendorType="",this.isTypeSelected=!1,this.isFileAdded=!1,this.fileList=[],this.listOfFiles=[],this.isPhotoAdded=!1,this.photoList=[],this.listOfPhotos=[],this.userId=null,this.staffId=null,this.genderType=null,this.outputParams=new d.o}return _createClass(e,[{key:"isArrayOne",value:function(){return this.staffArray.length>1}},{key:"deleteStaff",value:function(){this.staffArray.splice(this.index,1),this.outputParams.emit(this.staffArray)}},{key:"uploadFile",value:function(e){this.isFileAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var a=e.target.files[t];this.fileList.push(a),this.listOfFiles.push({name:a.name,size:a.size})}}},{key:"deleteFile",value:function(e){this.listOfFiles.splice(e,1),this.fileList.splice(e,1),this.selectedFile=null,0==this.fileList.length&&0==this.listOfFiles.length&&(this.isFileAdded=!1)}},{key:"uploadPhoto",value:function(e){this.isPhotoAdded=!0;for(var t=0;t<=e.target.files.length-1;t++){var a=e.target.files[t];this.photoList.push(a),this.listOfPhotos.push({name:a.name,size:a.size})}}},{key:"deletePhoto",value:function(e){this.listOfPhotos.splice(e,1),this.photoList.splice(e,1),this.selectedPhoto=null,0==this.photoList.length&&0==this.listOfPhotos.length&&(this.isPhotoAdded=!1)}},{key:"bytesToSize",value:function(e){return e<1024?e+" Bytes":e<1048576?(e/1024).toFixed(3)+" KB":e<1073741824?(e/1048576).toFixed(3)+" MB":(e/1073741824).toFixed(3)+" GB"}},{key:"isCategoryEnabled",value:function(){return!!this.isEditStaff||!!this.isTypeSelected}},{key:"getStaffType",value:function(e){var t=this;this.isTypeSelected=!0,"115"==e?this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(e){t.staffCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){})):this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(e){t.staffCategoryData=e.filter((function(e){return e.isActive}))}),(function(e){}))}},{key:"isVendor",value:function(){return"Yes"==this.vendorType}},{key:"submitAddStaffForm",value:function(e){var t=this;if(this.isStaffSubmitted=!0,this.isStaffError=!1,this.isEditStaff){this.isStaffSubmitted=!0,this.isStaffError=!1;var a={userId:this.userId,apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:0,updatedBy:parseInt(this.cookieService.get("userId"))};this.userService.UpdateUser(a).subscribe((function(e){if(e.message){var a={staffId:t.route.params.value.id,apartmentId:parseInt(t.cookieService.get("apartmentId")),userId:t.userId,firstName:t.staff.firstName,middleName:"string",lastName:t.staff.lastName,emailId:t.staff.emailId,contactNumber:t.staff.contactNumber.toString(),alternateContact:t.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(t.staff.staffCategoryId),staffSubCategoryId:parseInt(t.staff.staffSubCategoryId),dob:t.staff.dob,genderId:parseInt(t.genderType),bloodGroup:t.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:t.staff.healthIssue,comments:t.staff.comments,plannedEntryTime:t.staff.plannedEntryTime,plannedExitTime:t.staff.plannedExitTime,jobStartDate:t.staff.jobStartDate,jobEndDate:t.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(t.staff.vacationLeaveDays),sickLeaveDays:parseInt(t.staff.sickLeaveDays),basePay:t.staff.basePay,overtimePayperhour:t.staff.overtimePayperhour,allowance1:t.staff.allowance1,allowance2:t.staff.allowance2,allowance3:t.staff.allowance3,deduction1:t.staff.deduction1,deduction2:t.staff.deduction2,deduction3:t.staff.deduction3,perDaySalary:t.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(t.staff.staffSubCategoryId),isActive:!0,insertedBy:0,insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(t.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};t.staffService.updateStaff(a).subscribe((function(e){t.isStaffSubmitted=!1,e.message?(t.sharedService.setAlertMessage("Staff updated successfully"),t.router.navigate(["ams/staff/maintain-staff"])):(t.isStaffError=!0,t.alertStaffMessage=e.alertTicketMessage)}),(function(a){t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}else t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}else{var n={apartmentId:parseInt(this.cookieService.get("apartmentId")),firstName:this.staff.firstName,middleName:"string",lastName:this.staff.lastName,emailId:this.staff.emailId,password:this.staff.password,salt:null,address1:this.staff.address||"",address2:"string",city:"string",state:"string",country:"string",zipCode:"string",genderId:parseInt(this.genderType),dob:this.staff.dob,joinedOn:"2019-11-10T09:58:08.934Z",bloodGroup:this.staff.bloodGroup,phoneNumber:this.staff.contactNumber.toString(),emergencyContactNumber:"string",emergencyContactPerson:"string",emergencyContactNumberSecondary:"string",emergencyContactPersonSecondary:"string",accessCardNumber:"string",notes:"string",profilePictureId:null,isLiving:!0,isActive:!0,isApproved:!0,resetPassword:!0,insertedBy:parseInt(this.cookieService.get("userId")),updatedBy:0};this.userService.addUser(n).subscribe((function(e){if(e.message){t.userId=e.message;var a={userId:t.userId,roleId:5,isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-10T10:00:28.212Z",updatedBy:0,updatedOn:"2019-11-10T10:00:28.212Z"};t.userService.addUserRole(a).subscribe((function(e){if(e.message){var a={apartmentId:parseInt(t.cookieService.get("apartmentId")),userId:t.userId,firstName:t.staff.firstName,middleName:"string",lastName:t.staff.lastName,emailId:t.staff.emailId,contactNumber:t.staff.contactNumber.toString(),alternateContact:t.staff.alternateContact.toString(),staffNumber:null,staffCategoryId:parseInt(t.staff.staffCategoryId),staffSubCategoryId:parseInt(t.staff.staffSubCategoryId),dob:t.staff.dob,genderId:parseInt(t.genderType),bloodGroup:t.staff.bloodGroup,vendorId:null,vehicleId:null,healthIssue:t.staff.healthIssue,comments:t.staff.comments,plannedEntryTime:t.staff.plannedEntryTime,plannedExitTime:t.staff.plannedExitTime,jobStartDate:t.staff.jobStartDate,jobEndDate:t.staff.jobEndDate,mtwtfss:"string",photoId:4,idcardImg1:null,idcardImg2:null,vacationLeaveDays:parseInt(t.staff.vacationLeaveDays),sickLeaveDays:parseInt(t.staff.sickLeaveDays),basePay:t.staff.basePay,overtimePayperhour:t.staff.overtimePayperhour,allowance1:t.staff.allowance1,allowance2:t.staff.allowance2,allowance3:t.staff.allowance3,deduction1:t.staff.deduction1,deduction2:t.staff.deduction2,deduction3:t.staff.deduction3,perDaySalary:t.staff.perDaySalary,shiftId:null,jobTitleId:parseInt(t.staff.staffSubCategoryId),isActive:!0,insertedBy:parseInt(t.cookieService.get("userId")),insertedOn:"2019-11-30T12:41:45.620Z",updatedBy:parseInt(t.cookieService.get("userId")),updatedOn:"2019-11-30T12:41:45.620Z"};t.staffService.addStaff(a).subscribe((function(e){t.isStaffSubmitted=!1,e.message?(t.sharedService.setAlertMessage("Staff added successfully"),t.router.navigate(["ams/staff/maintain-staff"])):(t.isStaffError=!0,t.alertStaffMessage=e.alertTicketMessage)}),(function(a){t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}))}}),(function(e){console.log(e)}))}else t.isStaffSubmitted=!1,t.isStaffError=!0,t.alertStaffMessage=e.errorMessage}),(function(e){}))}}},{key:"ngOnInit",value:function(){var e=this;this.staff={},this.staff.bloodGroup="",this.staff.staffCategoryId="",this.staff.staffSubCategoryId="",this.staff.contactNumber="",this.staff.alternateContact="",null!=this.route.params.value.id&&(this.isEditStaff=!0,this.isStaffAdded=!0,this.staffId=this.route.params.value.id,this.staffService.getStaffByStaffId(this.route.params.value.id).subscribe((function(t){e.staff=t[0],e.userId=e.staff.userId,e.genderType=e.staff.genderId.toString(),e.getStaffType(e.staff.staffCategoryId)}),(function(e){}))),this.lookupService.getLookupValueByLookupTypeId(24).subscribe((function(t){e.bloodGroupData=t})),this.lookupService.getLookupValueByLookupTypeId(25).subscribe((function(t){e.staffTypeData=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.staffCategoryData=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||Ge)(d.Wb(i.c),d.Wb(i.a),d.Wb(c.a),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},Ge.\u0275cmp=d.Qb({type:Ge,selectors:[["app-add-staff"]],inputs:{index:"index",staffArray:["array","staffArray"]},outputs:{outputParams:"outputParams"},decls:17,vars:10,consts:[[1,"staff-add-staff-wrapper"],["name","addStaffForm","novalidate","",3,"ngSubmit"],["addStaffForm","ngForm"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/maintain-staff","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["id","accordion",1,"card-body","p-0"],[3,"message","isError","isSuccess"],["class","row",4,"ngIf"],[1,"list-group","tabs","clear"],["data-toggle","collapse","data-target","#staffCollapseOne","aria-expanded","true","aria-controls","CollapseOne",1,"list-group-item"],["id","staffCollapseOne","aria-labelledby","CollapseOne","data-parent","#accordion",1,"collapse","show"],[1,"details"],[1,"row"],[1,"col-sm-4"],[1,"input-box"],["type","text","placeholder","Enter value","name","firstName","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter value","name","lastName","required","",1,"form-control",3,"ngModel","ngModelChange"],["class","col-sm-4",4,"ngIf"],["name","staffDOB","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],[3,"pickerType"],["staffDOB",""],[1,"date-btn",3,"owlDateTimeTrigger"],["name","calendar","width","18",1,"icon","date","float-left"],["type","text","placeholder","Enter value","name","address",1,"form-control",3,"ngModel","ngModelChange"],["type","email","placeholder","Enter value","name","staffEmail","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","contactNumber",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","alternateContact",1,"form-control",3,"ngModel","ngModelChange"],[1,"select-box"],["name","bloodGroup","id","bloodGroup",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[4,"ngFor","ngForOf"],["type","text","placeholder","Enter value","name","staffVehicleId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","genderType","id","male","value","43","type","radio","required","",3,"ngModel","ngModelChange"],["for","male",1,"radio-inline"],["name","genderType","id","female","value","44","type","radio","required","",3,"ngModel","ngModelChange"],["for","female",1,"radio-inline"],["name","vendorType","id","Yes","value","Yes","type","radio",3,"ngModel","ngModelChange"],["for","Yes",1,"radio-inline"],["name","vendorType","id","No","value","No","type","radio",3,"ngModel","ngModelChange"],["for","No",1,"radio-inline"],[1,"col-sm-6"],["placeholder","some text here","name","healthIssue",3,"ngModel","ngModelChange"],["placeholder","some text here","name","staffComments",3,"ngModel","ngModelChange"],[1,"col-sm-3"],["for","my-photo-selector",1,"btn","sf","lime-green",3,"click"],["type","file",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderPhoto",""],["aria-hidden","true",1,"fa","fa-paperclip","mr-2"],["class","file-desp",4,"ngIf"],["for","my-file-selector",1,"btn","sf","lime-green",3,"click"],["type","file","multiple","",1,"form-control",3,"ngModel","ngModelChange","change"],["uploaderFile",""],["data-toggle","collapse","data-target","#staffCollapseTwo","aria-expanded","true","aria-controls","CollapseTwo",1,"list-group-item","collapsed"],["id","staffCollapseTwo","aria-labelledby","CollapseTwo","data-parent","#accordion",1,"collapse"],["type","number","OnlyNumber","true","placeholder","Enter value","name","basePay","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","allowance3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","overtimePayperhour",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction1",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction2",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","deduction3",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","perDaySalary",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","vacationLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["type","number","OnlyNumber","true","placeholder","Enter value","name","sickLeaveDays",1,"form-control",3,"ngModel","ngModelChange"],["data-toggle","collapse","data-target","#staffCollapseThree","aria-expanded","true","aria-controls","CollapseThree",1,"list-group-item","collapsed"],["id","staffCollapseThree","aria-labelledby","CollapseThree","data-parent","#accordion",1,"collapse"],["name","staffCategory","id","staffCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","jobStartDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobStartDate",""],["name","jobEndDate","placeholder","Date",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["jobEndDate",""],["name","plannedEntryTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedEntryTime",""],["name","plannedExitTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["plannedExitTime",""],["type","password","placeholder","Enter value","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","vendorName","id","vendorName",1,"form-control",3,"ngModel","ngModelChange"],[1,"file-desp"],[1,"name","mr-3"],[1,"size"],["name","x",1,"icon","del",3,"click"],[3,"value"],["name","staffSubCategory","id","staffSubCategory","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"]],template:function(e,t){if(1&e){var a=d.cc();d.bc(0,"div",0),d.bc(1,"form",1,2),d.nc("ngSubmit",(function(){d.Pc(a);var e=d.Mc(2);return t.submitAddStaffForm(e)})),d.bc(3,"div",3),d.bc(4,"div",4),d.bc(5,"div",5),d.bc(6,"h5"),d.Wc(7,Le,2,0,"span",6),d.Wc(8,Oe,2,0,"span",6),d.ac(),d.ac(),d.bc(9,"div",7),d.bc(10,"a",8),d.Xb(11,"i-feather",9),d.ac(),d.ac(),d.ac(),d.bc(12,"div",10),d.Xb(13,"app-alert-message",11),d.Wc(14,De,1,0,"app-loader",6),d.Wc(15,We,221,58,"ng-container",6),d.ac(),d.ac(),d.Wc(16,Ve,6,1,"div",12),d.ac(),d.ac()}2&e&&(d.Hb(7),d.zc("ngIf",!t.isEditStaff),d.Hb(1),d.zc("ngIf",t.isEditStaff),d.Hb(2),d.zc("routerLinkActiveOptions",d.Fc(9,Xe)),d.Hb(3),d.zc("message",t.alertStaffMessage)("isError",t.isStaffError)("isSuccess",t.isStaffSuccess),d.Hb(1),d.zc("ngIf",t.isStaffSubmitted),d.Hb(1),d.zc("ngIf",!t.isStaffSubmitted),d.Hb(1),d.zc("ngIf",!t.isStaffSubmitted))},directives:[v.z,v.m,v.n,n.l,i.e,i.d,p.b,b.a,h.a,v.d,v.v,v.l,v.o,H.c,H.e,H.b,v.q,w.a,v.w,v.p,v.y,n.k,v.s],styles:[""]}),Ge);function je(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Add Entry"),d.ac())}function Ue(e,t){1&e&&(d.bc(0,"span"),d.Yc(1,"Edit Entry"),d.ac())}function qe(e,t){1&e&&d.Xb(0,"app-loader")}function $e(e,t){if(1&e&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.staffId),d.Hb(1),d.Zc(a.firstName)}}function Re(e,t){if(1&e){var a=d.cc();d.bc(0,"i-feather",43),d.nc("click",(function(){return d.Pc(a),d.rc(2).entry.inTime=""})),d.ac()}}function Qe(e,t){if(1&e){var a=d.cc();d.bc(0,"i-feather",43),d.nc("click",(function(){return d.Pc(a),d.rc(2).entry.outTime=""})),d.ac()}}function Je(e,t){if(1&e&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.gateId),d.Hb(1),d.Zc(a.gateName)}}function Ke(e,t){if(1&e&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.gateId),d.Hb(1),d.Zc(a.gateName)}}function et(e,t){if(1&e&&(d.bc(0,"option",42),d.Yc(1),d.ac()),2&e){var a=t.$implicit;d.zc("value",a.shiftId),d.Hb(1),d.Zc(a.startTime)}}function tt(e,t){if(1&e){var a=d.cc();d.bc(0,"div",13),d.bc(1,"div",14),d.bc(2,"label"),d.Yc(3,"Start Time*"),d.ac(),d.bc(4,"select",44),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc(2).entry.shiftId=e})),d.bc(5,"option",16),d.Yc(6,"Select"),d.ac(),d.Wc(7,et,2,2,"option",17),d.ac(),d.ac(),d.ac()}if(2&e){var n=d.rc(2);d.Hb(4),d.zc("ngModel",n.entry.shiftId),d.Hb(3),d.zc("ngForOf",n.shiftsFilteredDataList)}}function at(e,t){if(1&e){var a=d.cc();d.Zb(0),d.bc(1,"div",12),d.bc(2,"div",13),d.bc(3,"div",14),d.bc(4,"label"),d.Yc(5,"Name*"),d.ac(),d.bc(6,"select",15),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.staffId=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().getStaffJobTitle()})),d.bc(7,"option",16),d.Yc(8,"Select"),d.ac(),d.Wc(9,$e,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(10,"div",13),d.bc(11,"div",18),d.bc(12,"label"),d.Yc(13,"Job title*"),d.ac(),d.bc(14,"input",19),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.jobTitle=e})),d.ac(),d.ac(),d.ac(),d.bc(15,"div",13),d.bc(16,"div",18),d.bc(17,"label"),d.Yc(18,"In-time*"),d.ac(),d.bc(19,"input",20),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.inTime=e})),d.ac(),d.Xb(20,"owl-date-time",null,21),d.bc(22,"div",22),d.Wc(23,Re,1,0,"i-feather",23),d.Xb(24,"i-feather",24),d.ac(),d.ac(),d.ac(),d.bc(25,"div",13),d.bc(26,"div",18),d.bc(27,"label"),d.Yc(28,"Out-time"),d.ac(),d.bc(29,"input",25),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.outTime=e})),d.ac(),d.Xb(30,"owl-date-time",null,26),d.bc(32,"div",22),d.Wc(33,Qe,1,0,"i-feather",23),d.Xb(34,"i-feather",24),d.ac(),d.ac(),d.ac(),d.bc(35,"div",13),d.bc(36,"div",14),d.bc(37,"label"),d.Yc(38,"In Gate*"),d.ac(),d.bc(39,"select",27),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.inGateId=e})),d.bc(40,"option",16),d.Yc(41,"Select"),d.ac(),d.Wc(42,Je,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(43,"div",13),d.bc(44,"div",14),d.bc(45,"label"),d.Yc(46,"Out Gate*"),d.ac(),d.bc(47,"select",28),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entry.outGateId=e})),d.bc(48,"option",16),d.Yc(49,"Select"),d.ac(),d.Wc(50,Ke,2,2,"option",17),d.ac(),d.ac(),d.ac(),d.bc(51,"div",13),d.bc(52,"div",29),d.bc(53,"label"),d.Yc(54,"shift Type*"),d.ac(),d.bc(55,"div",30),d.bc(56,"input",31),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().shiftType=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().getShifts()})),d.ac(),d.bc(57,"label",32),d.Yc(58,"Morning"),d.ac(),d.ac(),d.bc(59,"div",30),d.bc(60,"input",33),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().shiftType=e}))("ngModelChange",(function(){return d.Pc(a),d.rc().getShifts()})),d.ac(),d.bc(61,"label",34),d.Yc(62,"Night"),d.ac(),d.ac(),d.ac(),d.ac(),d.Wc(63,tt,8,2,"div",35),d.bc(64,"div",36),d.bc(65,"div",18),d.bc(66,"label"),d.Yc(67,"Comments"),d.ac(),d.bc(68,"textarea",37),d.nc("ngModelChange",(function(e){return d.Pc(a),d.rc().entryComments=e})),d.ac(),d.ac(),d.ac(),d.bc(69,"div",38),d.bc(70,"ul",39),d.bc(71,"li",40),d.bc(72,"button",41),d.Yc(73,"Submit"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.Yb()}if(2&e){var n=d.Mc(21),i=d.Mc(31),c=d.rc(),r=d.Mc(11);d.Hb(6),d.zc("ngModel",c.entry.staffId),d.Hb(3),d.zc("ngForOf",c.staffDataList),d.Hb(5),d.zc("ngModel",c.entry.jobTitle),d.Hb(5),d.zc("owlDateTime",n)("owlDateTimeTrigger",n)("ngModel",c.entry.inTime),d.Hb(3),d.zc("owlDateTimeTrigger",n),d.Hb(1),d.zc("ngIf",""!=c.entry.inTime&&null!=c.entry.inTime),d.Hb(6),d.zc("owlDateTime",i)("owlDateTimeTrigger",i)("ngModel",c.entry.outTime),d.Hb(3),d.zc("owlDateTimeTrigger",i),d.Hb(1),d.zc("ngIf",""!=c.entry.outTime&&null!=c.entry.outTime),d.Hb(6),d.zc("ngModel",c.entry.inGateId),d.Hb(3),d.zc("ngForOf",c.gatesDataList),d.Hb(5),d.zc("ngModel",c.entry.outGateId),d.Hb(3),d.zc("ngForOf",c.gatesDataList),d.Hb(6),d.zc("ngModel",c.shiftType),d.Hb(4),d.zc("ngModel",c.shiftType),d.Hb(3),d.zc("ngIf",c.isShiftSelected()),d.Hb(5),d.zc("ngModel",c.entryComments),d.Hb(4),d.zc("disabled",r.invalid)}}var nt,it,ct,rt=function(){return{exact:!0}},ot=((nt=function(){function e(t,a,n,i,c,r){_classCallCheck(this,e),this.router=t,this.route=a,this.staffService=n,this.lookupService=i,this.sharedService=c,this.cookieService=r,this.isEditEntry=!1,this.isEntrySubmitted=!0,this.isEntryError=!1,this.isEntrySuccess=!1,this.alertEntryMessage="",this.shiftType="",this.jobTitle="",this.entryComments=""}return _createClass(e,[{key:"isAdmin",value:function(){return"Admin"==this.cookieService.get("userRole")||"Staff"==this.cookieService.get("userRole")}},{key:"isShiftSelected",value:function(){return""!=this.shiftType}},{key:"getShifts",value:function(){var e=this;this.shiftsFilteredDataList=this.shiftsDataList.filter((function(t){return t.shiftTypeId==e.shiftType}))}},{key:"getStaffJobTitle",value:function(){var e=this;this.staffService.getStaffByStaffId(this.entry.staffId).subscribe((function(t){if(e.selectedStaffCateogryId=t[0].staffCategoryId||null,e.selectedSubStaffCateogryId=t[0].staffSubCategoryId||null,null!=e.selectedStaffCateogryId)if(115==e.selectedStaffCateogryId){var a=e.officalStaffsDataList.filter((function(t){if(t.lookupValueId==e.selectedSubStaffCateogryId)return t.lookupValueName}));e.entry.jobTitle=void 0===a||0==a.length?"":a[0].lookupValueName}else{var n=e.personalStaffsDataList.filter((function(t){if(t.lookupValueId==e.selectedSubStaffCateogryId)return t.lookupValueName}));e.entry.jobTitle=void 0===n||0==n.length?"":n[0].lookupValueName}else e.entry.jobTitle=""}))}},{key:"submitEntryForm",value:function(e){var t=this;if(this.isEntrySubmitted=!1,this.isEditEntry){var a={attendanceId:parseInt(this.route.params.value.id),apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:0,insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:parseInt(this.cookieService.get("userId")),updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.updateAttendance(a).subscribe((function(e){e.message?(t.isEntrySubmitted=!0,t.sharedService.setAlertMessage("Entry updated successfully"),t.router.navigate(["ams/staff/attendance"])):(t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage=e.errorMessage)}),(function(e){t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage="Some error occured"}))}else{var n={apartmentId:parseInt(this.cookieService.get("apartmentId")),staffId:parseInt(this.entry.staffId),inTime:this.entry.inTime,inGateId:parseInt(this.entry.inGateId),outTime:this.entry.outTime,outGateId:parseInt(this.entry.outGateId),shiftId:parseInt(this.entry.shiftId),notes:this.entryComments,isActive:!0,insertedBy:parseInt(this.cookieService.get("userId")),insertedOn:"2019-12-04T05:43:41.299Z",updatedBy:0,updatedOn:"2019-12-04T05:43:41.299Z"};this.staffService.addAttendance(n).subscribe((function(e){e.message?(t.isEntrySubmitted=!0,t.sharedService.setAlertMessage("Entry added successfully"),t.router.navigate(["ams/staff/attendance"])):(t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage=e.errorMessage)}),(function(e){t.isEntrySubmitted=!0,t.isEntryError=!0,t.alertEntryMessage="Some error occured"}))}}},{key:"ngOnInit",value:function(){var e=this;this.entry={},this.entry.staffId="",this.entry.inGateId="",this.entry.outGateId="",this.entry.shiftId="",null!=this.route.params.value.id&&(this.isEditEntry=!0,this.attendanceId=this.route.params.value.id,this.staffService.getAttendanceByAttendanceId(this.route.params.value.id).subscribe((function(t){e.entry=t[0],e.getStaffJobTitle(),e.staffService.getShiftByShiftId(e.entry.shiftId).subscribe((function(t){e.shiftType=t[0].shiftTypeId.toString(),e.getShifts()}),(function(e){}))}),(function(e){}))),this.staffService.getAllStaffsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.staffDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.staffService.getAllGatesByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.gatesDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.staffService.getAllShiftsByApartmentId(parseInt(this.cookieService.get("apartmentId"))).subscribe((function(t){e.shiftsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(28).subscribe((function(t){e.shiftTypeList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(26).subscribe((function(t){e.officalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){})),this.lookupService.getLookupValueByLookupTypeId(27).subscribe((function(t){e.personalStaffsDataList=t.filter((function(e){return e.isActive}))}),(function(e){}))}}]),e}()).\u0275fac=function(e){return new(e||nt)(d.Wb(i.c),d.Wb(i.a),d.Wb(g.a),d.Wb(r.a),d.Wb(o.a),d.Wb(u.a))},nt.\u0275cmp=d.Qb({type:nt,selectors:[["app-add-entry"]],decls:16,vars:8,consts:[[1,"staff-add-entry-wrapper"],[1,"card","mb-30"],[1,"card-header"],[1,"float-left"],[4,"ngIf"],[1,"float-right"],["href","javascript:void(0)","routerLink","/ams/staff/attendance","routerLinkActive","active",3,"routerLinkActiveOptions"],["name","chevron-left",1,"icon","back"],["name","addEntryForm","novalidate","",3,"ngSubmit"],["addEntryForm","ngForm"],[1,"card-body"],[3,"message","isError"],[1,"row"],[1,"col-sm-4"],[1,"select-box"],["name","staffId","id","staffId","required","",1,"form-control",3,"ngModel","ngModelChange"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"input-box"],["type","text","placeholder","Enter text","name","ticketSubject","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","staffInTime","placeholder","Date Time","required","",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffInTime",""],[1,"date-btn",3,"owlDateTimeTrigger"],["class","icon del-c float-left mr-1","name","x-circle","width","18",3,"click",4,"ngIf"],["name","calendar","width","18",1,"icon","date","float-left"],["name","staffOutTime","placeholder","Date Time",1,"form-control",3,"owlDateTime","owlDateTimeTrigger","ngModel","ngModelChange"],["staffOutTime",""],["name","inGateId","id","inGateId","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","outGateId","id","outGateId",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-box","radio-box"],[1,"form-group"],["name","shiftType","id","Morning","value","127","type","radio","required","",3,"ngModel","ngModelChange"],["for","Morning",1,"radio-inline"],["name","shiftType","id","Night","value","128","type","radio","required","",3,"ngModel","ngModelChange"],["for","Night",1,"radio-inline"],["class","col-sm-4",4,"ngIf"],[1,"col-sm-6"],["placeholder","some text here","name","comments",3,"ngModel","ngModelChange"],[1,"col-sm-12"],[1,"list-inline","float-right","mt-4"],[1,"list-inline-item"],[1,"btn","blue","mr-2",3,"disabled"],[3,"value"],["name","x-circle","width","18",1,"icon","del-c","float-left","mr-1",3,"click"],["name","startTime","id","startTime","required","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(e,t){if(1&e){var a=d.cc();d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"h5"),d.Wc(5,je,2,0,"span",4),d.Wc(6,Ue,2,0,"span",4),d.ac(),d.ac(),d.bc(7,"div",5),d.bc(8,"a",6),d.Xb(9,"i-feather",7),d.ac(),d.ac(),d.ac(),d.bc(10,"form",8,9),d.nc("ngSubmit",(function(){d.Pc(a);var e=d.Mc(11);return t.submitEntryForm(e)})),d.bc(12,"div",10),d.Xb(13,"app-alert-message",11),d.Wc(14,qe,1,0,"app-loader",4),d.Wc(15,at,74,22,"ng-container",4),d.ac(),d.ac(),d.ac(),d.ac()}2&e&&(d.Hb(5),d.zc("ngIf",!t.isEditEntry),d.Hb(1),d.zc("ngIf",t.isEditEntry),d.Hb(2),d.zc("routerLinkActiveOptions",d.Fc(7,rt)),d.Hb(5),d.zc("message",t.alertEntryMessage)("isError",t.isEntryError),d.Hb(1),d.zc("ngIf",!t.isEntrySubmitted),d.Hb(1),d.zc("ngIf",t.isEntrySubmitted))},directives:[n.l,i.e,i.d,p.b,v.z,v.m,v.n,b.a,h.a,v.w,v.v,v.l,v.o,v.p,v.y,n.k,v.d,H.c,H.e,H.b,v.s],styles:[""]}),nt),st=[{path:"",redirectTo:"settings",pathMatch:"full"},{path:"settings",component:ee},{path:"maintain-staff",component:se},{path:"add-staff",component:Ze},{path:"edit-staff/:id",component:Ze},{path:"inactive-staff",component:ge},{path:"overtime",component:Pe},{path:"attendance",component:Me},{path:"add-entry",component:ot},{path:"edit-entry/:id",component:ot},{path:"payroll",component:ke},{path:"reports",component:Te},{path:"**",redirectTo:"settings",pathMatch:"full"}],lt=((it=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ub({type:it}),it.\u0275inj=d.Tb({factory:function(e){return new(e||it)},imports:[[i.f.forChild(st)],i.f]}),it),dt=a("PCNd"),ft=((ct=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ct)},ct.\u0275cmp=d.Qb({type:ct,selectors:[["app-staff-manager"]],decls:1,vars:0,template:function(e,t){1&e&&d.Xb(0,"router-outlet")},directives:[i.g],styles:[""]}),ct);a.d(t,"StaffManagerModule",(function(){return bt}));var ut,bt=((ut=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ub({type:ut,bootstrap:[ft]}),ut.\u0275inj=d.Tb({factory:function(e){return new(e||ut)},imports:[[n.b,dt.a,lt]]}),ut)},bvAq:function(e,t,a){"use strict";a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return u}));var n=a("F/us"),i=a("fXoL"),c=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return t?e.filter((function(e){for(var a in e)if(null!=e[a]&&-1!==e[a].toString().toLowerCase().indexOf(t.toLowerCase()))return!0;return!1})):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"simpleSearch",type:e,pure:!0}),e}(),r=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t,a){if(e)return e.filter((function(e){return null===e[a]||!e[a]||!t[a]||e[a].toString().toLowerCase().includes(t[a].toLowerCase())}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"columnSearch",type:e,pure:!1}),e}(),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){var a=this,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t&&""!=t.trim()?n?Array.from(e).sort((function(e,n){return a.orderByComparator(e[t],n[t])})):Array.from(e).sort((function(e,n){return a.orderByComparator(n[t],e[t])})):e}},{key:"orderByComparator",value:function(e,t){if(void 0===e||void 0===t||null==e||null==t)return 0;if(isNaN(parseFloat(e))||!isFinite(e)||isNaN(parseFloat(t))||!isFinite(t)){if(e.toLowerCase()<t.toLowerCase())return-1;if(e.toLowerCase()>t.toLowerCase())return 1}else{if(parseFloat(e)<parseFloat(t))return-1;if(parseFloat(e)>parseFloat(t))return 1}return 0}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"orderBy",type:e,pure:!0}),e}(),s=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t,a){var i=n.sortBy(e,(function(e){return e[t]}));return a||i.reverse(),i}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"sort",type:e,pure:!0}),e}(),l=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t,a){return e.slice(t,a)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"pager",type:e,pure:!0}),e}(),d=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return null!=e&&""!=e||null!=e?e:"NA"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"notAvail",type:e,pure:!0}),e}(),f=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return void 0===e||0==e.length?"NA":e[0][t]}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"isdefined",type:e,pure:!0}),e}(),u=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return null==e?"NA":e}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Vb({name:"notAvailNum",type:e,pure:!0}),e}()}}]);